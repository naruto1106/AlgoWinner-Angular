<section class="fundamental-panel">
    <h1 class="title-section">FUNDAMENTALS</h1>
    <div class="row-md-2 gap-20px">
        <div class="col-md-1" ng-repeat="barChartObj in vm.barChartsArr">
            <div class="white-box">
                <h1>{{barChartObj.name}}</h1>
                <div class="row">
                    <div class="col-100" style="float: right;">
                        <div>
                            <button ng-class="{'mini-filled-blue': barChartObj.selectedType === 'annualy', 'mini-hollow-blue': barChartObj.selectedType !== 'annualy'}" style="margin-right: 5px" ng-click="vm.setSelectedType($index, 'annualy')" class="mini-filled-blue">
                                Annualy
                            </button>
                            <button ng-class="{'mini-filled-blue': barChartObj.selectedType == 'quarter', 'mini-hollow-blue': barChartObj.selectedType !== 'quarter'}" style="margin-right: 5px" ng-click="vm.setSelectedType($index, 'quarter')" class="mini-hollow-blue">
                                Quarterly
                            </button>                    
                        </div>
                    </div>
                </div>
                <div class="h-30px"></div>
                <table border="1" class="bar-chart-table">
                    <tr ng-repeat="grothTableObj in barChartObj.grothTable">
                        <td>{{grothTableObj}}</td>
                    </tr>
                </table>
                <div id={{barChartObj.container}}></div>
            </div>
        </div>        
        <div class="clearfix"></div>
    </div>
    <div style="margin: 20px 5px;">
        <div>
            <button
                ng-class="{'mini-filled-blue': vm.selectedTable === 'income', 'mini-hollow-blue': vm.selectedTable != 'income'}"
                style="margin-right: 5px" ng-click="vm.setSelectedTable('income')">
                Income statement
            </button>
            <button
                ng-class="{'mini-filled-blue': vm.selectedTable === 'balance', 'mini-hollow-blue': vm.selectedTable != 'balance'}"
                style="margin-right: 5px" ng-click="vm.setSelectedTable('balance')">
                Balance sheet
            </button>
            <button
                ng-class="{'mini-filled-blue': vm.selectedTable === 'cash', 'mini-hollow-blue': vm.selectedTable != 'cash'}"
                style="margin-right: 5px" ng-click="vm.setSelectedTable('cash')">
                Cash flow
            </button>
            <button
                ng-class="{'mini-filled-blue': vm.selectedTable === 'stats', 'mini-hollow-blue': vm.selectedTable != 'stats'}"
                style="margin-right: 5px" ng-click="vm.setSelectedTable('stats')">
                Statistics
            </button>
        </div>
    </div>
    <div ng-if="vm.selectedTable === 'income'">
        <table class="table-large">
            <thead>
                <tr>
                    <td>Currency: {{vm.productDetail.Product.Currency}}</td>
                    <td ng-repeat="annualIncomeStatementTableHeading in vm.annualIncomeStatementTableData.headings">{{annualIncomeStatementTableHeading}}</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="annualIncomeStatementTableName in vm.annualIncomeStatementTableData.name">
                    <td ng-if="annualIncomeStatementTableName !== 'StatementDate'">{{vm.getFullNameFromKey(annualIncomeStatementTableName)}}</td>
                    <td ng-if="annualIncomeStatementTableName !== 'StatementDate'" ng-repeat="annualIncomeStatementTableData in vm.annualIncomeStatementTableData.data">
                        <div>{{annualIncomeStatementTableData[annualIncomeStatementTableName]|priceNumberFormatter}}</div>
                        <div ng-if="annualIncomeStatementTableData.StatementDate !== null" class="green-profit">+6.70%</div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div ng-if="vm.selectedTable === 'balance'">
        <table class="table-large">
            <thead>
                <td>Currency: {{vm.productDetail.Product.Currency}}</td>
                <td ng-repeat="annualBalanceSheetTableDataHeading in vm.annualBalanceSheetTableData.headings">{{annualBalanceSheetTableDataHeading}}</td>
            </thead>
            <tbody>
                <tr ng-repeat="annualBalanceSheetTableName in vm.annualBalanceSheetTableData.name" ng-if="annualBalanceSheetTableName !== 'StatementDate'">
                    <td >{{vm.getFullNameFromKey(annualBalanceSheetTableName)}}</td>
                    <td ng-repeat="annualBalanceSheetTableData in vm.annualBalanceSheetTableData.data">
                        <div>{{annualBalanceSheetTableData[annualBalanceSheetTableName]|priceNumberFormatter}}</div>
                        <div class="green-profit">+6.70%</div>
                    </td>
                </tr>                
            </tbody>
        </table>
    </div>
    <div ng-if="vm.selectedTable === 'cash'">
        <table class="table-large">
            <thead>
                <tr>
                    <td>Currency: {{vm.productDetail.Product.Currency}}</td>
                    <td ng-repeat="annualCashFlowTableHeading in vm.annualCashFlowTableData.headings">{{annualCashFlowTableHeading}}</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="annualCashFlowTableName in vm.annualCashFlowTableData.name">
                    <td ng-if="annualCashFlowTableName !== 'StatementDate'">{{vm.getFullNameFromKey(annualCashFlowTableName)}}</td>
                    <td ng-if="annualCashFlowTableName !== 'StatementDate'" ng-repeat="annualCashFlowTableData in vm.annualCashFlowTableData.data">
                        <div>{{annualCashFlowTableData[annualCashFlowTableName]|priceNumberFormatter}}</div>
                        <div ng-if="annualCashFlowTableData.StatementDate !== null" class="green-profit">+6.70%</div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div ng-if="vm.selectedTable === 'stats'">
        <table class="table-large">
            <thead>
                <td>Currency: {{vm.productDetail.Product.Currency}}</td>
                <td>2017</td>
                <td>2018</td>
                <td>2019</td>
                <td>2020</td>
                <td>2021</td>
                <td>Current</td>
            </thead>
            <tbody>
                <tr>
                    <td colspan="7">
                        <h4><bold>Key stats</bold></h4>
                    </td>
                </tr>
                <tr>
                    <td>Total common shares outstanding</td>
                    <td>
                        <div>20.50B</div>
                    </td>
                    <td>
                        <div>19.02B</div>
                    </td>
                    <td>
                        <div>17.77B</div>
                    </td>
                    <td>
                        <div>16.98B</div>
                    </td>
                    <td>
                        <div>16.43B</div>
                    </td>
                    <td>16.19B</td>
                </tr>
                <tr>
                    <td>Float shares outstanding</td>
                    <td>
                        <div>20.48B</div>
                    </td>
                    <td>
                        <div>18.99B</div>
                    </td>
                    <td>
                        <div>17.75B</div>
                    </td>
                    <td>
                        <div>16.96B</div>
                    </td>
                    <td>
                        <div>16.41B</div>
                    </td>
                    <td>16.17B</td>
                </tr>
                <tr>
                    <td>Number of employees</td>
                    <td>
                        <div>123.00K</div>
                    </td>
                    <td>
                        <div>132.00K</div>
                    </td>
                    <td>
                        <div>137.00K</div>
                    </td>
                    <td>
                        <div>147.00K</div>
                    </td>
                    <td>
                        <div>154.00K</div>
                    </td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Number of shareholders</td>
                    <td>
                        <div>23.50K</div>
                    </td>
                    <td>
                        <div>23.50K</div>
                    </td>
                    <td>
                        <div>23.50K</div>
                    </td>
                    <td>
                        <div>23.50K</div>
                    </td>
                    <td>
                        <div>23.50K</div>
                    </td>
                    <td>-</td>
                </tr>
                <tr>
                    <td colspan="7">
                        <h4><bold>Ratios</bold></h4>
                    </td>
                </tr>
                <tr>
                    <td>Price to earnings ratio</td>
                    <td>
                        <div>16.73</div>
                    </td>
                    <td>
                        <div>18.95</div>
                    </td>
                    <td>
                        <div>18.41</div>
                    </td>
                    <td>
                        <div>34.28</div>
                    </td>
                    <td>
                        <div>26.17</div>
                    </td>
                    <td>21.14</td>
                </tr>
                <tr>
                    <td>Price to book ratio</td>
                    <td>
                        <div>5.89</div>
                    </td>
                    <td>
                        <div>10.02</div>
                    </td>
                    <td>
                        <div>10.74</div>
                    </td>
                    <td>
                        <div>29.17</div>
                    </td>
                    <td>
                        <div>38.25</div>
                    </td>
                    <td>31.28</td>
                </tr>
                <tr>
                    <td>Return on assets %</td>
                    <td>
                        <div>13.87</div>
                    </td>
                    <td>
                        <div>16.07</div>
                    </td>
                    <td>
                        <div>15.69</div>
                    </td>
                    <td>
                        <div>17.33</div>
                    </td>
                    <td>
                        <div>28.06</div>
                    </td>
                    <td>29.64</td>
                </tr>
                <tr>
                    <td>Return on equity %</td>
                    <td>
                        <div>36.87</div>
                    </td>
                    <td>
                        <div>49.36</div>
                    </td>
                    <td>
                        <div>55.92</div>
                    </td>
                    <td>
                        <div>73.69</div>
                    </td>
                    <td>
                        <div>147.44</div>
                    </td>
                    <td>149.27</td>
                </tr>
                <tr>
                    <td>Gross margin %</td>
                    <td>
                        <div>38.01</div>
                    </td>
                    <td>
                        <div>38.37</div>
                    </td>
                    <td>
                        <div>37.58</div>
                    </td>
                    <td>
                        <div>37.94</div>
                    </td>
                    <td>
                        <div>41.78</div>
                    </td>
                    <td>43.75</td>
                </tr>
                <tr>
                    <td>Quick ratio</td>
                    <td>
                        <div>1.23</div>
                    </td>
                    <td>
                        <div>1.09</div>
                    </td>
                    <td>
                        <div>1.50</div>
                    </td>
                    <td>
                        <div>1.33</div>
                    </td>
                    <td>
                        <div>1.02</div>
                    </td>
                    <td>0.88</td>
                </tr>
                <tr>
                    <td>Current ratio</td>
                    <td>
                        <div>1.28</div>
                    </td>
                    <td>
                        <div>1.12</div>
                    </td>
                    <td>
                        <div>1.54</div>
                    </td>
                    <td>
                        <div>1.36</div>
                    </td>
                    <td>
                        <div>1.07</div>
                    </td>
                    <td>0.93</td>
                </tr>
                <tr>
                    <td>Debt to assets ratio</td>
                    <td>
                        <div>0.31</div>
                    </td>
                    <td>
                        <div>0.31</div>
                    </td>
                    <td>
                        <div>0.32</div>
                    </td>
                    <td>
                        <div>0.38</div>
                    </td>
                    <td>
                        <div>0.39</div>
                    </td>
                    <td>0.34</td>
                </tr>
                <tr>
                    <td>Debt to equity ratio</td>
                    <td>
                        <div>0.86</div>
                    </td>
                    <td>
                        <div>1.07</div>
                    </td>
                    <td>
                        <div>1.19</div>
                    </td>
                    <td>
                        <div>1.87</div>
                    </td>
                    <td>
                        <div>2.16</div>
                    </td>
                    <td>1.78</td>
                </tr>
            </tbody>
        </table>
    </div>
</section>
/* File generated on Tue Oct 12 2021 13:19:19 GMT+0000 (Coordinated Universal Time) */
/* Version 2016-07-16.9 */
/* Expires on 2022/10/31 */
/* Locked to domains "[\"127.0.0.1\",\"localhost\",\"algomerchant.com\"]" */

/* Copyright 2014-2019 ChartIQ LLC */
(function () {
    var trialExpiration = "2022/10/31";
    if (trialExpiration != "undefined") {
        var expiration = new Date(trialExpiration);
        var now = new Date();
        if (now.getTime() > expiration.getTime()) {
            alert("This license has expired!");
            console.log("This license has expired!");
        } else {
            var diffDays = (expiration.getTime() - now.getTime());
            diffDays = Math.round(Math.abs(diffDays / (1000 * 60 * 60 * 24)));
            if (diffDays < 3) {
                alert("This license expires in " + diffDays + " days!");
                console.log("This license expires in " + diffDays + " days!");
            }
        }
    }
    var version = ["Version 2016-07-16.9"];
    if (version.length > 0 && window.STXChart && STXChart.version.length > 0) {
        if (version[0] != STXChart.version[0])
            console.log("Mismatched kernel version stxChart:" + STXChart.version[0] + " stxKernel:" + version[0]);
    }

    var domains = ["127.0.0.1", "localhost", "algomerchant.com"];
    if (domains.length) {
        var href = document.location.href;
        var foundOne = false;
        for (var i = 0; i < domains.length; i++) {
            var domain = domains[i];
            if (href.indexOf(domain) != -1) {
                foundOne = true;
            }
        }
        if (!foundOne) {
            console.log("!!!! Not licensed for domain " + document.location.href);
        }
    }
})();
/* eslint-disable */
/* jshint ignore:start */ /* ignore jslint start */
r8kk[565048] = (function () {
    var n = 2;
    for (; n !== 9; ) {
        switch (n) {
        case 2:
            n = typeof globalThis === '\u006f\x62\x6a\x65\u0063\u0074' ? 1 : 5;
            break;
        case 1:
            return globalThis;
            break;
        case 5:
            var r;
            try {
                var y = 2;
                for (; y !== 6; ) {
                    switch (y) {
                    case 9:
                        delete r['\x6f\x41\x4c\x30\x5a'];
                        var w = Object['\u0070\x72\u006f\x74\u006f\u0074\u0079\x70\x65'];
                        delete w['\x73\u0035\x24\u0030\x49'];
                        y = 6;
                        break;
                    case 3:
                        throw "";
                        y = 9;
                        break;
                    case 4:
                        y = typeof oAL0Z === '\u0075\u006e\u0064\x65\u0066\x69\x6e\u0065\u0064' ? 3 : 9;
                        break;
                    case 2:
                        Object['\x64\x65\u0066\u0069\u006e\u0065\u0050\x72\x6f\u0070\x65\u0072\u0074\x79'](Object['\x70\u0072\x6f\u0074\x6f\u0074\x79\x70\u0065'], '\u0073\x35\u0024\x30\u0049', {
                            '\x67\x65\x74': function () {
                                var S = 2;
                                for (; S !== 1; ) {
                                    switch (S) {
                                    case 2:
                                        return this;
                                        break;
                                    }
                                }
                            },
                            '\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65': true
                        });
                        r = s5$0I;
                        r['\u006f\x41\x4c\u0030\u005a'] = r;
                        y = 4;
                        break;
                    }
                }
            } catch (l) {
                r = window;
            }
            return r;
            break;
        }
    }
})();
r8kk[368517] = z1oo(r8kk[565048]);
r8kk[448694] = S088(r8kk[565048]);
r8kk[335072] = W1ii(r8kk[565048]);
r8kk[242040] = J8mm(r8kk[565048]);
r8kk.s2B = function () {
    return typeof r8kk[115496].e77 === 'function' ? r8kk[115496].e77.apply(r8kk[115496], arguments) : r8kk[115496].e77;
};
r8kk.g0W = function () {
    return typeof r8kk[314273].H3z === 'function' ? r8kk[314273].H3z.apply(r8kk[314273], arguments) : r8kk[314273].H3z;
};
r8kk.b4z = (function () {
    var Y4z = 2;
    for (; Y4z !== 9; ) {
        switch (Y4z) {
        case 3:
            return h4z[4];
            break;
        case 2:
            var h4z = [arguments];
            h4z[1] = undefined;
            h4z[4] = {};
            h4z[4].Q1I = function () {
                var f4z = 2;
                for (; f4z !== 90; ) {
                    switch (f4z) {
                    case 68:
                        f4z = 11 ? 68 : 67;
                        break;
                    case 34:
                        I4z[61] = {};
                        I4z[61].u5p = ['c5p'];
                        I4z[61].B5p = function () {
                            var d1I = function () {
                                return ('x').startsWith('x');
                            };
                            var s1I = (/\u0074\u0072\x75\x65/).K5mm(d1I + []);
                            return s1I;
                        };
                        I4z[94] = I4z[61];
                        I4z[62] = {};
                        I4z[62].u5p = ['L5p'];
                        I4z[62].B5p = function () {
                            var P1I = typeof l5mm === 'function';
                            return P1I;
                        };
                        f4z = 44;
                        break;
                    case 71:
                        I4z[27]++;
                        f4z = 76;
                        break;
                    case 40:
                        I4z[91] = I4z[38];
                        I4z[40] = {};
                        I4z[40].u5p = ['L5p'];
                        I4z[40].B5p = function () {
                            var X1I = typeof e5mm === 'function';
                            return X1I;
                        };
                        f4z = 36;
                        break;
                    case 1:
                        f4z = h4z[1] ? 5 : 4;
                        break;
                    case 77:
                        I4z[27] = 0;
                        f4z = 76;
                        break;
                    case 48:
                        I4z[4].V5mm(I4z[25]);
                        I4z[4].V5mm(I4z[91]);
                        f4z = 46;
                        break;
                    case 44:
                        I4z[83] = I4z[62];
                        I4z[38] = {};
                        I4z[38].u5p = ['L5p'];
                        I4z[38].B5p = function () {
                            var O1I = typeof i5mm === 'function';
                            return O1I;
                        };
                        f4z = 40;
                        break;
                    case 51:
                        I4z[4].V5mm(I4z[79]);
                        I4z[4].V5mm(I4z[6]);
                        I4z[4].V5mm(I4z[9]);
                        f4z = 48;
                        break;
                    case 57:
                        f4z = I4z[90] < I4z[4].length ? 56 : 69;
                        break;
                    case 70:
                        I4z[90]++;
                        f4z = 57;
                        break;
                    case 4:
                        I4z[4] = [];
                        I4z[5] = {};
                        I4z[5].u5p = ['c5p'];
                        I4z[5].B5p = function () {
                            var D1I = function () {
                                return ('aa').charCodeAt(1);
                            };
                            var Z1I = (/\x39\x37/).K5mm(D1I + []);
                            return Z1I;
                        };
                        I4z[7] = I4z[5];
                        I4z[8] = {};
                        I4z[8].u5p = ['c5p'];
                        f4z = 13;
                        break;
                    case 23:
                        I4z[65] = {};
                        I4z[65].u5p = ['c5p'];
                        I4z[65].B5p = function () {
                            var k1I = function () {
                                return ('x').toUpperCase();
                            };
                            var j1I = (/\u0058/).K5mm(k1I + []);
                            return j1I;
                        };
                        I4z[79] = I4z[65];
                        f4z = 34;
                        break;
                    case 16:
                        I4z[2].B5p = function () {
                            var e1I = function () {
                                return ('x').repeat(2);
                            };
                            var n1I = (/\u0078\u0078/).K5mm(e1I + []);
                            return n1I;
                        };
                        I4z[1] = I4z[2];
                        I4z[19] = {};
                        f4z = 26;
                        break;
                    case 55:
                        try {
                            I4z[88] = I4z[37][I4z[59]]() ? I4z[11] : I4z[70];
                        } catch (m1I) {
                            I4z[88] = I4z[70];
                        }
                        f4z = 77;
                        break;
                    case 69:
                        f4z = (function (E4z) {
                            var L4z = 2;
                            for (; L4z !== 22; ) {
                                switch (L4z) {
                                case 12:
                                    p4z[5].V5mm(p4z[8][I4z[60]]);
                                    L4z = 11;
                                    break;
                                case 4:
                                    p4z[7] = {};
                                    p4z[5] = [];
                                    p4z[9] = 0;
                                    L4z = 8;
                                    break;
                                case 23:
                                    return p4z[4];
                                    break;
                                case 5:
                                    return;
                                    break;
                                case 16:
                                    L4z = p4z[9] < p4z[5].length ? 15 : 23;
                                    break;
                                case 6:
                                    p4z[8] = p4z[0][0][p4z[9]];
                                    L4z = 14;
                                    break;
                                case 18:
                                    p4z[4] = false;
                                    L4z = 17;
                                    break;
                                case 13:
                                    p4z[7][p4z[8][I4z[60]]] = (function () {
                                        var K4z = 2;
                                        for (; K4z !== 9; ) {
                                            switch (K4z) {
                                            case 2:
                                                var j4z = [arguments];
                                                j4z[7] = {};
                                                j4z[7].h = 0;
                                                j4z[7].t = 0;
                                                return j4z[7];
                                                break;
                                            }
                                        }
                                    }).n5mm(this, arguments);
                                    L4z = 12;
                                    break;
                                case 1:
                                    L4z = p4z[0][0].length === 0 ? 5 : 4;
                                    break;
                                case 26:
                                    L4z = p4z[3] >= 0.5 ? 25 : 24;
                                    break;
                                case 7:
                                    L4z = p4z[9] < p4z[0][0].length ? 6 : 18;
                                    break;
                                case 24:
                                    p4z[9]++;
                                    L4z = 16;
                                    break;
                                case 15:
                                    p4z[6] = p4z[5][p4z[9]];
                                    p4z[3] = p4z[7][p4z[6]].h / p4z[7][p4z[6]].t;
                                    L4z = 26;
                                    break;
                                case 2:
                                    var p4z = [arguments];
                                    L4z = 1;
                                    break;
                                case 20:
                                    p4z[7][p4z[8][I4z[60]]].h += true;
                                    L4z = 19;
                                    break;
                                case 10:
                                    L4z = p4z[8][I4z[55]] === I4z[11] ? 20 : 19;
                                    break;
                                case 17:
                                    p4z[9] = 0;
                                    L4z = 16;
                                    break;
                                case 25:
                                    p4z[4] = true;
                                    L4z = 24;
                                    break;
                                case 8:
                                    p4z[9] = 0;
                                    L4z = 7;
                                    break;
                                case 11:
                                    p4z[7][p4z[8][I4z[60]]].t += true;
                                    L4z = 10;
                                    break;
                                case 14:
                                    L4z = typeof p4z[7][p4z[8][I4z[60]]] === 'undefined' ? 13 : 11;
                                    break;
                                case 19:
                                    p4z[9]++;
                                    L4z = 7;
                                    break;
                                }
                            }
                        })(I4z[54]) ? 68 : 67;
                        break;
                    case 5:
                        return 24;
                        break;
                    case 19:
                        I4z[9] = I4z[3];
                        I4z[2] = {};
                        I4z[2].u5p = ['c5p'];
                        f4z = 16;
                        break;
                    case 56:
                        I4z[37] = I4z[4][I4z[90]];
                        f4z = 55;
                        break;
                    case 61:
                        I4z[55] = 'n5p';
                        I4z[59] = 'B5p';
                        I4z[60] = 'H5p';
                        f4z = 58;
                        break;
                    case 58:
                        I4z[90] = 0;
                        f4z = 57;
                        break;
                    case 76:
                        f4z = I4z[27] < I4z[37][I4z[57]].length ? 75 : 70;
                        break;
                    case 2:
                        var I4z = [arguments];
                        f4z = 1;
                        break;
                    case 13:
                        I4z[8].B5p = function () {
                            var M1I = function () {
                                return [] + ('a').concat('a');
                            };
                            var f1I = !(/\x5b\u005d/).K5mm(M1I + []) && (/\x61\u0061/).K5mm(M1I + []);
                            return f1I;
                        };
                        I4z[6] = I4z[8];
                        I4z[3] = {};
                        I4z[3].u5p = ['L5p'];
                        I4z[3].B5p = function () {
                            var W1I = false;
                            var K1I = [];
                            try {
                                for (var V1I in console) {
                                    K1I.V5mm(V1I);
                                }
                                W1I = K1I.length === 0;
                            } catch (i1I) {}
                            var l1I = W1I;
                            return l1I;
                        };
                        f4z = 19;
                        break;
                    case 26:
                        I4z[19].u5p = ['c5p'];
                        I4z[19].B5p = function () {
                            var a1I = function () {
                                return encodeURI('%');
                            };
                            var q1I = (/\x32\x35/).K5mm(a1I + []);
                            return q1I;
                        };
                        I4z[16] = I4z[19];
                        f4z = 23;
                        break;
                    case 36:
                        I4z[25] = I4z[40];
                        I4z[4].V5mm(I4z[94]);
                        I4z[4].V5mm(I4z[1]);
                        I4z[4].V5mm(I4z[7]);
                        f4z = 51;
                        break;
                    case 75:
                        I4z[53] = {};
                        I4z[53][I4z[60]] = I4z[37][I4z[57]][I4z[27]];
                        I4z[53][I4z[55]] = I4z[88];
                        I4z[54].V5mm(I4z[53]);
                        f4z = 71;
                        break;
                    case 67:
                        h4z[1] = 51;
                        return 85;
                        break;
                    case 46:
                        I4z[4].V5mm(I4z[16]);
                        I4z[4].V5mm(I4z[83]);
                        I4z[54] = [];
                        I4z[11] = 'w5p';
                        I4z[70] = 'Y5p';
                        I4z[57] = 'u5p';
                        f4z = 61;
                        break;
                    }
                }
            };
            Y4z = 3;
            break;
        }
    }
})();
function S088(d2W) {
    function P2W(W0W) {
        var R0W = 2;
        for (; R0W !== 5; ) {
            switch (R0W) {
            case 2:
                var V2W = [arguments];
                return V2W[0][0];
                break;
            }
        }
    }
    var m0W = 2;
    for (; m0W !== 32; ) {
        switch (m0W) {
        case 16:
            J2W[94] += J2W[2];
            J2W[91] = J2W[9];
            J2W[91] += J2W[3];
            J2W[91] += J2W[7];
            m0W = 25;
            break;
        case 11:
            J2W[13] = 0;
            J2W[34] = J2W[1];
            J2W[34] += J2W[7];
            J2W[34] += J2W[7];
            J2W[94] = J2W[6];
            J2W[94] += J2W[8];
            m0W = 16;
            break;
        case 21:
            K3W(P2W, "String", J2W[13], J2W[24]);
            m0W = 35;
            break;
        case 22:
            var K3W = function (o2W, O2W, Y2W, C2W) {
                var l0W = 2;
                for (; l0W !== 5; ) {
                    switch (l0W) {
                    case 2:
                        var i2W = [arguments];
                        q3W(J2W[0][0], i2W[0][0], i2W[0][1], i2W[0][2], i2W[0][3]);
                        l0W = 5;
                        break;
                    }
                }
            };
            m0W = 21;
            break;
        case 2:
            var J2W = [arguments];
            J2W[4] = "";
            J2W[4] = "d0";
            J2W[1] = "";
            m0W = 3;
            break;
        case 35:
            K3W(Q3W, "fromCharCode", J2W[13], J2W[91]);
            m0W = 34;
            break;
        case 3:
            J2W[3] = "08";
            J2W[7] = "8";
            J2W[1] = "i0";
            J2W[9] = "v";
            m0W = 6;
            break;
        case 34:
            K3W(z3W, "substring", J2W[5], J2W[94]);
            m0W = 33;
            break;
        case 25:
            J2W[24] = J2W[4];
            J2W[24] += J2W[7];
            J2W[24] += J2W[7];
            m0W = 22;
            break;
        case 6:
            J2W[8] = "0";
            J2W[2] = "88";
            J2W[6] = "W";
            J2W[5] = 1;
            m0W = 11;
            break;
        case 33:
            K3W(z3W, "charCodeAt", J2W[5], J2W[34]);
            m0W = 32;
            break;
        }
    }
    function q3W(z2W, X2W, q2W, Q2W, P0W) {
        var v0W = 2;
        for (; v0W !== 6; ) {
            switch (v0W) {
            case 2:
                var L2W = [arguments];
                L2W[4] = "";
                L2W[4] = "";
                L2W[4] = "ty";
                L2W[7] = "";
                L2W[7] = "fineProper";
                v0W = 8;
                break;
            case 8:
                L2W[5] = "de";
                try {
                    var G0W = 2;
                    for (; G0W !== 8; ) {
                        switch (G0W) {
                        case 2:
                            L2W[3] = {};
                            L2W[9] = (1, L2W[0][1])(L2W[0][0]);
                            L2W[2] = [L2W[9], L2W[9].prototype][L2W[0][3]];
                            L2W[3].value = L2W[2][L2W[0][2]];
                            try {
                                var w0W = 2;
                                for (; w0W !== 3; ) {
                                    switch (w0W) {
                                    case 2:
                                        L2W[1] = L2W[5];
                                        L2W[1] += L2W[7];
                                        L2W[1] += L2W[4];
                                        L2W[0][0].Object[L2W[1]](L2W[2], L2W[0][4], L2W[3]);
                                        w0W = 3;
                                        break;
                                    }
                                }
                            } catch (D2W) {}
                            L2W[2][L2W[0][4]] = L2W[3].value;
                            G0W = 8;
                            break;
                        }
                    }
                } catch (Z2W) {}
                v0W = 6;
                break;
            }
        }
    }
    function Q3W(S0W) {
        var n0W = 2;
        for (; n0W !== 5; ) {
            switch (n0W) {
            case 2:
                var U2W = [arguments];
                return U2W[0][0].String;
                break;
            }
        }
    }
    function z3W(K2W) {
        var T0W = 2;
        for (; T0W !== 5; ) {
            switch (T0W) {
            case 2:
                var e2W = [arguments];
                return e2W[0][0].String;
                break;
            }
        }
    }
}
r8kk[329935] = (function (V3f) {
    return {
        F3f: function () {
            var I3f,
            p3f = arguments;
            switch (V3f) {
            case 4:
                I3f = p3f[4] * p3f[0] / p3f[3] + p3f[2] + p3f[1];
                break;
            case 108:
                I3f = p3f[0] - p3f[1] / +p3f[2] + p3f[3];
                break;
            case 51:
                I3f = -p3f[2] + p3f[1] - p3f[0];
                break;
            case 102:
                I3f = p3f[0] != p3f[1];
                break;
            case 42:
                I3f = (-p3f[2] + p3f[3]) * p3f[0] - p3f[4] + p3f[1];
                break;
            case 34:
                I3f = p3f[1] / +p3f[0];
                break;
            case 131:
                I3f = (p3f[1] + p3f[2] + p3f[4]) * p3f[3] - p3f[0];
                break;
            case 97:
                I3f = (p3f[2] + p3f[0]) * p3f[1] - p3f[3];
                break;
            case 62:
                I3f = (p3f[0] + p3f[2]) / p3f[1];
                break;
            case 24:
                I3f = p3f[1] / p3f[0] - p3f[2];
                break;
            case 41:
                I3f = (p3f[1] * p3f[4] + p3f[2]) * p3f[0] - p3f[3];
                break;
            case 86:
                I3f = p3f[4] * p3f[3] - p3f[0] - p3f[2] - p3f[1];
                break;
            case 10:
                I3f = p3f[0] * p3f[1];
                break;
            case 37:
                I3f = -p3f[1] - p3f[2] + p3f[0];
                break;
            case 14:
                I3f = (p3f[2] / p3f[0] + p3f[1]) * p3f[3] - p3f[4];
                break;
            case 121:
                I3f = p3f[1] / p3f[2] / p3f[3] - p3f[0];
                break;
            case 11:
                I3f = (p3f[1] + p3f[3]) / p3f[4] + p3f[2] - p3f[0];
                break;
            case 31:
                I3f = p3f[4] * p3f[1] / p3f[2] + p3f[0] - p3f[3];
                break;
            case 135:
                I3f = -p3f[1] / p3f[2] + p3f[0] + p3f[4] - p3f[3];
                break;
            case 52:
                I3f = p3f[0] / (p3f[1] & p3f[2]);
                break;
            case 64:
                I3f = (p3f[0] + p3f[2]) / +p3f[1];
                break;
            case 128:
                I3f = (p3f[0] * p3f[4] - p3f[1]) * p3f[2] - p3f[3];
                break;
            case 60:
                I3f = -p3f[2] + p3f[1] + p3f[4] + p3f[0] - p3f[3];
                break;
            case 126:
                I3f = p3f[3] * p3f[2] - p3f[1] - p3f[0];
                break;
            case 88:
                I3f = p3f[1] / p3f[2] / p3f[0] + p3f[3];
                break;
            case 49:
                I3f = p3f[1] - p3f[0] / p3f[3] + p3f[2];
                break;
            case 100:
                I3f = -p3f[1] / p3f[2] / p3f[0] + p3f[3];
                break;
            case 5:
                I3f = (p3f[2] - p3f[0]) * p3f[3] - p3f[1];
                break;
            case 55:
                I3f = p3f[2] / p3f[0] - p3f[1] + p3f[3];
                break;
            case 28:
                I3f = p3f[3] + p3f[1] - p3f[0] + p3f[2];
                break;
            case 1:
                I3f = (p3f[2] * p3f[4] + p3f[1]) / p3f[3] - p3f[0];
                break;
            case 48:
                I3f = p3f[0] + (p3f[2] - p3f[1]);
                break;
            case 18:
                I3f = p3f[0] / (p3f[1] - p3f[2]);
                break;
            case 132:
                I3f = p3f[1] / p3f[2] * p3f[4] + p3f[3] + p3f[0];
                break;
            case 72:
                I3f = p3f[1] / p3f[3] - p3f[0] - p3f[4] + p3f[2];
                break;
            case 106:
                I3f = p3f[0] - p3f[2] / p3f[1];
                break;
            case 50:
                I3f = p3f[0] + p3f[3] / p3f[2] - p3f[1];
                break;
            case 54:
                I3f = (p3f[2] + p3f[3]) / p3f[0] - p3f[1];
                break;
            case 124:
                I3f = (p3f[3] + p3f[1]) / p3f[0] + p3f[2];
                break;
            case 90:
                I3f = p3f[1] + p3f[2] + p3f[3] + p3f[0];
                break;
            case 23:
                I3f = p3f[0] / p3f[1];
                break;
            case 76:
                I3f = p3f[1] - p3f[2] - p3f[0];
                break;
            case 115:
                I3f = (p3f[4] - p3f[1]) * (p3f[3] - p3f[5]) + (p3f[2] - p3f[7]) * (p3f[0] - p3f[6]);
                break;
            case 63:
                I3f = p3f[3] + p3f[0] - p3f[2] - p3f[1];
                break;
            case 26:
                I3f = p3f[1] * p3f[2] + p3f[3] - p3f[0];
                break;
            case 29:
                I3f = (-p3f[1] + p3f[2]) / p3f[3] + p3f[0] + p3f[4];
                break;
            case 79:
                I3f = (p3f[4] - p3f[3] - p3f[0]) * p3f[1] - p3f[2];
                break;
            case 112:
                I3f = p3f[2] - (p3f[0] | p3f[1]);
                break;
            case 25:
                I3f = p3f[1] / p3f[4] + p3f[3] - p3f[2] + p3f[0];
                break;
            case 127:
                I3f = p3f[2] * p3f[1] - p3f[0] + p3f[3];
                break;
            case 122:
                I3f = (p3f[1] | p3f[3]) - (p3f[4] - p3f[0]) * p3f[2];
                break;
            case 59:
                I3f = p3f[1] + +p3f[0];
                break;
            case 8:
                I3f = p3f[1] ^ p3f[0];
                break;
            case 65:
                I3f = (p3f[2] + p3f[1]) / (p3f[3] ^ p3f[0]);
                break;
            case 2:
                I3f = p3f[2] / p3f[0] + p3f[1];
                break;
            case 44:
                I3f = p3f[2] - p3f[4] + p3f[1] - p3f[3] + p3f[0];
                break;
            case 39:
                I3f = p3f[1] + p3f[2] * p3f[0];
                break;
            case 58:
                I3f = p3f[0] | p3f[1];
                break;
            case 12:
                I3f = -p3f[0] * p3f[2] / p3f[1] + p3f[3];
                break;
            case 21:
                I3f = (p3f[0] - p3f[1]) / p3f[3] + p3f[2] - p3f[4];
                break;
            case 17:
                I3f = p3f[0] - p3f[1];
                break;
            case 36:
                I3f = p3f[2] - p3f[1] + p3f[0];
                break;
            case 92:
                I3f = (p3f[0] + p3f[2] - p3f[3]) / p3f[4] - p3f[1];
                break;
            case 40:
                I3f = p3f[2] + p3f[1] + (p3f[3] >> p3f[0]);
                break;
            case 43:
                I3f = p3f[1] + p3f[3] + p3f[0] - p3f[2];
                break;
            case 66:
                I3f = (p3f[0] - p3f[4]) / p3f[3] / p3f[1] + p3f[2];
                break;
            case 38:
                I3f = -p3f[1] + p3f[0];
                break;
            case 74:
                I3f = p3f[3] * p3f[2] / p3f[0] - p3f[1];
                break;
            case 6:
                I3f = p3f[1] + p3f[2] + p3f[0];
                break;
            case 104:
                I3f = p3f[0] * -p3f[1];
                break;
            case 27:
                I3f = -p3f[0] + p3f[2] + p3f[1];
                break;
            case 94:
                I3f = -p3f[1] * p3f[3] + p3f[0] + p3f[2];
                break;
            case 73:
                I3f = (p3f[1] + p3f[3]) * p3f[4] + p3f[0] - p3f[2];
                break;
            case 110:
                I3f = p3f[3] * (p3f[1] ^ p3f[0]) / p3f[2];
                break;
            case 69:
                I3f = p3f[0] / (p3f[2] | p3f[1]);
                break;
            case 98:
                I3f = p3f[3] / p3f[2] / p3f[4] + p3f[1] - p3f[0];
                break;
            case 87:
                I3f = (p3f[0] - p3f[1] + p3f[3]) * p3f[4] - p3f[2];
                break;
            case 111:
                I3f = (p3f[1] - p3f[0]) / p3f[3] * p3f[4] + p3f[2];
                break;
            case 120:
                I3f = p3f[3] * p3f[0] / (p3f[2] + p3f[1]);
                break;
            case 20:
                I3f = p3f[1] & p3f[0];
                break;
            case 118:
                I3f = -p3f[3] * p3f[1] * p3f[0] - p3f[2] + p3f[4];
                break;
            case 22:
                I3f = p3f[2] * p3f[0] * p3f[3] - p3f[1];
                break;
            case 35:
                I3f = p3f[1] * (p3f[2] - p3f[0]);
                break;
            case 133:
                I3f = (p3f[0] + p3f[2]) / p3f[1] * p3f[3] - p3f[4];
                break;
            case 9:
                I3f = p3f[2] + p3f[0] - p3f[1];
                break;
            case 77:
                I3f = p3f[1] + p3f[0] + p3f[2] + p3f[5] + p3f[4] + p3f[6] + p3f[3];
                break;
            case 16:
                I3f = -p3f[3] - p3f[0] - p3f[2] + p3f[1];
                break;
            case 99:
                I3f = p3f[0] - (p3f[1] - p3f[3]) * p3f[2];
                break;
            case 33:
                I3f = p3f[3] - p3f[2] - p3f[0] + p3f[1];
                break;
            case 71:
                I3f = (p3f[2] | p3f[0]) * p3f[1];
                break;
            case 13:
                I3f = p3f[0] < p3f[1];
                break;
            case 68:
                I3f = -p3f[2] * p3f[1] + p3f[0];
                break;
            case 15:
                I3f = -p3f[1] * p3f[3] - p3f[2] + p3f[0];
                break;
            case 109:
                I3f = (p3f[0] * p3f[1] - p3f[4]) / p3f[3] + p3f[2];
                break;
            case 117:
                I3f = (p3f[0] - p3f[2]) / p3f[1] - p3f[3];
                break;
            case 70:
                I3f = p3f[3] + p3f[4] - p3f[0] + p3f[2] - p3f[1];
                break;
            case 19:
                I3f = p3f[1] >> p3f[0];
                break;
            case 53:
                I3f = (p3f[4] / p3f[0] - p3f[2]) / p3f[1] + p3f[3];
                break;
            case 75:
                I3f = p3f[3] - p3f[4] - p3f[2] + p3f[0] + p3f[1];
                break;
            case 57:
                I3f = p3f[1] / (p3f[0] << p3f[2]);
                break;
            case 91:
                I3f = p3f[2] * p3f[1] / p3f[0] / p3f[3] + p3f[4];
                break;
            case 45:
                I3f = p3f[1] * p3f[2] + p3f[0];
                break;
            case 78:
                I3f = p3f[2] - p3f[0] - p3f[3] - p3f[1];
                break;
            case 85:
                I3f = (p3f[0] - p3f[2]) / p3f[1];
                break;
            case 129:
                I3f = p3f[2] / p3f[3] * p3f[1] - p3f[0];
                break;
            case 96:
                I3f = p3f[3] / p3f[4] / p3f[2] / p3f[0] + p3f[1];
                break;
            case 107:
                I3f = (p3f[0] + p3f[4]) / p3f[2] / p3f[1] + p3f[3];
                break;
            case 67:
                I3f = p3f[2] / p3f[0] + p3f[3] - p3f[1];
                break;
            case 123:
                I3f = p3f[2] - p3f[0] - (p3f[1] - p3f[3]);
                break;
            case 119:
                I3f = p3f[2] / p3f[0] * p3f[1] + p3f[3];
                break;
            case 61:
                I3f = p3f[0] - p3f[1] + p3f[2] + p3f[3];
                break;
            case 84:
                I3f = p3f[0] % p3f[1];
                break;
            case 113:
                I3f = p3f[0] == p3f[1];
                break;
            case 101:
                I3f = p3f[0] - p3f[3] + p3f[2] - p3f[1];
                break;
            case 95:
                I3f = (p3f[1] + p3f[3]) * p3f[2] * p3f[4] - p3f[0];
                break;
            case 3:
                I3f = (p3f[1] - p3f[3]) / p3f[0] + p3f[2];
                break;
            case 116:
                I3f = (-p3f[4] + p3f[3] + p3f[1]) * p3f[0] - p3f[2];
                break;
            case 7:
                I3f = p3f[1] << p3f[0];
                break;
            case 30:
                I3f = -p3f[3] * p3f[2] * p3f[1] + p3f[0];
                break;
            case 134:
                I3f = p3f[2] / p3f[0] - p3f[1] - p3f[3];
                break;
            case 125:
                I3f = (p3f[4] + p3f[2]) * p3f[1] / p3f[3] + p3f[0];
                break;
            case 32:
                I3f = p3f[1] - +p3f[0];
                break;
            case 93:
                I3f = p3f[1] + p3f[0] + p3f[3] - p3f[2] - p3f[4];
                break;
            case 46:
                I3f = -p3f[0] + p3f[2] - p3f[3] + p3f[1];
                break;
            case 80:
                I3f = p3f[2] / p3f[3] + p3f[1] + p3f[0];
                break;
            case 83:
                I3f = -p3f[1] - p3f[0] + p3f[2] + p3f[3];
                break;
            case 103:
                I3f = p3f[4] - p3f[1] + p3f[2] + p3f[3] + p3f[0];
                break;
            case 81:
                I3f = (-p3f[0] + p3f[2]) * p3f[1] - p3f[3];
                break;
            case 114:
                I3f = p3f[2] * p3f[1] + p3f[3] * p3f[0];
                break;
            case 56:
                I3f = p3f[1] - p3f[4] - p3f[2] - p3f[3] + p3f[0];
                break;
            case 82:
                I3f = (p3f[1] + p3f[0] - p3f[3]) * p3f[2] + p3f[4];
                break;
            case 47:
                I3f = p3f[4] + (p3f[3] + p3f[1] * p3f[0]) * p3f[2];
                break;
            case 89:
                I3f = p3f[2] * p3f[1] - p3f[0];
                break;
            case 0:
                I3f = p3f[0] + p3f[1];
                break;
            case 130:
                I3f = (p3f[4] + p3f[3] - p3f[1]) * p3f[0] - p3f[2];
                break;
            case 105:
                I3f = p3f[2] * p3f[3] * p3f[4] - p3f[1] - p3f[0];
                break;
            }
            return I3f;
        },
        N3f: function (L3f) {
            V3f = L3f;
        }
    };
})();
r8kk.c0W = function () {
    return typeof r8kk[314273].H3z === 'function' ? r8kk[314273].H3z.apply(r8kk[314273], arguments) : r8kk[314273].H3z;
};
r8kk.a4z = function () {
    return typeof r8kk.b4z.Q1I === 'function' ? r8kk.b4z.Q1I.apply(r8kk.b4z, arguments) : r8kk.b4z.Q1I;
};
r8kk[565048].L3EE = r8kk;
r8kk.r0W = function () {
    return typeof r8kk[314273].n3z === 'function' ? r8kk[314273].n3z.apply(r8kk[314273], arguments) : r8kk[314273].n3z;
};
r8kk[314273] = (function () {
    var B0W = 2;
    for (; B0W !== 4; ) {
        switch (B0W) {
        case 2:
            var J3z = r8kk[565048];
            var a3z,
            K3z;
            return {
                H3z: function (C3z, Y3z, D3z, N3z) {
                    var D0W = 2;
                    for (; D0W !== 1; ) {
                        switch (D0W) {
                        case 2:
                            return l3z(C3z, Y3z, D3z, N3z);
                            break;
                        }
                    }
                },
                n3z: function (x3z, T3z, t3z, q3z) {
                    var Z0W = 2;
                    for (; Z0W !== 1; ) {
                        switch (Z0W) {
                        case 2:
                            return l3z(x3z, T3z, t3z, q3z, true);
                            break;
                        }
                    }
                }
            };
            break;
        }
    }
    function S3z(z3z) {
        var H0W = 2;
        for (; H0W !== 7; ) {
            switch (H0W) {
            case 9:
                Q3z++;
                H0W = 4;
                break;
            case 3:
                j3z += d088.v088(z3z[Q3z] - y3z + 102);
                H0W = 9;
                break;
            case 4:
                H0W = Q3z < z3z.length ? 3 : 8;
                break;
            case 5:
                var Q3z = 0;
                H0W = 4;
                break;
            case 2:
                var y3z = 2;
                var j3z = '';
                H0W = 5;
                break;
            case 8:
                return j3z;
                break;
            }
        }
    }
    function l3z(w3z, I3z, R3z, k3z, s3z) {
        var s0W = 2;
        for (; s0W !== 15; ) {
            switch (s0W) {
            case 6:
                return r8kk.s2B(r3z, B3z, R3z);
                break;
            case 12:
                return false;
                break;
            case 9:
                s0W = k3z > 0 ? 8 : 19;
                break;
            case 14:
                var F3z = g3z.length - w3z;
                s0W = 13;
                break;
            case 18:
                r3z = g3z.W088(0, g3z.length);
                B3z = r3z.length;
                s0W = 16;
                break;
            case 3:
                g3z = s3z ? K3z : a3z;
                s0W = 9;
                break;
            case 8:
                r3z = g3z.W088(w3z, k3z);
                B3z = r3z.length;
                s0W = 6;
                break;
            case 11:
                r3z = g3z.W088(F3z, g3z.length);
                B3z = r3z.length;
                return r8kk.s2B(r3z, B3z, R3z);
                break;
            case 16:
                return r8kk.s2B(r3z, B3z, R3z);
                break;
            case 19:
                s0W = w3z === null || w3z <= 0 ? 18 : 14;
                break;
            case 13:
                s0W = I3z && F3z > 0 && g3z.i088(F3z - 1) !== 46 ? 12 : 11;
                break;
            case 2:
                var r3z,
                B3z,
                g3z,
                U3z;
                U3z = J3z[S3z([8, 11, -1, -3, 16, 5, 11, 10])];
                !a3z && (a3z = typeof U3z !== "undefined" ? U3z[S3z([4, 11, 15, 16, 10, -3, 9, 1])] || ' ' : "");
                !K3z && (K3z = typeof U3z !== "undefined" ? U3z[S3z([4, 14, 1, 2])] : "");
                s0W = 3;
                break;
            }
        }
    }
})();
r8kk.S3f = function () {
    return typeof r8kk[329935].F3f === 'function' ? r8kk[329935].F3f.apply(r8kk[329935], arguments) : r8kk[329935].F3f;
};
r8kk.N7p = function () {
    return typeof r8kk[137281].h4c === 'function' ? r8kk[137281].h4c.apply(r8kk[137281], arguments) : r8kk[137281].h4c;
};
function J8mm(z1z) {
    function T0z(v1z) {
        var g1z = 2;
        for (; g1z !== 5; ) {
            switch (g1z) {
            case 2:
                var d1z = [arguments];
                return d1z[0][0].Function;
                break;
            }
        }
    }
    function o0z(F1z) {
        var G1z = 2;
        for (; G1z !== 5; ) {
            switch (G1z) {
            case 2:
                var Q1z = [arguments];
                return Q1z[0][0];
                break;
            }
        }
    }
    var n1z = 2;
    for (; n1z !== 71; ) {
        switch (n1z) {
        case 30:
            W1z[46] = "m";
            W1z[76] = "n5";
            W1z[33] = 9;
            W1z[33] = 1;
            W1z[52] = 0;
            n1z = 42;
            break;
        case 55:
            var m0z = function (q1z, S1z, B1z, x1z) {
                var e1z = 2;
                for (; e1z !== 5; ) {
                    switch (e1z) {
                    case 2:
                        var N1z = [arguments];
                        R0z(W1z[0][0], N1z[0][0], N1z[0][1], N1z[0][2], N1z[0][3]);
                        e1z = 5;
                        break;
                    }
                }
            };
            n1z = 77;
            break;
        case 72:
            m0z(T0z, "apply", W1z[33], W1z[17]);
            n1z = 71;
            break;
        case 47:
            W1z[87] += W1z[5];
            W1z[88] = W1z[8];
            W1z[88] += W1z[46];
            W1z[88] += W1z[46];
            n1z = 64;
            break;
        case 24:
            W1z[65] = "ra";
            W1z[22] = "ct";
            W1z[79] = "__abst";
            W1z[36] = "";
            W1z[36] = "5m";
            n1z = 34;
            break;
        case 3:
            W1z[9] = "idual";
            W1z[6] = "";
            W1z[7] = "K5";
            W1z[6] = "res";
            n1z = 6;
            break;
        case 75:
            m0z(o0z, W1z[85], W1z[52], W1z[88]);
            n1z = 74;
            break;
        case 2:
            var W1z = [arguments];
            W1z[1] = "";
            W1z[1] = "V5";
            W1z[9] = "";
            n1z = 3;
            break;
        case 51:
            W1z[34] += W1z[46];
            W1z[34] += W1z[46];
            W1z[87] = W1z[4];
            W1z[87] += W1z[2];
            n1z = 47;
            break;
        case 73:
            m0z(o0z, W1z[51], W1z[52], W1z[53]);
            n1z = 72;
            break;
        case 56:
            W1z[73] += W1z[46];
            n1z = 55;
            break;
        case 42:
            W1z[17] = W1z[76];
            W1z[17] += W1z[46];
            W1z[17] += W1z[46];
            W1z[53] = W1z[75];
            W1z[53] += W1z[36];
            W1z[53] += W1z[46];
            n1z = 36;
            break;
        case 36:
            W1z[51] = W1z[79];
            W1z[51] += W1z[65];
            W1z[51] += W1z[22];
            W1z[34] = W1z[82];
            n1z = 51;
            break;
        case 76:
            m0z(W0z, "push", W1z[33], W1z[25]);
            n1z = 75;
            break;
        case 6:
            W1z[3] = "";
            W1z[3] = "";
            W1z[3] = "__";
            W1z[8] = "";
            n1z = 11;
            break;
        case 60:
            W1z[25] += W1z[46];
            W1z[25] += W1z[46];
            W1z[73] = W1z[7];
            W1z[73] += W1z[46];
            n1z = 56;
            break;
        case 15:
            W1z[82] = "";
            W1z[82] = "i5";
            W1z[79] = "";
            W1z[79] = "";
            n1z = 24;
            break;
        case 77:
            m0z(N0z, "test", W1z[33], W1z[73]);
            n1z = 76;
            break;
        case 64:
            W1z[85] = W1z[3];
            W1z[85] += W1z[6];
            W1z[85] += W1z[9];
            W1z[25] = W1z[1];
            n1z = 60;
            break;
        case 11:
            W1z[8] = "";
            W1z[8] = "l5";
            W1z[5] = "";
            W1z[5] = "ze";
            W1z[2] = "";
            W1z[2] = "ptimi";
            W1z[4] = "__o";
            n1z = 15;
            break;
        case 34:
            W1z[75] = "";
            W1z[75] = "";
            W1z[75] = "e";
            W1z[46] = "";
            n1z = 30;
            break;
        case 74:
            m0z(o0z, W1z[87], W1z[52], W1z[34]);
            n1z = 73;
            break;
        }
    }
    function R0z(H1z, y1z, M1z, r1z, C1z) {
        var X1z = 2;
        for (; X1z !== 7; ) {
            switch (X1z) {
            case 2:
                var l1z = [arguments];
                l1z[4] = "";
                l1z[4] = "roperty";
                l1z[2] = "P";
                l1z[1] = "";
                X1z = 9;
                break;
            case 9:
                l1z[1] = "define";
                try {
                    var s1z = 2;
                    for (; s1z !== 8; ) {
                        switch (s1z) {
                        case 2:
                            l1z[6] = {};
                            l1z[7] = (1, l1z[0][1])(l1z[0][0]);
                            l1z[5] = [l1z[7], l1z[7].prototype][l1z[0][3]];
                            s1z = 4;
                            break;
                        case 4:
                            l1z[6].value = l1z[5][l1z[0][2]];
                            try {
                                var U1z = 2;
                                for (; U1z !== 3; ) {
                                    switch (U1z) {
                                    case 2:
                                        l1z[8] = l1z[1];
                                        l1z[8] += l1z[2];
                                        l1z[8] += l1z[4];
                                        l1z[0][0].Object[l1z[8]](l1z[5], l1z[0][4], l1z[6]);
                                        U1z = 3;
                                        break;
                                    }
                                }
                            } catch (M0z) {}
                            l1z[5][l1z[0][4]] = l1z[6].value;
                            s1z = 8;
                            break;
                        }
                    }
                } catch (r0z) {}
                X1z = 7;
                break;
            }
        }
    }
    function W0z(J1z) {
        var u4z = 2;
        for (; u4z !== 5; ) {
            switch (u4z) {
            case 2:
                var P1z = [arguments];
                return P1z[0][0].Array;
                break;
            }
        }
    }
    function N0z(t1z) {
        var A4z = 2;
        for (; A4z !== 5; ) {
            switch (A4z) {
            case 2:
                var V1z = [arguments];
                return V1z[0][0].RegExp;
                break;
            }
        }
    }
}
r8kk.o3f = function () {
    return typeof r8kk[329935].N3f === 'function' ? r8kk[329935].N3f.apply(r8kk[329935], arguments) : r8kk[329935].N3f;
};
r8kk.s3f = function () {
    return typeof r8kk[329935].N3f === 'function' ? r8kk[329935].N3f.apply(r8kk[329935], arguments) : r8kk[329935].N3f;
};
r8kk.h2B = function () {
    return typeof r8kk[115496].e77 === 'function' ? r8kk[115496].e77.apply(r8kk[115496], arguments) : r8kk[115496].e77;
};
r8kk.M0W = function () {
    return typeof r8kk[314273].n3z === 'function' ? r8kk[314273].n3z.apply(r8kk[314273], arguments) : r8kk[314273].n3z;
};
function r8kk() {}
function W1ii(C7p) {
    function p6p(w7p) {
        var B7p = 2;
        for (; B7p !== 5; ) {
            switch (B7p) {
            case 2:
                var i7p = [arguments];
                return i7p[0][0].Array;
                break;
            }
        }
    }
    function E6p(Y7p, U7p, O7p, H7p, x7p) {
        var p7p = 2;
        for (; p7p !== 6; ) {
            switch (p7p) {
            case 2:
                var J7p = [arguments];
                J7p[8] = "y";
                J7p[4] = "ert";
                J7p[9] = "";
                J7p[9] = "defineProp";
                p7p = 9;
                break;
            case 9:
                J7p[3] = 5;
                J7p[3] = 6;
                try {
                    var E7p = 2;
                    for (; E7p !== 8; ) {
                        switch (E7p) {
                        case 3:
                            try {
                                var D7p = 2;
                                for (; D7p !== 3; ) {
                                    switch (D7p) {
                                    case 5:
                                        J7p[6] += J7p[8];
                                        J7p[0][0].Object[J7p[6]](J7p[1], J7p[0][4], J7p[7]);
                                        D7p = 3;
                                        break;
                                    case 2:
                                        J7p[6] = J7p[9];
                                        J7p[6] += J7p[4];
                                        D7p = 5;
                                        break;
                                    }
                                }
                            } catch (L6p) {}
                            J7p[1][J7p[0][4]] = J7p[7].value;
                            E7p = 8;
                            break;
                        case 2:
                            J7p[7] = {};
                            J7p[2] = (1, J7p[0][1])(J7p[0][0]);
                            J7p[1] = [J7p[3], J7p[2].prototype][J7p[0][3]];
                            J7p[7].value = J7p[1][J7p[0][2]];
                            E7p = 3;
                            break;
                        }
                    }
                } catch (t6p) {}
                p7p = 6;
                break;
            }
        }
    }
    var h7p = 2;
    for (; h7p !== 27; ) {
        switch (h7p) {
        case 16:
            n6p(D6p, "replace", v7p[3], v7p[6]);
            h7p = 15;
            break;
        case 2:
            var v7p = [arguments];
            v7p[1] = "i";
            v7p[5] = "b1";
            v7p[9] = "";
            v7p[9] = "ii";
            h7p = 9;
            break;
        case 9:
            v7p[4] = "";
            v7p[4] = "1";
            v7p[8] = "";
            v7p[8] = "t";
            h7p = 14;
            break;
        case 15:
            n6p(p6p, "map", v7p[3], v7p[7]);
            h7p = 27;
            break;
        case 14:
            v7p[3] = 8;
            v7p[3] = 1;
            v7p[7] = v7p[8];
            v7p[7] += v7p[4];
            v7p[7] += v7p[9];
            v7p[6] = v7p[5];
            v7p[6] += v7p[1];
            h7p = 18;
            break;
        case 18:
            v7p[6] += v7p[1];
            h7p = 17;
            break;
        case 17:
            var n6p = function (K7p, P7p, z7p, V7p) {
                var n7p = 2;
                for (; n7p !== 5; ) {
                    switch (n7p) {
                    case 2:
                        var A7p = [arguments];
                        E6p(v7p[0][0], A7p[0][0], A7p[0][1], A7p[0][2], A7p[0][3]);
                        n7p = 5;
                        break;
                    }
                }
            };
            h7p = 16;
            break;
        }
    }
    function D6p(u7p) {
        var c7p = 2;
        for (; c7p !== 5; ) {
            switch (c7p) {
            case 2:
                var F7p = [arguments];
                return F7p[0][0].String;
                break;
            }
        }
    }
}
r8kk.i4z = function () {
    return typeof r8kk.b4z.Q1I === 'function' ? r8kk.b4z.Q1I.apply(r8kk.b4z, arguments) : r8kk.b4z.Q1I;
};
r8kk.Q7p = function () {
    return typeof r8kk[137281].h4c === 'function' ? r8kk[137281].h4c.apply(r8kk[137281], arguments) : r8kk[137281].h4c;
};
r8kk[137281] = (function (s4c) {
    function f4c(V4c) {
        var s7p = 2;
        for (; s7p !== 15; ) {
            switch (s7p) {
            case 9:
                s7p = !B4c-- ? 8 : 7;
                break;
            case 12:
                s7p = !B4c-- ? 11 : 10;
                break;
            case 10:
                s7p = e4c >= 0 && I4c >= 0 ? 20 : 18;
                break;
            case 16:
                z4c = I4c - V4c > c4c;
                s7p = 19;
                break;
            case 19:
                return z4c;
                break;
            case 14:
                s7p = !B4c-- ? 13 : 12;
                break;
            case 2:
                var z4c,
                c4c,
                l4c,
                I4c,
                k4c,
                e4c,
                q4c;
                s7p = 1;
                break;
            case 17:
                z4c = V4c - e4c > c4c;
                s7p = 19;
                break;
            case 5:
                q4c = F4c[s4c[4]];
                s7p = 4;
                break;
            case 13:
                k4c = s4c[7];
                s7p = 12;
                break;
            case 20:
                z4c = V4c - e4c > c4c && I4c - V4c > c4c;
                s7p = 19;
                break;
            case 11:
                e4c = (k4c || k4c === 0) && q4c(k4c, c4c);
                s7p = 10;
                break;
            case 3:
                c4c = 32;
                s7p = 9;
                break;
            case 6:
                I4c = l4c && q4c(l4c, c4c);
                s7p = 14;
                break;
            case 1:
                s7p = !B4c-- ? 5 : 4;
                break;
            case 7:
                s7p = !B4c-- ? 6 : 14;
                break;
            case 4:
                s7p = !B4c-- ? 3 : 9;
                break;
            case 18:
                s7p = e4c >= 0 ? 17 : 16;
                break;
            case 8:
                l4c = s4c[6];
                s7p = 7;
                break;
            }
        }
    }
    var I7p = 2;
    for (; I7p !== 10; ) {
        switch (I7p) {
        case 1:
            I7p = !B4c-- ? 5 : 4;
            break;
        case 2:
            var F4c,
            p4c,
            M4c,
            B4c;
            I7p = 1;
            break;
        case 13:
            I7p = !B4c-- ? 12 : 11;
            break;
        case 11:
            return {
                h4c: function (b4c) {
                    var R7p = 2;
                    for (; R7p !== 6; ) {
                        switch (R7p) {
                        case 1:
                            R7p = D4c > Q4c ? 5 : 8;
                            break;
                        case 4:
                            R4c = f4c(D4c);
                            R7p = 3;
                            break;
                        case 2:
                            var D4c = new F4c[s4c[0]]()[s4c[1]]();
                            R7p = 1;
                            break;
                        case 5:
                            R7p = !B4c-- ? 4 : 3;
                            break;
                        case 8:
                            var t4c = (function (i4c, Y4c) {
                                var M7p = 2;
                                for (; M7p !== 10; ) {
                                    switch (M7p) {
                                    case 9:
                                        M7p = T4c < i4c[Y4c[5]] ? 8 : 11;
                                        break;
                                    case 8:
                                        var J4c = F4c[Y4c[4]](i4c[Y4c[2]](T4c), 16)[Y4c[3]](2);
                                        var S4c = J4c[Y4c[2]](J4c[Y4c[5]] - 1);
                                        M7p = 6;
                                        break;
                                    case 1:
                                        i4c = b4c;
                                        M7p = 5;
                                        break;
                                    case 2:
                                        M7p = typeof i4c === 'undefined' && typeof b4c !== 'undefined' ? 1 : 5;
                                        break;
                                    case 5:
                                        M7p = typeof Y4c === 'undefined' && typeof s4c !== 'undefined' ? 4 : 3;
                                        break;
                                    case 11:
                                        return K4c;
                                        break;
                                    case 12:
                                        K4c = K4c ^ S4c;
                                        M7p = 13;
                                        break;
                                    case 3:
                                        var K4c,
                                        T4c = 0;
                                        M7p = 9;
                                        break;
                                    case 13:
                                        T4c++;
                                        M7p = 9;
                                        break;
                                    case 4:
                                        Y4c = s4c;
                                        M7p = 3;
                                        break;
                                    case 6:
                                        M7p = T4c === 0 ? 14 : 12;
                                        break;
                                    case 14:
                                        K4c = S4c;
                                        M7p = 13;
                                        break;
                                    }
                                }
                            })(undefined, undefined);
                            return t4c ? R4c : !R4c;
                            break;
                        case 3:
                            R7p = !B4c-- ? 9 : 8;
                            break;
                        case 9:
                            Q4c = D4c + 60000;
                            R7p = 8;
                            break;
                        }
                    }
                }
            };
            break;
        case 6:
            I7p = !B4c-- ? 14 : 13;
            break;
        case 7:
            M4c = p4c.b1ii(new F4c[a4c]("^['-|]"), 'S');
            I7p = 6;
            break;
        case 8:
            I7p = !B4c-- ? 7 : 6;
            break;
        case 14:
            s4c = s4c.t1ii(function (Z4c) {
                var d7p = 2;
                for (; d7p !== 13; ) {
                    switch (d7p) {
                    case 7:
                        d7p = !E4c ? 6 : 14;
                        break;
                    case 2:
                        var E4c;
                        d7p = 1;
                        break;
                    case 1:
                        d7p = !B4c-- ? 5 : 4;
                        break;
                    case 14:
                        return E4c;
                        break;
                    case 4:
                        var o4c = 0;
                        d7p = 3;
                        break;
                    case 6:
                        return;
                        break;
                    case 9:
                        E4c += F4c[M4c][O4c](Z4c[o4c] + 106);
                        d7p = 8;
                        break;
                    case 8:
                        o4c++;
                        d7p = 3;
                        break;
                    case 3:
                        d7p = o4c < Z4c.length ? 9 : 7;
                        break;
                    case 5:
                        E4c = '';
                        d7p = 4;
                        break;
                    }
                }
            });
            I7p = 13;
            break;
        case 3:
            I7p = !B4c-- ? 9 : 8;
            break;
        case 12:
            var R4c,
            Q4c = 0;
            I7p = 11;
            break;
        case 9:
            p4c = typeof O4c;
            I7p = 8;
            break;
        case 4:
            var O4c = 'fromCharCode',
            a4c = 'RegExp';
            I7p = 3;
            break;
        case 5:
            F4c = r8kk[565048];
            I7p = 4;
            break;
        }
    }
})([[-38, -9, 10, -5], [-3, -5, 10, -22, -1, 3, -5], [-7, -2, -9, 8, -41, 10], [10, 5, -23, 10, 8, -1, 4, -3], [6, -9, 8, 9, -5, -33, 4, 10], [2, -5, 4, -3, 10, -2], [-57, -3, 0, -56, 10, -9, -1, -58, -58], []]);
r8kk.J3f = function () {
    return typeof r8kk[329935].F3f === 'function' ? r8kk[329935].F3f.apply(r8kk[329935], arguments) : r8kk[329935].F3f;
};
r8kk[115496] = (function () {
    var q77 = function (L77, K77) {
        var B77 = K77 & 0xffff;
        var y77 = K77 - B77;
        return (y77 * L77 | 0) + (B77 * L77 | 0) | 0;
    },
    g77 = function (a77, i77, S77) {
        var T77 = 0xcc9e2d51,
        O77 = 0x1b873593;
        var V77 = S77;
        var P77 = i77 & ~0x3;
        for (var W77 = 0; W77 < P77; W77 += 4) {
            var U77 = a77.p1oo(W77) & 0xff | (a77.p1oo(W77 + 1) & 0xff) << 8 | (a77.p1oo(W77 + 2) & 0xff) << 16 | (a77.p1oo(W77 + 3) & 0xff) << 24;
            U77 = q77(U77, T77);
            U77 = (U77 & 0x1ffff) << 15 | U77 >>> 17;
            U77 = q77(U77, O77);
            V77 ^= U77;
            V77 = (V77 & 0x7ffff) << 13 | V77 >>> 19;
            V77 = V77 * 5 + 0xe6546b64 | 0;
        }
        U77 = 0;
        switch (i77 % 4) {
        case 3:
            U77 = (a77.p1oo(P77 + 2) & 0xff) << 16;
        case 2:
            U77 |= (a77.p1oo(P77 + 1) & 0xff) << 8;
        case 1:
            U77 |= a77.p1oo(P77) & 0xff;
            U77 = q77(U77, T77);
            U77 = (U77 & 0x1ffff) << 15 | U77 >>> 17;
            U77 = q77(U77, O77);
            V77 ^= U77;
        }
        V77 ^= i77;
        V77 ^= V77 >>> 16;
        V77 = q77(V77, 0x85ebca6b);
        V77 ^= V77 >>> 13;
        V77 = q77(V77, 0xc2b2ae35);
        V77 ^= V77 >>> 16;
        return V77;
    };
    return {
        e77: g77
    };
})();
function z1oo(U2B) {
    function o4B(k2B, f2B, m2B, x2B, I2B) {
        var B2B = 2;
        for (; B2B !== 13; ) {
            switch (B2B) {
            case 2:
                var A2B = [arguments];
                A2B[9] = "";
                A2B[9] = "y";
                A2B[2] = "";
                B2B = 3;
                break;
            case 3:
                A2B[2] = "efinePropert";
                A2B[7] = "";
                A2B[7] = "d";
                A2B[8] = 4;
                B2B = 6;
                break;
            case 6:
                A2B[8] = 6;
                try {
                    var g2B = 2;
                    for (; g2B !== 8; ) {
                        switch (g2B) {
                        case 2:
                            A2B[6] = {};
                            A2B[1] = (1, A2B[0][1])(A2B[0][0]);
                            A2B[4] = [A2B[8], A2B[1].prototype][A2B[0][3]];
                            A2B[6].value = A2B[4][A2B[0][2]];
                            g2B = 3;
                            break;
                        case 3:
                            try {
                                var H2B = 2;
                                for (; H2B !== 3; ) {
                                    switch (H2B) {
                                    case 2:
                                        A2B[5] = A2B[7];
                                        A2B[5] += A2B[2];
                                        A2B[5] += A2B[9];
                                        A2B[0][0].Object[A2B[5]](A2B[4], A2B[0][4], A2B[6]);
                                        H2B = 3;
                                        break;
                                    }
                                }
                            } catch (z4B) {}
                            A2B[4][A2B[0][4]] = A2B[6].value;
                            g2B = 8;
                            break;
                        }
                    }
                } catch (Q4B) {}
                B2B = 13;
                break;
            }
        }
    }
    var v2B = 2;
    for (; v2B !== 11; ) {
        switch (v2B) {
        case 13:
            var s4B = function (D2B, w2B, y2B, C2B) {
                var r2B = 2;
                for (; r2B !== 5; ) {
                    switch (r2B) {
                    case 2:
                        var u2B = [arguments];
                        o4B(Z2B[0][0], u2B[0][0], u2B[0][1], u2B[0][2], u2B[0][3]);
                        r2B = 5;
                        break;
                    }
                }
            };
            v2B = 12;
            break;
        case 2:
            var Z2B = [arguments];
            Z2B[2] = "";
            Z2B[2] = "o";
            Z2B[7] = "";
            v2B = 3;
            break;
        case 6:
            Z2B[1] += Z2B[4];
            Z2B[1] += Z2B[2];
            v2B = 13;
            break;
        case 12:
            s4B(p4B, "charCodeAt", Z2B[6], Z2B[1]);
            v2B = 11;
            break;
        case 3:
            Z2B[4] = "1o";
            Z2B[7] = "p";
            Z2B[6] = 1;
            Z2B[1] = Z2B[7];
            v2B = 6;
            break;
        }
    }
    function p4B(N2B) {
        var O2B = 2;
        for (; O2B !== 5; ) {
            switch (O2B) {
            case 2:
                var l2B = [arguments];
                return l2B[0][0].String;
                break;
            }
        }
    }
}
r8kk.V5p = function (z5p) {
    r8kk.a4z();
    if (r8kk && z5p)
        return r8kk.N7p(z5p);
};
r8kk.A5p = function (v5p) {
    r8kk.i4z();
    if (r8kk)
        return r8kk.Q7p(v5p);
};
r8kk.i4z();
r8kk.j5p = function (a5p) {
    r8kk.a4z();
    if (r8kk)
        return r8kk.Q7p(a5p);
};
r8kk.t7p = function (L7p) {
    r8kk.i4z();
    if (r8kk)
        return r8kk.Q7p(L7p);
};
r8kk.X7p = function (T7p) {
    r8kk.i4z();
    if (r8kk && T7p)
        return r8kk.Q7p(T7p);
};
r8kk.o7p = function (m7p) {
    r8kk.a4z();
    if (r8kk && m7p)
        return r8kk.Q7p(m7p);
};
(function () {
    var O4z = r8kk;
    O4z.P5p = function (K5p) {
        if (O4z && K5p)
            return O4z.N7p(K5p);
    };
    O4z.S5p = function (r5p) {
        if (O4z && r5p)
            return O4z.Q7p(r5p);
    };
    O4z.i4z();
    O4z.e5p = function (f5p) {
        O4z.i4z();
        if (O4z && f5p)
            return O4z.Q7p(f5p);
    };
    var h5F,
    G5F,
    s5F,
    S,
    Z; {
        if (typeof define === "function" && define.amd) {
            h5F = "s";
            h5F += "t";
            h5F += "x";
            G5F = "stxT";
            G5F += "h";
            G5F += "irdPar";
            G5F += "ty";
            define(["stxTimeZoneData", G5F, h5F], function (F2D, t2D, J2D) {
                O4z.a4z();
                return k(t2D, J2D);
            });
        } else {
            s5F = "undefi";
            s5F += "ned";
            S = {};
            if (typeof window.STXThirdParty != s5F) {
                S = window.STXThirdParty;
            }
            Z = {
                "STX": window.STX,
                "STXChart": window.STXChart,
                "$$": window.$$,
                "$$$": window.$$$
            };
            k(S, Z);
        }
    }
    function k(W, P) {
        O4z.G5p = function (b5p) {
            if (O4z && b5p)
                return O4z.N7p(b5p);
        };
        O4z.Z5p = function (k5p) {
            if (O4z && k5p)
                return O4z.Q7p(k5p);
        };
        var H6F,
        g6F,
        B6F,
        r6F,
        v6F,
        N6F,
        Y,
        C,
        M,
        J,
        H,
        E,
        F,
        D,
        R;
        H6F = "<div class=\"stx-baseline-handle fa\" style=\"";
        H6F += "display: none;\"></di";
        H6F += "v>";
        g6F = "<div class=\"stx-float-da";
        g6F += "te\" style=\"display: none;\"></div>";
        B6F = "<div id=\"home\" class=\"stx_jump_today home\" style=\"display:none\"><spa";
        B6F += "n></span></div>";
        r6F = "<div cl";
        r6F += "ass=\"stx_crosshair stx_crosshair_x\" style=\"displa";
        r6F += "y: none;\"";
        r6F += "></div>";
        v6F = "<div";
        v6F += " id=\"mSticky\"> <span id=\"mStickyInterior\"></span> <span id=\"mStickyRightClick\" class=\"\"><span class=\"overlayEdit stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span id=\"overla";
        v6F += "yTrashCan\" class=\"stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span id=\"";
        v6F += "mouseDeleteInstructions\"><span>(</span><span id=\"mouseDeleteText\">right-click to delete</span><span id=\"mouseManageText\">right-click to manage</span><span>)</span></span></span></div>";
        N6F = "<span class=\"stx-btn stx_annotation_ca";
        N6F += "ncel\" style=\"display: none; margin-left:10px;";
        N6F += "\">cancel</span>";
        Y = W.plotSpline;
        C = W.plotSplinePrimitive;
        M = W.timezoneJS;
        J = P.STX;
        H = P.STXChart;
        E = P.$$;
        F = P.$$$;
        H.prototype.plugins = {};
        if (J.isSurface) {
            J.gesture = new MSGesture();
            J.gesture.target = document.body;
            J.gesturePointerId = null;
        }
        H.htmlControls = {
            "annotationSave": '<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',
            "annotationCancel": N6F,
            "mSticky": v6F,
            "crossX": r6F,
            "crossY": '<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',
            "chartControls": '<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div id="chartSize"><span id="zoomOut" class="stx-zoom-out"></span><span id="zoomIn" class="stx-zoom-in"></span></div></div>',
            "home": B6F,
            "floatDate": g6F,
            "handleTemplate": '<div class="stx-ico-handle" style="display: none;"><span></span></div> ',
            "iconsTemplate": '<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',
            "baselineHandle": H6F
        };
        H.prototype.registerHTMLElements = function () {
            var K,
            G6F,
            O6F,
            T,
            h6F,
            u,
            Q,
            L,
            V;
            K = this.chart.container;
            O4z.a4z();
            for (var A in H.htmlControls) {
                G6F = "un";
                G6F += "def";
                G6F += "ine";
                G6F += "d";
                O6F = "undef";
                O6F += "ine";
                O6F += "d";
                if (typeof this.chart[A] == O6F && typeof this.controls[A] == G6F) {
                    if (!this.allowZoom && A == "chartControls")
                        continue;
                    O4z.o3f(0);
                    T = F(O4z.S3f(( + "446.33", 3594) > (701, "8792" | 8256) ? "P" : "#", A), K);
                    if (T) {
                        this.chart[A] = T;
                        this.controls[A] = T;
                    } else {
                        h6F = "D";
                        h6F += "I";
                        h6F += "V";
                        u = H.htmlControls[A];
                        Q = document.createElement(h6F);
                        Q.innerHTML = u;
                        T = Q.firstChild;
                        K.appendChild(T);
                        this.chart[A] = T;
                        this.controls[A] = T;
                        T.id = A;
                    }
                }
            }
            if (this.controls.chartControls) {
                L = F("#zoomIn", this.controls.chartControls);
                V = F("#zoomOut", this.controls.chartControls);
                J.safeClickTouch(L, (function (G) {
                        return function (O) {
                            O4z.i4z();
                            G.zoomIn();
                            O.stopPropagation();
                        };
                    })(this));
                J.safeClickTouch(V, (function (N) {
                        O4z.i4z();
                        return function (B) {
                            O4z.a4z();
                            N.zoomOut();
                            B.stopPropagation();
                        };
                    })(this));
                if (!J.touchDevice) {
                    L.onmouseover = (function (X) {
                        return function (U) {
                            O4z.i4z();
                            X.modalBegin();
                        };
                    })(this);
                    L.onmouseout = (function (r8) {
                        return function (w8) {
                            O4z.i4z();
                            r8.modalEnd();
                        };
                    })(this);
                    V.onmouseover = (function (l8) {
                        return function (n8) {
                            O4z.a4z();
                            l8.modalBegin();
                        };
                    })(this);
                    V.onmouseout = (function (y8) {
                        return function (S8) {
                            y8.modalEnd();
                        };
                    })(this);
                }
            }
            if (this.controls.home) {
                J.safeClickTouch(this.controls.home, (function (k8) {
                        O4z.i4z();
                        return function (Z8) {
                            k8.home({
                                animate: !![]
                            });
                            Z8.stopPropagation();
                        };
                    })(this));
                if (!J.touchDevice) {
                    this.controls.home.onmouseover = (function (H8) {
                        return function (t8) {
                            O4z.i4z();
                            H8.modalBegin();
                        };
                    })(this);
                    this.controls.home.onmouseout = (function (J8) {
                        O4z.a4z();
                        return function (F8) {
                            J8.modalEnd();
                        };
                    })(this);
                }
            }
        };
        J.camelCaseRegExp = /-([a-z])/g;
        J.makeCamelCase = function (s8) {
            O4z.i4z();
            return s8.replace(J.camelCaseRegExp, function (M8) {
                return M8[1].toUpperCase();
            });
        };
        H.prototype.cloneStyle = function (e8) {
            var C8,
            Y8,
            P8,
            D8,
            E8,
            p8,
            R8,
            o8;
            C8 = {};
            function I8(A8) {
                O4z.a4z();
                return A8[1].toUpperCase();
            }
            Y8 = !{};
            for (var W8 in e8) {
                P8 = e8[W8];
                if (W8 == "backgroundAttachment") {
                    Y8 = !!{};
                }
                if (Y8) {
                    if (P8 && P8.constructor == String && isNaN(W8)) {
                        C8[W8] = P8;
                    }
                } else if (!isNaN(W8)) {
                    D8 = e8.getPropertyValue(P8);
                    if (D8) {
                        P8 = P8.split("-");
                        E8 = 0;
                        p8 = P8.length;
                        R8 = P8[0];
                        while (++E8 < p8) {
                            O4z.o3f(1);
                            var R5F = O4z.J3f(1, 19, 7, 20, 3);
                            R8 += P8[E8].charAt("0" & 2147483647).toUpperCase() + P8[E8].slice(R5F);
                        }
                        C8[R8] = D8;
                    }
                } else {
                    o8 = W8.replace(J.camelCaseRegExp, I8);
                    C8[o8] = P8;
                }
            }
            return C8;
        };
        H.prototype.canvasStyle = function (f8) {
            var L8,
            T8,
            V8;
            L8 = this.styles[f8];
            if (!L8) {
                T8 = document.createElement("div");
                T8.className = f8;
                document.body.appendChild(T8);
                V8 = getComputedStyle(T8);
                L8 = this.styles[f8] = this.cloneStyle(V8);
                document.body.removeChild(T8);
                if (!V8) {
                    this.styles[f8] = null;
                }
            }
            return L8;
        };
        H.prototype.colorOrStyle = function (K8) {
            var s6F;
            s6F = "rg";
            s6F += "b(";
            O4z.a4z();
            if (K8.indexOf((584.28, 9230) != 1720 ? "#" : (514, 3.50e+3)) !=  -  + "1") {
                return K8;
            }
            if (K8.indexOf("rgba(") != -1) {
                return K8;
            }
            if (K8.indexOf(s6F) != -1) {
                return K8;
            }
            if (K8 == "transparent") {
                return K8;
            }
            return this.canvasStyle(K8);
        };
        H.prototype.clearStyles = function () {
            this.styles = {};
        };
        H.prototype.setStyle = function (b8, Q8, c8) {
            if (!this.styles[b8]) {
                this.canvasStyle(b8);
            }
            if (!this.styles[b8]) {
                this.styles[b8] = {};
            }
            this.styles[b8][J.makeCamelCase(Q8)] = c8;
        };
        H.prototype.canvasFont = function (u8, x8) {
            var i8,
            m8,
            l9F,
            U9F,
            D9F,
            R6F;
            if (!x8) {
                x8 = this.chart.context;
            }
            i8 = this.canvasStyle(u8);
            if (!i8) {
                return;
            }
            O4z.o3f(2);
            var o5F = O4z.S3f(97, 965, 485);
            O4z.o3f(2);
            var p5F = O4z.S3f(1041, 3107, 3123);
            O4z.a4z();
            O4z.s3f(3);
            var t5F = O4z.S3f(5587, 5597, 5577, 10);
            O4z.s3f(4);
            var F5F = O4z.S3f(13, 3608, 2, 47138, 3626);
            O4z.o3f(5);
            var c5F = O4z.S3f(4, 14148, 7090, 3);
            O4z.o3f(6);
            var V5F = O4z.J3f(1998, 336, 16);
            O4z.s3f(0);
            var P5F = O4z.J3f(756, 6807);
            m8 = i8.fontStyle + ((o5F, "660.06" - 0) > 979.51 ? ("a",  + "0x2279") : " ") + i8.fontWeight + " " + i8.fontSize + ((p5F, t5F) > F5F ? c5F == (932.66, V5F) ? P5F : " " : (!!{}, 926.64)) + i8.fontFamily;
            if (m8.indexOf("undefined") == -1) {
                l9F = -441794647;
                U9F = -424421331;
                D9F =  + "2";
                for (var y9F = 1; O4z.h2B(y9F.toString(), y9F.toString().length, 37301) !== l9F; y9F++) {
                    x8.font = m8;
                    D9F += 2;
                }
                if (O4z.s2B(D9F.toString(), D9F.toString().length, 91324) !== U9F) {
                    x8.font = m8;
                }
                x8.font = m8;
            } else {
                R6F = "bad c";
                R6F += "s";
                R6F += "s style";
                R6F += " for class ";
                this.styles[u8] = null;
                O4z.o3f(0);
                console.log(O4z.S3f(R6F, u8));
            }
        };
        H.prototype.canvasColor = function (j8, q8) {
            var G8,
            d8,
            g8;
            if (!q8) {
                q8 = this.chart.context;
            }
            G8 = this.canvasStyle(j8);
            if (!G8) {
                return;
            }
            d8 = G8.color;
            if (J.isTransparent(d8)) {
                d8 = this.defaultColor;
            }
            q8.globalAlpha = 1;
            q8.fillStyle = d8;
            q8.strokeStyle = d8;
            g8 = G8.opacity;
            if (typeof g8 != "undefined") {
                q8.globalAlpha = g8;
            }
        };
        H.prototype.getCanvasFontSize = function (O8) {
            var h8,
            a8;
            h8 = this.canvasStyle(O8);
            a8 = h8.fontSize;
            if (!a8) {
                a8 = "12";
            }
            return parseInt(J.stripPX(a8));
        };
        H.prototype.getCanvasColor = function (v8) {
            O4z.i4z();
            var N8;
            N8 = this.canvasStyle(v8);
            return N8.color;
        };
        H.hideDates = function () {
            var A5B,
            l5B,
            U5B;
            O4z.i4z();
            A5B = -1469854716;
            l5B = -1116548539;
            U5B = 2;
            for (var w5B = 1; O4z.s2B(w5B.toString(), w5B.toString().length, 73461) !== A5B; w5B++) {
                return !![];
            }
            if (O4z.h2B(U5B.toString(), U5B.toString().length,  + "88058") !== l5B) {
                return !"1";
            }
        };
        H.prototype.runPrepend = function (r9, w9, U8) {
            var B8,
            z8;
            O4z.s3f(0);
            B8 = this[O4z.J3f("prepend", r9)];
            if (!B8) {
                return !1;
            }
            if (!U8) {
                U8 = this;
            }
            for (var X8 = 0; X8 < B8.length; X8++) {
                z8 = B8[X8].apply(U8, w9);
                if (z8) {
                    return z8;
                }
            }
            return ![];
        };
        H.prototype.runAppend = function (k9, Z9, y9) {
            var o6F,
            l9,
            S9;
            o6F = "a";
            o6F += "ppe";
            o6F += "nd";
            O4z.o3f(0);
            O4z.a4z();
            l9 = this[O4z.S3f(o6F, k9)];
            if (!l9) {
                return !{};
            }
            if (!y9) {
                y9 = this;
            }
            for (var n9 = 0; n9 < l9.length; n9++) {
                S9 = l9[n9].apply(y9, Z9);
                if (S9) {
                    return S9;
                }
            }
            return ![];
        };
        H.registerDrawingTool = function (H9, t9) {
            H.drawingTools[H9] = t9;
        };
        H.prototype.createBlock = function (s9, M9, P9, F9, W9, J9) {
            if (!J9) {
                J9 = this.chart.context;
            }
            if (typeof F9 == "undefined") {
                return;
            }
            this.canvasColor(W9, J9);
            J9.fillRect(s9, P9, M9, F9);
            J9.globalAlpha = 1;
        };
        H.prototype.changeOccurred = function (C9) {
            var p6F;
            if (this.currentlyImporting) {
                return;
            }
            if (this.changeCallback) {
                this.changeCallback(this, C9);
            }
            if (C9 == "layout") {
                p6F = "l";
                p6F += "a";
                p6F += "you";
                p6F += "t";
                this.dispatch(p6F, {
                    stx: this,
                    symbol: this.chart.symbol,
                    symbolObject: this.chart.symbolObject,
                    layout: this.layout
                });
            } else if (C9 == "vector") {
                this.dispatch("drawing", {
                    stx: this,
                    symbol: this.chart.symbol,
                    symbolObject: this.chart.symbolObject,
                    drawings: this.drawingObjects
                });
            }
        };
        H.prototype.setChartType = function (E9) {
            O4z.i4z();
            this.layout.chartType = E9;
            if (this.displayInitialized) {
                this.draw();
            }
            this.changeOccurred("layout");
        };
        H.prototype.setAggregationType = function (e9) {
            this.layout.aggregationType = e9;
            if (this.chart.canvas) {
                this.createDataSet();
                this.draw();
            }
            O4z.a4z();
            this.changeOccurred("layout");
        };
        H.prototype.setChartScale = function (Y9) {
            var t6F;
            t6F = "li";
            t6F += "nea";
            t6F += "r";
            if (!Y9) {
                Y9 = t6F;
            }
            this.layout.chartScale = Y9;
            if (this.chart.canvas) {
                this.draw();
            }
            this.changeOccurred("layout");
        };
        H.prototype.setAdjusted = function (D9) {
            this.layout.adj = D9;
            if (this.chart.canvas) {
                this.createDataSet();
                this.draw();
            }
            O4z.i4z();
            this.changeOccurred("layout");
        };
        H.prototype.setVolumeUnderlay = function (R9) {
            this.layout.volumeUnderlay = R9;
            O4z.i4z();
            if (this.chart.canvas) {
                this.draw();
            }
            this.changeOccurred("layout");
        };
        H.prototype.serializeDrawings = function () {
            var o9;
            O4z.i4z();
            o9 = [];
            for (var p9 = 0; p9 < this.drawingObjects.length; p9++) {
                o9.push(this.drawingObjects[p9].serialize());
            }
            return o9;
        };
        H.prototype.abortDrawings = function () {
            O4z.a4z();
            for (var I9 = 0; I9 < this.drawingObjects.length; I9++) {
                this.drawingObjects[I9].abort(!"");
            }
            this.drawingObjects = [];
        };
        H.prototype.reconstructDrawings = function (V9) {
            O4z.i4z();
            var F6F,
            A9,
            T9,
            L9;
            for (var f9 = 0; f9 < V9.length; f9++) {
                F6F = "fibo";
                F6F += "nacci";
                A9 = V9[f9];
                if (A9.name == F6F) {
                    A9.name = "retracement";
                }
                T9 = H.drawingTools[A9.name];
                if (!T9) {
                    if (J.Drawing[A9.name]) {
                        T9 = J.Drawing[A9.name];
                        H.registerDrawingTool(A9.name, T9);
                    }
                }
                if (T9) {
                    L9 = new T9();
                    L9.reconstruct(this, A9);
                    this.drawingObjects.push(L9);
                }
            }
        };
        H.prototype.clearDrawings = function (b9) {
            var K9;
            K9 = J.shallowClone(this.drawingObjects);
            this.abortDrawings();
            if (b9) {
                this.undoStamps = [];
            } else {
                this.undoStamp(K9, J.shallowClone(this.drawingObjects));
            }
            this.changeOccurred("vector");
            this.createDataSet();
            this.deleteHighlighted(); ;
        };
        H.prototype.createDrawing = function (c9, i9) {
            var Q9;
            Q9 = new J.Drawing[c9]();
            Q9.reconstruct(this, i9);
            this.drawingObjects.push(Q9);
            this.draw();
            return Q9;
        };
        H.prototype.removeDrawing = function (x9) {
            O4z.i4z();
            for (var u9 = 0; u9 < this.drawingObjects.length; u9++) {
                if (this.drawingObjects[u9] == x9) {
                    this.drawingObjects.splice(u9, 1);
                    this.changeOccurred("vector");
                    this.draw();
                    return;
                }
            }
        };
        H.prototype.dateFromTick = function (q9, m9, a9) {
            var g9,
            d9,
            j9,
            G9,
            B5B,
            g5B,
            H5B;
            if (!m9) {
                m9 = this.chart;
            }
            g9 = m9.dataSet.length;
            O4z.o3f(7);
            G9 = O4z.S3f(1982778656, "0");
            O4z.i4z();
            if (q9 < 0) {
                j9 = this.standardMarketIterator(m9.dataSet[0].DT);
                while (G9 > q9) {
                    d9 = j9.previous();
                    G9 -= 1;
                }
            } else if (q9 >= g9) {
                B5B = -6565469;
                g5B = 1270533989;
                O4z.s3f(8);
                H5B = O4z.S3f(0, "2");
                for (var G5B = 1; O4z.h2B(G5B.toString(), G5B.toString().length, 5771) !== B5B; G5B++) {
                    j9 = this.standardMarketIterator(m9.dataSet[g9 + 2].DT);
                    H5B += 2;
                }
                if (O4z.s2B(H5B.toString(), H5B.toString().length, 51282) !== g5B) {
                    j9 = this.standardMarketIterator(m9.dataSet[g9 - 1].DT);
                }
                while (g9 - 1 + G9 < q9) {
                    d9 = j9.next();
                    G9 += 1;
                }
            } else {
                d9 = m9.dataSet[q9].DT;
            }
            if (a9) {
                return new Date(d9.getTime());
            }
            return J.yyyymmddhhmm(d9);
        };
        H.prototype.calculateYAxisMargins = function (h9) {
            h9.zoom = h9.initialMarginTop + h9.initialMarginBottom;
            O4z.s3f(0);
            var e5F = O4z.S3f(0, 2);
            O4z.i4z();
            h9.scroll = (h9.initialMarginTop - h9.initialMarginBottom) / e5F;
        };
        H.prototype.home = function (O9) {
            var c6F,
            z9,
            P6F,
            V6F,
            N9,
            U9,
            B9,
            r7,
            l7,
            n7,
            y7,
            X9,
            v9,
            S7;
            c6F = "stx-drag-cha";
            c6F += "rt";
            this.swipe.amplitude = 0;
            this.grabbingScreen = !{};
            if (H.insideChart) {
                J.unappendClassName(this.container, c6F);
            }
            if (typeof O9 != "object") {
                O9 = {
                    maintainWhitespace: O9
                };
            }
            if (typeof O9.maintainWhitespace == "undefined") {
                O9.maintainWhitespace = !!1;
            }
            this.cancelTouchSingleClick = !0;
            if (!this.chart.dataSet || !this.chart.dataSet.length) {
                this.draw();
                return;
            }
            this.micropixels = 0;
            z9 = this.chart.width / this.layout.candleWidth;
            for (var w7 in this.charts) {
                P6F = "roundR";
                P6F += "ectArrow";
                V6F = "mount";
                V6F += "ain";
                N9 = this.charts[w7];
                if (O9.chart && O9.chart != N9)
                    continue;
                U9 =  + "0";
                if (O9.maintainWhitespace && this.preferences.whitespace >=  + "0") {
                    U9 = this.preferences.whitespace;
                }
                if (O9.whitespace) {
                    U9 = O9.whitespace;
                }
                B9 = U9 / this.layout.candleWidth;
                r7 = this.layout.chartType == "line" || this.layout.chartType == "colored_line" || this.layout.chartType == V6F || this.layout.chartType == "colored_mountain";
                if (this.yaxisLabelStyle == P6F && !(r7 && this.extendLastTick && this.chart.yaxisPaddingRight !== 0)) {
                    l7 = 3;
                    O4z.o3f(9);
                    var L5F = O4z.S3f(10, 17, 9);
                    n7 = this.getCanvasFontSize("stx_yaxis") + l7 * L5F;
                    O4z.o3f(10);
                    y7 = O4z.J3f(n7, 0.66);
                    B9 += y7 / this.layout.candleWidth;
                    if (B9 < 0) {
                        O4z.o3f(10);
                        B9 = O4z.S3f("0", 1);
                    }
                }
                X9 = Math.min(z9, N9.dataSet.length);
                if (this.chart.allowScrollPast) {
                    X9 = z9;
                }
                X9 -= B9;
                v9 = Math.floor(X9);
                this.micropixels = (X9 - v9) * this.layout.candleWidth;
                if (r7) {
                    O4z.o3f(11);
                    var M5F = O4z.S3f(5, 0, 6, 3, 3);
                    this.micropixels += this.layout.candleWidth / M5F;
                }
                if (this.micropixels > this.layout.candleWidth) {
                    v9++;
                    this.micropixels -= this.layout.candleWidth;
                }
                if (O9.animate) {
                    S7 = this;
                    this.scrollTo(N9, v9, (function (k7, Z7, H7) {
                            return function () {
                                k7.calculateYAxisMargins(Z7.panel.yAxis);
                                Z7.scroll = H7;
                                k7.draw();
                            };
                        })(S7, N9, v9));
                } else {
                    N9.scroll = v9;
                    this.calculateYAxisMargins(N9.panel.yAxis);
                }
            }
            this.draw();
        };
        H.prototype.isHome = function () {
            O4z.i4z();
            O4z.s3f(12);
            var j5F = O4z.J3f(1, 3, 18, 7);
            return this.chart.scroll - j5F <= Math.ceil(this.chart.width / this.layout.candleWidth);
        };
        H.prototype.tickFromDate = function (W7, t7, C7, o7) {
            var J7,
            M7,
            s7,
            P7,
            E7,
            e7,
            Y7,
            R7,
            p7,
            D7;
            if (!t7) {
                t7 = this.chart;
            }
            if (!t7.dataSet || !t7.dataSet.length) {
                return 0;
            }
            if (!C7) {
                C7 = 0;
            }
            if (!t7) {
                t7 = this.chart;
            }
            J7 = W7.constructor == Date ? W7 : J.strToDateTime(W7);
            if (!H.isDailyInterval(this.layout.interval)) {
                J7.setMinutes(J7.getMinutes() + C7);
            }
            M7 = J7.getTime();
            s7 = t7.tickCache[M7];
            if (s7 || s7 === 0) {
                return s7;
            }
            P7 = t7.dataSet[0].DT;
            E7 = t7.dataSet[t7.dataSet.length - 1].DT;
            if (J7 >= P7 && J7 <= E7) {
                for (var F7 = 0; F7 < t7.dataSet.length; F7++) {
                    e7 = t7.dataSet[F7].DT;
                    if (e7.getTime() == J7.getTime()) {
                        t7.tickCache[M7] = F7;
                        return F7;
                    }
                    if (e7 > J7) {
                        t7.tickCache[M7] = o7 ? F7 : F7 - 1;
                        return t7.tickCache[M7];
                    }
                }
            }
            O4z.s3f(13);
            Y7 = O4z.J3f(J7, P7);
            R7 = Y7 ? P7 : E7;
            p7 = this.standardMarketIterator(R7);
            D7 = p7.futureTick({
                end: J7
            });
            s7 = Y7 ? D7 * -1 : t7.dataSet.length - 1 + D7;
            t7.tickCache[M7] = s7;
            return s7;
        };
        H.XAxisLabel = function (I7, A7, T7) {
            this.hz = I7;
            this.grid = A7;
            this.text = T7;
        };
        H.prototype.createXAxis = function (f7) {
            var e6F,
            V7,
            L7,
            K7;
            e6F = "cre";
            e6F += "ateX";
            e6F += "Axi";
            O4z.i4z();
            e6F += "s";
            if (f7.dataSegment.length <= 0) {
                return null;
            }
            if (H.hideDates()) {
                return null;
            }
            V7 = [f7];
            L7 = this.runPrepend("createXAxis", V7);
            if (L7) {
                return L7;
            }
            K7 = this.layout.interval;
            if (f7.xAxis.axisType == "numeric") {
                return this.createNumericXAxis(f7);
            }
            L7 = this.createTickXAxisWithDates(f7);
            this.runAppend(e6F, V7);
            return L7;
        };
        H.prototype.drawXAxis = function (u7, Q7) {
            var j6F,
            M6F,
            L6F,
            O7,
            n3,
            x7,
            b7,
            z7,
            N7,
            v7,
            i7,
            B7,
            a7,
            q7,
            d7,
            G7,
            m7,
            h7,
            X7,
            r3,
            w3,
            J6F,
            Y6F,
            U7,
            l3;
            j6F = "s";
            j6F += "tx_grid_dark";
            M6F = "st";
            M6F += "r";
            M6F += "oke";
            L6F = " ";
            L6F += "  ";
            O7 = [u7, Q7];
            if (this.runPrepend("drawXAxis", O7)) {
                return;
            }
            if (!Q7) {
                return;
            }
            n3 = null;
            x7 = this.chart.context;
            this.canvasFont("stx_xaxis");
            x7.textAlign = "center";
            O4z.i4z();
            x7.textBaseline = "middle";
            z7 = x7.measureText(L6F).width;
            for (var j7 = 0; j7 < Q7.length; j7++) {
                b7 = Q7[j7];
                N7 = x7.measureText(b7.text).width;
                O4z.s3f(0);
                v7 = Math.max(O4z.S3f(N7, z7), u7.xAxis.minimumLabelWidth);
                b7.hz = Math.floor(b7.hz + this.micropixels) + 0.5;
                O4z.s3f(14);
                var J5F = O4z.S3f(1, 11, 13, 14, 334);
                b7.left = b7.hz - v7 / J5F;
                O4z.o3f(15);
                var Y5F = O4z.S3f(111, 5, 14, 19);
                b7.right = b7.hz + v7 / Y5F;
                O4z.o3f(16);
                var E5F = O4z.J3f(20, 47, 18, 7);
                b7.unpaddedRight = b7.hz + N7 / E5F;
            }
            i7 = new J.Plotter();
            i7.newSeries("line", "stroke", this.canvasStyle("stx_grid"));
            i7.newSeries("boundary", M6F, this.canvasStyle(j6F));
            i7.newSeries("border", "stroke", this.canvasStyle("stx_grid_border"));
            B7 = this.xAxisAsFooter === !!{}
             ? this.chart.canvasHeight : u7.panel.bottom;
            O4z.s3f(17);
            a7 = this.whichPanel(O4z.S3f(B7, 1));
            if (!a7) {
                return;
            }
            q7 = a7.yAxis;
            this.adjustYAxisHeightOffset(a7, q7);
            d7 = -1;
            G7 = Math.MAX_VALUE;
            m7 = u7.xAxis.displayBorder || u7.xAxis.displayBorder === null;
            if (this.axisBorders === !"") {
                m7 = !"";
            }
            if (this.axisBorders === !{}) {
                m7 = !"1";
            }
            h7 = m7 ? q7.bottom - 0.5 : q7.bottom;
            O4z.s3f(9);
            var z5F = O4z.S3f(15, 34, 21);
            X7 = B7 - this.xaxisHeight / z5F;
            if (m7) {
                X7 += 3;
            }
            for (var c7 = 0; c7 < Q7.length; c7++) {
                if (Q7[c7].grid == "boundary") {
                    G7 = Q7[c7].left;
                    break;
                }
            }
            r3 = 0;
            w3 = 0;
            for (var g7 = 0; g7 < Q7.length; g7++) {
                b7 = Q7[g7];
                if (g7 == c7) {
                    for (c7++; c7 < Q7.length; c7++) {
                        if (Q7[c7].grid == "boundary") {
                            G7 = Q7[c7].left;
                            break;
                        }
                    }
                    if (c7 >= Q7.length) {
                        c7 = -1;
                        G7 = Math.MAX_VALUE;
                    }
                    if (d7 > -1) {
                        if (b7.left < d7)
                            continue;
                    }
                } else {
                    if (d7 > -1) {
                        if (b7.left < d7)
                            continue;
                    }
                    if (b7.right > G7)
                        continue;
                }
                d7 = b7.right;
                if (Math.floor(b7.unpaddedRight) <= this.chart.right) {
                    w3++;
                    if (u7.xAxis.displayGridLines) {
                        i7.moveTo(b7.grid, b7.hz, this.xAxisAsFooter === !!"1" ? 0 : q7.top);
                        i7.lineTo(b7.grid, b7.hz, h7);
                    }
                    if (m7) {
                        J6F = "bo";
                        J6F += "rde";
                        J6F += "r";
                        i7.moveTo(J6F, b7.hz, h7 + 0.5);
                        i7.lineTo("border", b7.hz, h7 +  + "6");
                    }
                    r3 = b7.hz;
                    this.canvasColor(b7.grid == "boundary" ? "stx_xaxis_dark" : "stx_xaxis");
                    x7.fillText(b7.text, b7.hz, X7);
                }
            }
            if (m7) {
                Y6F = "bo";
                Y6F += "rde";
                Y6F += "r";
                U7 = Math.round(q7.bottom) + 0.5;
                l3 = Math.round(u7.right) + 0.5;
                i7.moveTo("border", u7.left, U7);
                i7.lineTo(Y6F, l3, U7);
            }
            i7.draw(x7);
            x7.textAlign = "left";
            this.runAppend("drawXAxis", O7);
        };
        H.prototype.createNumericXAxis = function (y3) {
            var W3,
            C3,
            E3,
            M3,
            F3,
            t3,
            e3,
            R3,
            k3,
            s3,
            p3,
            Z3,
            P3,
            H3,
            E6F,
            D3;
            axisRepresentation = [];
            y3.xaxis = [];
            for (var S3 =  + "0"; S3 < y3.maxTicks; S3++) {
                if (y3.dataSegment[S3])
                    break;
                y3.xaxis.push(null);
            }
            for (var J3 = S3; J3 < y3.maxTicks; J3++) {
                if (!y3.dataSegment[S3])
                    break;
            }
            W3 = (J3 - S3) / y3.maxTicks;
            O4z.i4z();
            C3 = y3.xAxis.idealTickSizePixels ? y3.xAxis.idealTickSizePixels : y3.xAxis.autoComputedTickSizePixels;
            E3 = Math.round(this.chart.width * W3 / C3);
            M3 = this.determineMinMax(y3.dataSegment, ["index"]);
            F3 = M3[1];
            t3 = M3[0];
            O4z.o3f(17);
            e3 = O4z.S3f(F3, t3);
            O4z.o3f(17);
            R3 = Y3(O4z.S3f(F3, t3), !!0);
            O4z.s3f(18);
            k3 = Y3(O4z.S3f(e3, E3, 1), !!"1");
            s3 = Math.floor(t3 / k3) * k3;
            p3 = Math.ceil(F3 / k3) * k3;
            function Y3(T3, f3) {
                O4z.a4z();
                var A3,
                I3,
                o3;
                A3 = Math.floor(Math.log10(T3));
                I3 = T3 / Math.pow( + "10", A3);
                if (f3) {
                    if (I3 < 1.5) {
                        o3 = 1;
                    } else if (I3 < 3) {
                        o3 = 2;
                    } else if (I3 < 7) {
                        O4z.s3f(19);
                        o3 = O4z.S3f(315998560, "5");
                    } else {
                        o3 = 10;
                    }
                } else {
                    if (I3 <= 1) {
                        o3 = 1;
                    } else if (I3 <= ("2" & 2147483647)) {
                        o3 = 2;
                    } else if (I3 <= 5) {
                        o3 = 5;
                    } else {
                        O4z.o3f(20);
                        o3 = O4z.S3f(2147483647, "10");
                    }
                }
                O4z.s3f(21);
                var Q5F = O4z.J3f(16, 9, 18, 1, 15);
                return o3 * Math.pow(Q5F, A3);
            }
            Z3 = s3;
            if (s3 < t3) {
                O4z.s3f(0);
                Z3 = O4z.J3f(s3, k3);
            }
            for (S3; S3 < y3.maxTicks; S3++) {
                H3 = y3.dataSegment[S3];
                if (H3) {
                    E6F = "l";
                    E6F += "i";
                    E6F += "n";
                    E6F += "e";
                    D3 = {
                        index: H3.index,
                        data: H3
                    };
                    y3.xaxis.push(D3);
                    if (H3.index < Z3)
                        continue;
                    if (H3.index == Z3) {
                        P3 = y3.left + S3 * this.layout.candleWidth + this.micropixels;
                    } else if (H3.index > Z3) {
                        O4z.s3f(22);
                        var n5F = O4z.S3f(5, 767, 22, 7);
                        P3 = y3.left + S3 * this.layout.candleWidth - n5F + this.micropixels;
                    }
                    axisRepresentation.push(new H.XAxisLabel(P3, E6F, Z3));
                    Z3 += k3;
                } else {
                    y3.xaxis.push(null);
                }
            }
            return axisRepresentation;
        };
        H.prototype.createTickXAxisWithDates = function (L3) {
            var n6,
            y6,
            v3,
            S6,
            k6,
            q3,
            Z6,
            G3,
            V3,
            U3,
            z3,
            H6,
            K3,
            u3,
            h3,
            B3,
            t6,
            w6,
            b3,
            d3,
            g3,
            l6,
            O3,
            J6,
            j3,
            X3,
            i3,
            x3,
            c3,
            N3,
            Q6F,
            Q3,
            m3;
            if (!L3) {
                L3 = this.chart;
            }
            L3.xaxis = [];
            if (!this.timeIntervalMap) {
                this.timePossibilities = [J.MILLISECOND, J.SECOND, J.MINUTE, J.HOUR, J.DAY, J.MONTH, J.YEAR];
                this.timeIntervalMap = {};
                this.timeIntervalMap[J.MILLISECOND] = {
                    arr: [1, 2, 5, 10, 20, 50, 100,  + "250", 500],
                    minTimeUnit: 0,
                    maxTimeUnit: 1000
                };
                this.timeIntervalMap[J.SECOND] = {
                    arr: [1, 2, "5" & 2147483647, 10, 15, 30],
                    minTimeUnit: 0,
                    maxTimeUnit: 60
                };
                this.timeIntervalMap[J.MINUTE] = {
                    arr: [1, 2, 5, 10, 15, 30],
                    minTimeUnit: 0,
                    maxTimeUnit: 60
                };
                this.timeIntervalMap[J.HOUR] = {
                    arr: ["1" - 0, 2,  + "3", 4, 6,  + "12"],
                    minTimeUnit: 0,
                    maxTimeUnit: 24
                };
                this.timeIntervalMap[J.DAY] = {
                    arr: [1,  + "2", 7, 14],
                    minTimeUnit:  + "1",
                    maxTimeUnit: "32" ^ 0
                };
                this.timeIntervalMap[J.MONTH] = {
                    arr: [ + "1",  + "2", 3, 6],
                    minTimeUnit: 1,
                    maxTimeUnit:  + "13"
                };
                this.timeIntervalMap[J.YEAR] = {
                    arr: [1, 2, 3, 5],
                    minTimeUnit: 1,
                    maxTimeUnit: 20000000
                };
                this.timeIntervalMap[J.DECADE] = {
                    arr: [10],
                    minTimeUnit: "0" | 0,
                    maxTimeUnit: "2000000" - 0
                };
            }
            O4z.o3f(20);
            n6 = [31,  + "28", 31, 30, 31, 30, 31, O4z.S3f(2147483647, "31"), 30, 31, 30, 31];
            y6 = this.layout.periodicity;
            O4z.i4z();
            v3 = this.layout.interval;
            S6 = L3.xAxis.idealTickSizePixels ? L3.xAxis.idealTickSizePixels : L3.xAxis.autoComputedTickSizePixels;
            k6 = this.chart.width / S6;
            for (var a3 = 0; a3 < L3.dataSegment.length; a3++) {
                if (L3.dataSegment[a3])
                    break;
            }
            if (a3 == L3.dataSegment.length) {
                return [];
            }
            q3 = 0;
            if (v3 === parseInt(v3,  + "10")) {
                O4z.o3f(0);
                var a5F = O4z.S3f(59983, 17);
                q3 = v3 * y6 * a5F * L3.dataSegment.length;
            } else {
                q3 = L3.dataSegment[L3.dataSegment.length - 1].DT.getTime() - L3.dataSegment[a3].DT.getTime(); ;
            }
            Z6 = this;
            if (q3 === 0) {
                q3 = F6() * L3.maxTicks; ;
            } else {
                q3 = q3 / L3.dataSegment.length * L3.maxTicks; ;
            }
            O4z.o3f(23);
            G3 = O4z.S3f(q3, k6);
            for (V3 = 0; V3 < this.timePossibilities.length; V3++) {
                if (this.timePossibilities[V3] > G3)
                    break;
            }
            if (V3 === 0) {
                console.log("createTickXAxisWithDates: Assertion error. msPerTick < 1");
            }
            if (V3 == this.timePossibilities.length) {
                V3--;
            } else if (V3 > 0) {
                O4z.o3f(17);
                U3 = this.timePossibilities[O4z.S3f(V3, 1)];
                z3 = this.timeIntervalMap[U3];
                O4z.o3f(24);
                var S5F = O4z.S3f(1, 14, 13);
                H6 = z3.arr[z3.arr.length - S5F];
                if (G3 - U3 * H6 < this.timePossibilities[V3] - G3) {
                    V3--;
                }
            }
            K3 = this.timePossibilities[V3];
            if (L3.xAxis.timeUnit) {
                K3 = L3.xAxis.timeUnit;
            }
            L3.xAxis.activeTimeUnit = K3;
            u3 = J.clone(this.timeIntervalMap[K3]);
            for (V3 = 0; V3 < u3.arr.length; V3++) {
                if (u3.arr[V3] * K3 > G3)
                    break;
            }
            if (V3 == u3.arr.length) {
                V3--;
            } else {
                if (G3 - u3.arr[V3 -  + "1"] * K3 < u3.arr[V3] * K3 - G3) {
                    V3--;
                }
            }
            h3 = u3.arr[V3];
            if (L3.xAxis.timeUnitMultiplier) {
                h3 = L3.xAxis.timeUnitMultiplier;
            }
            B3 = [];
            for (V3 = "0" >> 442259872; V3 <= L3.maxTicks; V3++) {
                if (L3.dataSegment[V3])
                    break;
            }
            if (V3 > 0 && V3 < L3.maxTicks) {
                t6 = this.standardMarketIterator(L3.dataSegment[V3].DT, L3.xAxis.adjustTimeZone ? this.displayZone : this.dataZone);
                for (var r6 = V3; r6 > 0; r6--) {
                    w6 = t6.previous();
                    L3.xaxis.unshift({
                        DT: w6,
                        Date: J.yyyymmddhhmmssmmm(w6)
                    });
                }
            }
            b3 = 0;
            d3 = u3.minTimeUnit;
            g3 = -1;
            l6 = !!{};
            O3 = this.layout.candleWidth;
            J6 = this.standardMarketIterator(L3.dataSegment[L3.dataSegment.length - 1].DT, L3.xAxis.adjustTimeZone ? this.displayZone : this.dataZone);
            for (V3; V3 < L3.maxTicks; V3++) {
                if (V3 < L3.dataSegment.length) {
                    j3 = L3.dataSegment[V3];
                    if (j3.displayDate && L3.xAxis.adjustTimeZone) {
                        b3 = j3.displayDate;
                    } else {
                        b3 = j3.DT;
                    }
                    if (V3 && j3.leftOffset) {
                        O4z.o3f(25);
                        var X5F = O4z.J3f(12, 22, 15, 3, 11);
                        O3 = (j3.leftOffset - j3.candleWidth / X5F) / V3;
                    }
                } else {
                    if (!L3.xAxis.futureTicks)
                        break;
                    b3 = J6.next();
                }
                X3 = {
                    DT: b3,
                    Date: J.yyyymmddhhmmssmmm(b3)
                };
                if (V3 < L3.dataSegment.length) {
                    X3.data = L3.dataSegment[V3];
                } else {
                    X3.data = null;
                }
                L3.xaxis.push(X3);
                if (K3 == J.MILLISECOND) {
                    i3 = b3.getMilliseconds();
                    x3 = b3.getSeconds();
                } else if (K3 == J.SECOND) {
                    i3 = b3.getSeconds();
                    x3 = b3.getMinutes();
                } else if (K3 == J.MINUTE) {
                    i3 = b3.getMinutes();
                    x3 = b3.getHours();
                } else if (K3 == J.HOUR) {
                    O4z.s3f(26);
                    var d5F = O4z.J3f(1863, 480, 4, 3);
                    i3 = b3.getHours() + b3.getMinutes() / d5F;
                    x3 = b3.getDate();
                } else if (K3 == J.DAY) {
                    i3 = b3.getDate();
                    O4z.o3f(27);
                    var T5F = O4z.J3f(18, 5, 14);
                    x3 = b3.getMonth() + T5F;
                } else if (K3 == J.MONTH) {
                    O4z.o3f(28);
                    var K8F = O4z.S3f(12, 11, 2, 0);
                    i3 = b3.getMonth() + K8F;
                    x3 = b3.getFullYear();
                } else if (K3 == J.YEAR) {
                    i3 = b3.getFullYear();
                    O4z.o3f(17);
                    var W8F = O4z.S3f(10000, 9000);
                    x3 = b3.getFullYear() + W8F;
                } else {
                    i3 = b3.getFullYear();
                    x3 = 0;
                }
                c3 = null;
                if (g3 != x3) {
                    if (i3 <= d3) {
                        d3 = u3.minTimeUnit;
                    }
                    O4z.s3f(29);
                    var b8F = O4z.J3f(3, 18, 9, 3, 1);
                    N3 = L3.left + V3 * O3 - b8F;
                    c3 = null;
                    if (K3 == J.HOUR || K3 == J.MINUTE && g3 > x3) {
                        if (L3.xAxis.formatter) {
                            c3 = L3.xAxis.formatter(b3, "boundary", J.DAY,  + "1");
                        } else {
                            if (this.internationalizer) {
                                c3 = this.internationalizer.monthDay.format(b3);
                            } else {
                                O4z.o3f(9);
                                var q8F = O4z.J3f(20, 40, 21);
                                c3 = b3.getMonth() + q8F + "/" + b3.getDate();
                            }
                        }
                    } else if (K3 == J.DAY) {
                        if (g3 > x3) {
                            c3 = b3.getFullYear();
                        } else {
                            c3 = J.monthAsDisplay(b3.getMonth(), !!"", this);
                        }
                    } else if (K3 == J.MONTH) {
                        c3 = b3.getFullYear();
                    }
                    if (c3 && g3 != -1) {
                        B3.push(new H.XAxisLabel(N3, "boundary", c3));
                    }
                }
                if (i3 >= d3) {
                    Q6F = "l";
                    Q6F += "in";
                    Q6F += "e";
                    if (d3 == u3.minTimeUnit) {
                        if (x3 == g3)
                            continue; ;
                    }
                    Q3 = new Date(b3);
                    O4z.o3f(30);
                    var i8F = O4z.S3f(1922, 15, 16, 8);
                    O4z.s3f(31);
                    var Z8F = O4z.J3f(10, 6, 2, 18, 3);
                    O4z.s3f(17);
                    var u8F = O4z.S3f(8, 7);
                    N3 = L3.left + (i8F * V3 + Z8F) * O3 /  + "2" - u8F;
                    m3 = Math.floor(i3 / h3) * h3;
                    if (m3 < i3) {
                        if (this.layout.interval == "week") {
                            m3 = i3;
                        } else {
                            O4z.o3f(23);
                            N3 -= O4z.S3f(O3, 4);
                        };
                    }
                    if (K3 == J.MILLISECOND) {
                        Q3.setMilliseconds(m3);
                    } else if (K3 == J.SECOND) {
                        Q3.setMilliseconds(0);
                        Q3.setSeconds(m3);
                    } else if (K3 == J.MINUTE) {
                        Q3.setMilliseconds( + "0");
                        Q3.setSeconds(0);
                        Q3.setMinutes(m3);
                    } else if (K3 == J.HOUR) {
                        Q3.setMilliseconds(0);
                        Q3.setSeconds(0);
                        Q3.setMinutes(0);
                        Q3.setHours(m3);
                    } else if (K3 == J.DAY) {
                        Q3.setDate(Math.max( + "1", m3)); ;
                    } else if (K3 == J.MONTH) {
                        Q3.setDate(1);
                        O4z.o3f(32);
                        Q3.setMonth(O4z.S3f("1", m3));
                    } else if (K3 == J.YEAR) {
                        Q3.setDate(1);
                        Q3.setMonth(0); ;
                    } else {
                        O4z.s3f(10);
                        Q3.setDate(O4z.S3f("1", 1));
                        Q3.setMonth(0); ;
                    }
                    O4z.s3f(0);
                    d3 = O4z.J3f(m3, h3);
                    if (K3 == J.DAY) {
                        O4z.s3f(17);
                        var A8F = O4z.J3f(11, 10);
                        u3.maxTimeUnit = n6[Q3.getMonth()] + A8F;
                    }
                    if (d3 >= u3.maxTimeUnit) {
                        d3 = u3.minTimeUnit;
                    }
                    g3 = x3;
                    if (l6 && m3 < i3)
                        continue;
                    if (L3.xAxis.formatter) {
                        c3 = L3.xAxis.formatter(Q3, "line", K3, h3);
                    } else {
                        if (K3 == J.DAY) {
                            c3 = Q3.getDate(); ;
                        } else if (K3 == J.MONTH) {
                            c3 = J.monthAsDisplay(b3.getMonth(), !{}, this);
                        } else if (K3 == J.YEAR || K3 == J.DECADE) {
                            c3 = Q3.getFullYear();
                        } else {
                            c3 = J.timeAsDisplay(Q3, this, K3);
                        }
                    }
                    B3.push(new H.XAxisLabel(N3, Q6F, c3));
                }
                l6 = ![];
            }
            function F6() {
                var z6F,
                P6,
                s6,
                M6,
                W6;
                z6F = "d";
                z6F += "a";
                z6F += "y";
                P6 = {
                    'begin': new Date(),
                    'interval': z6F,
                    'periodicity': 1,
                    'inZone': this.dataZone,
                    'outZone': this.dataZone
                };
                s6 = L3.market.newIterator(P6);
                s6.next();
                M6 = s6.previous();
                s6 = Z6.standardMarketIterator(M6, null, L3);
                W6 = s6.next();
                return W6.getTime() - M6.getTime();
            }
            return B3;
        };
        D = 0;
        R = 0;
        H.prototype.createYAxis = function (E6, e6) {
            var d6F,
            n6F,
            D6,
            A6,
            C6,
            T6,
            c6,
            i6,
            a6F,
            f6,
            p6,
            m6,
            q6,
            R6,
            S6F,
            L6,
            Y6,
            o6,
            I6,
            X6F,
            K6,
            d6,
            G6,
            u6,
            x6;
            d6F = "p";
            d6F += "r";
            d6F += "ojec";
            d6F += "tion";
            n6F = "createYA";
            n6F += "x";
            n6F += "is";
            if (this.runPrepend(n6F, arguments)) {
                return;
            }
            D6 = E6.chart;
            A6 = E6.name == D6.name;
            if (!e6) {
                e6 = {};
            }
            e6.noChange = !{};
            C6 = e6.yAxis ? e6.yAxis : E6.yAxis;
            if (H.enableCaching && C6.high == E6.cacheHigh && C6.low == E6.cacheLow) {
                T6 = D6.dataSet.length - D6.scroll;
                c6 = T6 + D6.maxTicks;
                E6.cacheLeft = Math.min(E6.cacheLeft, T6);
                E6.cacheRight = Math.max(E6.cacheRight, c6);
                E6.cacheLeft = T6;
                E6.cacheRight = c6;
                e6.noChange = !0;
                D++;
            } else {
                E6.cacheLeft = 1000000;
                E6.cacheRight = -1;
                E6.cacheHigh = C6.high;
                E6.cacheLow = C6.low;
                R++;
            }
            i6 = D6.xAxis.idealTickSizePixels ? D6.xAxis.idealTickSizePixels : D6.xAxis.autoComputedTickSizePixels;
            if (C6.goldenRatioYAxis) {
                if (C6.idealTickSizePixels != i6 / 1.618) {
                    e6.noChange = ![];
                }
            }
            if (!e6.noChange) {
                a6F = "pr";
                a6F += "oject";
                a6F += "io";
                a6F += "n";
                this.adjustYAxisHeightOffset(E6, C6);
                f6 = C6.height = C6.bottom - C6.top;
                p6 = (C6.high - C6.low) / (f6 - C6.zoom);
                if (e6.ground && !C6.semiLog) {
                    C6.high = C6.high + C6.zoom * p6;
                } else {
                    O4z.o3f(33);
                    var l8F = O4z.S3f(12, 19, 5, 0);
                    C6.high = C6.high + C6.zoom / l8F * p6 + C6.scroll * p6;
                    m6 = C6.low;
                    O4z.s3f(17);
                    var U8F = O4z.S3f(30, 28);
                    C6.low = C6.low - C6.zoom / U8F * p6 + C6.scroll * p6;
                    if (C6.semiLog && C6.low <= 0) {
                        C6.low = m6;
                    }
                }
                if (C6.min || C6.min === 0) {
                    C6.low = C6.min;
                }
                if (C6.max || C6.max === 0) {
                    C6.high = C6.max;
                }
                C6.shadow = C6.high - C6.low;
                if (C6.semiLog && (!this.activeDrawing || this.activeDrawing.name != a6F)) {
                    C6.logHigh = Math.log(C6.high) / Math.LN10;
                    q6 = Math.max(C6.low, 0.000000001);
                    C6.logLow = Math.log(q6) / Math.LN10;
                    if (C6.low <= 0) {
                        C6.logLow = 0;
                    }
                    C6.logShadow = C6.logHigh - C6.logLow;
                }
                if (C6.goldenRatioYAxis && A6) {
                    O4z.o3f(34);
                    C6.idealTickSizePixels = O4z.J3f("1.618", i6);
                    if (C6.idealTickSizePixels ===  + "0") {
                        R6 = this.getCanvasFontSize("stx_yaxis");
                        O4z.o3f(10);
                        C6.idealTickSizePixels = O4z.S3f(R6, 5);
                    }
                } else {
                    if (!C6.idealTickSizePixels) {
                        S6F = "stx";
                        S6F += "_yax";
                        S6F += "i";
                        S6F += "s";
                        R6 = this.getCanvasFontSize(S6F);
                        if (A6) {
                            O4z.o3f(35);
                            C6.idealTickSizePixels = O4z.J3f(0, R6, "5");
                        } else {
                            O4z.s3f(10);
                            C6.idealTickSizePixels = O4z.J3f(R6, 2);
                        }
                    }
                }
                L6 = Math.round(f6 / C6.idealTickSizePixels);
                Y6 = e6.range ? e6.range[1] - e6.range[ + "0"] : C6.shadow;
                O4z.s3f(23);
                C6.priceTick = Math.floor(O4z.S3f(Y6, L6));
                o6 =  + "1";
                for (var V6 = 0; V6 < ("10" | 2); V6++) {
                    if (C6.priceTick > 0)
                        break;
                    o6 *= 10;
                    C6.priceTick = Math.floor(Y6 / L6 * o6) / o6;
                }
                if (V6 == 10) {
                    C6.priceTick =  + "0.00000001";
                }
                C6.priceTick = Math.round(Y6 / L6 * o6) / o6;
                I6 = Math.round(Y6 / C6.priceTick);
                if (e6.range && I6 < Y6 && !C6.noEvenDivisorTicks) {
                    while (I6 >=  + "1") {
                        if (Y6 % I6 === 0)
                            break;
                        I6--;
                    }
                    O4z.o3f(23);
                    C6.priceTick = O4z.J3f(Y6, I6);
                }
                if (C6.minimumPriceTick) {
                    X6F = "s";
                    X6F += "t";
                    X6F += "x_y";
                    X6F += "axis";
                    K6 = C6.minimumPriceTick;
                    R6 = this.getCanvasFontSize(X6F);
                    for (var b6 = 0; b6 < 100; b6++) {
                        O4z.s3f(23);
                        d6 = O4z.J3f(Y6, K6);
                        if (f6 / d6 < R6 *  + "2") {
                            K6 += C6.minimumPriceTick;
                        } else
                            break;
                    }
                    if (b6 < 100) {
                        C6.priceTick = K6;
                    }
                }
                C6.multiplier = C6.height / C6.shadow;
            }
            if (!this.activeDrawing || this.activeDrawing.name != d6F) {
                C6.high = this.valueFromPixel(E6.top, E6, C6);
                if (C6.semiLog) {
                    C6.logHigh = Math.log(C6.high) / Math.LN10;
                    G6 = Math.max(C6.low, "0.00000000001" * 1);
                    C6.logLow = Math.log(G6) / Math.LN10;
                    C6.logShadow = C6.logHigh - C6.logLow;
                }
                C6.shadow = C6.high - C6.low;
            }
            C6.multiplier = C6.height / C6.shadow;
            if (C6.multiplier == Infinity) {
                C6.multiplier = 0;
            }
            if (!C6.decimalPlaces && C6.decimalPlaces !== 0) {
                if (A6) {
                    u6 = 0;
                    for (var Q6 = 0; Q6 < E6.yAxis.shadowBreaks.length; Q6++) {
                        x6 = E6.yAxis.shadowBreaks[Q6];
                        if (E6.yAxis.shadow < x6[0]) {
                            u6 = x6[1];
                        }
                    }
                    C6.printDecimalPlaces = u6; ;
                } else {
                    C6.printDecimalPlaces = null;
                };
            } else {
                C6.printDecimalPlaces = C6.decimalPlaces;
            }
            this.runAppend("createYAxis", arguments);
        };
        H.prototype.adjustYAxisHeightOffset = function (j6, g6) {
            O4z.s3f(19);
            g6.bottomOffset = O4z.J3f(83544832, "0");
            if (!this.xaxisHeight) {
                this.xaxisHeight = this.getCanvasFontSize("stx_xaxis") + ("4" ^ 0);
                if (this.chart.xAxis.displayBorder || this.axisBorders) {
                    this.xaxisHeight += 3;
                }
            }
            if (this.xAxisAsFooter === !"" && j6.bottom > this.chart.canvasHeight - this.xaxisHeight) {
                g6.bottomOffset = this.xaxisHeight;
            } else if (this.xAxisAsFooter !== !!1 && j6.name == "chart") {
                g6.bottomOffset = this.xaxisHeight;
            }
            O4z.i4z();
            g6.bottom = j6.bottom - g6.bottomOffset;
        };
        H.prototype.drawYAxis = function (h6, O6) {
            var a6,
            T6F,
            k0,
            J0,
            F0,
            z6,
            M0,
            P0,
            W0,
            X6,
            s0,
            r0,
            B6,
            w0,
            Z0,
            l0,
            n0,
            H0,
            N6,
            C0,
            E0,
            v6,
            e0,
            S0,
            K3F,
            Y0;
            if (!O6) {
                O6 = {};
            }
            a6 = O6.yAxis ? O6.yAxis : h6.yAxis;
            if (a6.fractional) {
                if (!a6.originalPriceFormatter) {
                    a6.originalPriceFormatter = {
                        func: a6.priceFormatter
                    };
                }
                if (!a6.fractional.resolution) {
                    a6.fractional.resolution = a6.minimumPrice;
                }
                if (!a6.fractional.formatter) {
                    a6.fractional.formatter = "'";
                }
                if (!a6.priceFormatter) {
                    a6.priceFormatter = function (I0, A0, o0) {
                        var R0,
                        p0,
                        D0;
                        R0 = Math.floor(Math.round(o0 / a6.fractional.resolution) * a6.fractional.resolution);
                        p0 = Math.round((o0 - R0) / a6.fractional.resolution);
                        D0 = Math.floor(p0);
                        O4z.o3f(0);
                        var D8F = O4z.J3f(1, 9);
                        O4z.a4z();
                        O4z.o3f(36);
                        var w8F = O4z.S3f(7806, 19, 973);
                        return R0 + a6.fractional.formatter + (D0 < D8F ? "0" : "") + D0 + (p0 - D0 >= 0.5 ? w8F !=  + "126.84" ? "+" : (!"", ![]) : "");
                    };
                }
            } else {
                if (a6.originalPriceFormatter) {
                    a6.priceFormatter = a6.originalPriceFormatter.func;
                    a6.originalPriceFormatter = null;
                }
            }
            O4z.i4z();
            if (a6.pretty) {
                return this.drawYAxisPretty(h6, O6);
            }
            if (this.runPrepend("drawYAxis", arguments)) {
                return;
            }
            if (!O6.noDraw && !a6.noDraw) {
                if (!a6.yAxisPlotter || !O6.noChange) {
                    T6F = "stx_yaxi";
                    T6F += "s";
                    k0 = h6.chart;
                    J0 = h6.name == k0.name && a6 === h6.yAxis;
                    if (!a6.priceTick) {
                        return;
                    }
                    F0 = a6.shadow;
                    if (O6.range) {
                        O4z.s3f(37);
                        var y8F = O4z.J3f(28, 11, 16);
                        F0 = O6.range[y8F] - O6.range[0];
                    }
                    z6 = F0 / a6.priceTick;
                    z6 = Math.round(z6);
                    if (a6.semiLog) {
                        M0 = Math.log(this.valueFromPixel(a6.bottom, h6)) / Math.LN10;
                        P0 = (a6.logHigh - a6.logLow) / z6;
                    }
                    W0 = a6.textStyle ? a6.textStyle : T6F;
                    a6.yAxisPlotter = new J.Plotter();
                    a6.yAxisPlotter.newSeries("grid", "stroke", this.canvasStyle("stx_grid"));
                    a6.yAxisPlotter.newSeries("text", "fill", this.colorOrStyle(W0));
                    a6.yAxisPlotter.newSeries("border", "stroke", this.canvasStyle("stx_grid_border"));
                    X6 = 0;
                    s0 = O6.range ? O6.range[1] : a6.high;
                    r0 = O6.range ? O6.range[0] : a6.low;
                    B6 = a6.displayBorder === null ? k0.panel.yAxis.displayBorder : a6.displayBorder;
                    if (this.axisBorders === ![]) {
                        B6 = !!0;
                    }
                    if (this.axisBorders === !!{}) {
                        B6 = !0;
                    }
                    Z0 = a6.position === null ? k0.panel.yAxis.position : a6.position;
                    if (Z0 == "left") {
                        w0 = a6.left + a6.width;
                    } else {
                        w0 = a6.left;
                    }
                    l0 = Math.round(w0) + 0.5;
                    n0 = B6 ? 3 : 0;
                    if (Z0 == "left") {
                        n0 = B6 ? -3 : 0;
                    }
                    if (J0) {
                        if (a6.shadow < 1) {
                            O4z.o3f(38);
                            var C8F = O4z.J3f(19, 9);
                            O4z.s3f(22);
                            var k8F = O4z.S3f(5, 299, 5, 12);
                            X6 = (parseInt(r0 / a6.priceTick, C8F) + k8F) * a6.priceTick - r0;
                        } else {
                            X6 = a6.priceTick - Math.round(r0 % a6.priceTick * h6.chart.roundit) / h6.chart.roundit;
                        }
                    } else {
                        X6 = s0 % a6.priceTick;
                    }
                    H0 = this.getCanvasFontSize("stx_yaxis");
                    for (var U6 = 0; U6 < z6; U6++) {
                        if (a6.semiLog) {
                            O4z.s3f(39);
                            C0 = O4z.J3f(P0, M0, U6);
                            N6 = Math.pow(10, C0);
                        } else {
                            if (J0) {
                                N6 = r0 + U6 * a6.priceTick + X6;
                            } else {
                                N6 = s0 - U6 * a6.priceTick - X6;
                            }
                        }
                        E0 = this.pixelFromPrice(N6, h6, a6);
                        v6 = Math.round(E0) + 0.5;
                        if (v6 + H0 / 2 > h6.bottom)
                            continue;
                        if (v6 - H0 / 2 < h6.top)
                            continue;
                        if (a6.displayGridLines) {
                            a6.yAxisPlotter.moveTo("grid", h6.left, v6);
                            a6.yAxisPlotter.lineTo("grid", h6.right, v6);
                        }
                        if (B6) {
                            O4z.o3f(17);
                            a6.yAxisPlotter.moveTo("border", O4z.J3f(l0, 0.5), v6);
                            O4z.o3f(0);
                            a6.yAxisPlotter.lineTo("border", O4z.S3f(l0, n0), v6);
                        }
                        if (a6.priceFormatter) {
                            N6 = a6.priceFormatter(this, h6, N6);
                        } else {
                            N6 = this.formatYAxisPrice(N6, h6, null, a6);
                        }
                        e0 = a6.textBackground ? this.containerColor : null;
                        O4z.o3f(40);
                        S0 = O4z.J3f(1008786304, n0, w0, "3");
                        if (Z0 == "left") {
                            O4z.s3f(17);
                            var f8F = O4z.S3f(5, 4);
                            S0 = a6.left + ("3" | f8F);
                            if (a6.justifyRight) {
                                S0 = a6.left + a6.width + n0 - ("3" & 2147483647);
                            }
                        } else {
                            if (a6.justifyRight) {
                                S0 = w0 + a6.width;
                            }
                        }
                        a6.yAxisPlotter.addText("text", N6, S0, v6, e0, null, H0);
                    }
                    if (B6) {
                        K3F = "borde";
                        K3F += "r";
                        Y0 = Math.round(a6.bottom) + 0.5;
                        a6.yAxisPlotter.moveTo("border", l0, a6.top);
                        a6.yAxisPlotter.lineTo("border", l0, Y0);
                        a6.yAxisPlotter.draw(this.chart.context, K3F);
                    }
                }
                this.plotYAxisGrid(h6);
            }
            this.runAppend("drawYAxis", arguments);
        };
        H.prototype.drawYAxisPretty = function (f0, L0) {
            var W3F,
            T0,
            u3F,
            Z3F,
            i3F,
            q3F,
            b3F,
            h0,
            E2,
            X0,
            m0,
            F2,
            e2,
            s2,
            U0,
            u0,
            q0,
            O0,
            d0,
            G0,
            N0,
            z0,
            l2,
            K0,
            g0,
            j0,
            V0,
            v0,
            n2,
            Z2,
            b0,
            M2,
            H2,
            Q0,
            J2,
            c0,
            P2,
            i0,
            W2,
            a0,
            A3F,
            C2,
            Y5B,
            E5B,
            z5B;
            W3F = "d";
            W3F += "rawY";
            W3F += "Ax";
            W3F += "is";
            O4z.a4z();
            if (this.runPrepend(W3F, arguments)) {
                return;
            }
            if (!L0) {
                L0 = {};
            }
            T0 = L0.yAxis ? L0.yAxis : f0.yAxis;
            if (!L0.noDraw && !T0.noDraw) {
                if (!T0.yAxisPlotter || !L0.noChange) {
                    u3F = "s";
                    u3F += "t";
                    u3F += "x";
                    u3F += "_yaxis";
                    Z3F = "t";
                    Z3F += "e";
                    Z3F += "xt";
                    i3F = "stx_g";
                    i3F += "ri";
                    i3F += "d";
                    q3F = "stro";
                    q3F += "ke";
                    b3F = "st";
                    b3F += "x";
                    b3F += "_ya";
                    b3F += "xis";
                    h0 = f0.chart;
                    E2 = f0.name == h0.name && T0 === f0.yAxis;
                    if (!T0.priceTick) {
                        return;
                    }
                    if (isNaN(T0.high) || isNaN(T0.low)) {
                        return;
                    }
                    X0 = T0.shadow;
                    if (L0.range) {
                        O4z.o3f(41);
                        var m8F = O4z.S3f(3, 14, 2, 677, 16);
                        X0 = L0.range[m8F] - L0.range[0];
                    }
                    m0 = T0.height / T0.idealTickSizePixels;
                    m0 = Math.round(m0);
                    F2 = T0.textStyle ? T0.textStyle : b3F;
                    T0.yAxisPlotter = new J.Plotter();
                    T0.yAxisPlotter.newSeries("grid", q3F, this.canvasStyle(i3F));
                    T0.yAxisPlotter.newSeries(Z3F, "fill", this.colorOrStyle(F2));
                    T0.yAxisPlotter.newSeries("border", "stroke", this.canvasStyle("stx_grid_border"));
                    e2 = 0;
                    s2 = L0.range ? L0.range[ + "1"] : T0.high;
                    U0 = L0.range ? L0.range[0] : T0.low;
                    u0 = T0.displayBorder === null ? h0.panel.yAxis.displayBorder : T0.displayBorder;
                    if (this.axisBorders === !"1") {
                        u0 = !!0;
                    }
                    if (this.axisBorders === !![]) {
                        u0 = !!{};
                    }
                    O0 = T0.position === null ? h0.panel.yAxis.position : T0.position;
                    if (O0 == "left") {
                        q0 = T0.left + T0.width;
                    } else {
                        q0 = T0.left;
                    }
                    d0 = Math.round(q0) + 0.5;
                    G0 = u0 ? 3 : 0;
                    if (O0 == "left") {
                        G0 = u0 ? -3 : 0;
                    }
                    N0 = this.getCanvasFontSize(u3F);
                    z0 = T0.increments;
                    l2 = z0.length;
                    K0 = 0;
                    g0 = 1;
                    j0 = 0;
                    V0 = 0;
                    v0 = 0;
                    n2 = Number.MAX_VALUE;
                    for (var S2 = 0; S2 < ("100" | 0); S2++) {
                        O4z.s3f(22);
                        var x8F = O4z.S3f(16, 3062, 24, 8);
                        j0 = z0[K0] * Math.pow(x8F, v0);
                        O4z.s3f(23);
                        g0 = Math.floor(O4z.J3f(X0, j0));
                        O4z.s3f(17);
                        Z2 = Math.abs(O4z.S3f(m0, g0));
                        if (Z2 > n2) {
                            break;
                        } else {
                            n2 = Z2;
                        }
                        if (g0 == m0) {
                            V0 = j0;
                            break;
                        } else if (g0 > m0) {
                            K0++;
                            if (K0 >= l2) {
                                O4z.o3f(20);
                                K0 = O4z.S3f(2147483647, "0");
                                v0++;
                            }
                        } else {
                            K0--;
                            if (K0 < 0) {
                                O4z.o3f(17);
                                K0 = O4z.J3f(l2, 1);
                                v0--;
                            }
                        }
                        V0 = j0;
                    }
                    b0 = Math.ceil(U0 / V0) * V0;
                    M2 = T0.bottom - this.pixelFromPrice(b0, f0, T0);
                    H2 =  + "0";
                    if (M2 > T0.idealTickSizePixels && T0.semiLog && T0.prettySemiLog) {
                        for (Q0 = Math.ceil(U0); Q0 < b0 && b0 % Q0 !== 0; ++Q0) { ;
                        }
                        if (Q0 < b0) {
                            if (b0 === V0) {
                                V0 = Q0;
                                H2 = Q0;
                            }
                            b0 = Q0;
                        }
                    }
                    J2 = 0;
                    for (var B0 =  + "0"; B0 < 100; B0++) {
                        O4z.o3f(39);
                        c0 = O4z.J3f(V0, b0, J2);
                        if (c0 > s2)
                            break;
                        V0 += H2;
                        J2++;
                        P2 = this.pixelFromPrice(c0, f0, T0);
                        i0 = Math.round(P2) + 0.5;
                        if (i0 + N0 / 2 > f0.bottom)
                            continue;
                        if (i0 - N0 / 2 < f0.top)
                            continue;
                        if (T0.displayGridLines) {
                            T0.yAxisPlotter.moveTo("grid", f0.left, i0);
                            T0.yAxisPlotter.lineTo("grid", f0.right, i0);
                        }
                        if (u0) {
                            O4z.s3f(17);
                            T0.yAxisPlotter.moveTo("border", O4z.S3f(d0, 0.5), i0);
                            O4z.s3f(0);
                            T0.yAxisPlotter.lineTo("border", O4z.S3f(d0, G0), i0);
                        }
                        if (T0.priceFormatter) {
                            c0 = T0.priceFormatter(this, f0, c0);
                        } else {
                            c0 = this.formatYAxisPrice(c0, f0, null, T0);
                        }
                        W2 = T0.textBackground ? this.containerColor : null;
                        O4z.s3f(6);
                        a0 = O4z.S3f(3, q0, G0);
                        if (O0 == "left") {
                            O4z.s3f(42);
                            var I8F = O4z.J3f(9, 74, 9, 3, 17);
                            a0 = T0.left + I8F;
                            if (T0.justifyRight) {
                                O4z.s3f(0);
                                var N8F = O4z.S3f(1, 2);
                                a0 = T0.left + T0.width + G0 - N8F;
                            }
                        } else {
                            if (T0.justifyRight) {
                                a0 = q0 + T0.width;
                            }
                        }
                        T0.yAxisPlotter.addText("text", c0, a0, i0, W2, null, N0);
                    }
                    if (B0 >= 100) {
                        A3F = "drawYAxisPretty:";
                        A3F += " assertion error. zz reached 100";
                        console.log(A3F);
                    }
                    if (u0) {
                        C2 = Math.round(T0.bottom) + ("0.5" - 0);
                        T0.yAxisPlotter.moveTo("border", d0, T0.top);
                        T0.yAxisPlotter.lineTo("border", d0, C2);
                        T0.yAxisPlotter.draw(this.chart.context, "border");
                    }
                }
                this.plotYAxisGrid(f0);
            }
            Y5B = 50741759;
            E5B = -1171574569;
            z5B =  + "2";
            for (var n5B = 1; O4z.s2B(n5B.toString(), n5B.toString().length, 6912) !== Y5B; n5B++) {
                this.runAppend("", arguments);
                z5B += 2;
            }
            if (O4z.s2B(z5B.toString(), z5B.toString().length, 53952) !== E5B) {
                this.runAppend("drawYAxis", arguments);
            }
        };
        H.prototype.plotYAxisGrid = function (D2) {
            var l3F,
            Y2;
            l3F = "plo";
            l3F += "t";
            l3F += "YAxi";
            l3F += "sGrid";
            if (this.runPrepend("plotYAxisGrid", arguments)) {
                return;
            }
            Y2 = this.chart.context;
            D2.yAxis.yAxisPlotter.draw(Y2, "grid");
            this.runAppend(l3F, arguments);
        };
        H.prototype.plotYAxisText = function (A2) {
            O4z.a4z();
            var I2,
            y3F,
            w3F,
            D3F,
            U3F,
            p2,
            R2,
            T2;
            if (this.runPrepend("plotYAxisText", arguments)) {
                return;
            }
            I2 = A2.yaxisLHS.concat(A2.yaxisRHS);
            for (var o2 = 0; o2 < I2.length; o2++) {
                y3F = "l";
                y3F += "e";
                y3F += "ft";
                w3F = "t";
                w3F += "e";
                w3F += "x";
                w3F += "t";
                D3F = "st";
                D3F += "x_yaxi";
                D3F += "s";
                U3F = "stx";
                U3F += "_yaxis";
                p2 = I2[o2];
                if (!p2.yAxisPlotter)
                    continue;
                if (p2.noDraw)
                    continue;
                this.canvasFont(U3F);
                this.canvasColor("stx_yaxis");
                R2 = this.chart.context;
                R2.textBaseline = "middle";
                if (p2.justifyRight) {
                    R2.textAlign = "right";
                } else {
                    R2.textAlign = "left";
                }
                T2 = this.getCanvasFontSize(D3F);
                p2.yAxisPlotter.draw(R2, w3F);
                R2.textBaseline = "alphabetic";
                R2.textAlign = y3F;
            }
            this.runAppend("plotYAxisText", arguments);
        };
        H.prototype.formatYAxisPrice = function (L2, K2, Q2, b2) {
            var V2,
            f2;
            if (L2 === null || typeof L2 == "undefined" || isNaN(L2)) {
                return "";
            }
            V2 = b2 ? b2 : K2.yAxis;
            f2 = Q2;
            if (!f2 && f2 !==  + "0") {
                f2 = V2.printDecimalPlaces;
            }
            if (!f2 && f2 !== 0) {
                if (V2.priceTick < 0.01) {
                    O4z.s3f(17);
                    f2 = O4z.J3f("4", 0);
                } else if (V2.priceTick < 0.1) {
                    f2 = 2;
                } else if (V2.priceTick < 1) {
                    f2 = 1;
                } else {
                    f2 = 0;
                }
            }
            if (K2.name != K2.chart.name) {
                if (V2.priceTick > ("100" & 2147483647)) {
                    return J.condenseInt(L2);
                }
            }
            if (this.internationalizer) {
                if (f2 >= this.internationalizer.priceFormatters.length) {
                    O4z.s3f(43);
                    var v8F = O4z.J3f(13, 3, 33, 18);
                    f2 = this.internationalizer.priceFormatters.length - v8F;
                }
                L2 = this.internationalizer.priceFormatters[f2].format(L2);
            } else {
                L2 = L2.toFixed(f2); ;
            }
            return L2;
        };
        H.prototype.padOutPrice = function (i2) {
            var q2,
            u2;
            if (i2 !== 0 && (!i2 || typeof i2 == "undefined")) {
                return "";
            }
            O4z.o3f(0);
            q2 = O4z.S3f("", i2);
            O4z.o3f(17);
            var r8F = O4z.J3f(159102, 150263);
            O4z.s3f(44);
            var B8F = O4z.S3f(4810, 20, 1201, 14, 11);
            O4z.s3f(45);
            var g8F = O4z.S3f(411, 410, 15);
            u2 = q2.substring(q2.indexOf((r8F,  + "926.6") != B8F ? "." : (g8F, !1))).length -  + "1";
            if (i2 >= 1000) {
                u2 = Math.max(u2, 0);
            } else if (i2 < "2" - 0) {
                u2 = Math.max(u2, 4);
            } else {
                u2 = Math.max(u2, 2);
            }
            if (this.internationalizer) {
                if (u2 >= this.internationalizer.priceFormatters.length) {
                    O4z.o3f(36);
                    var H8F = O4z.S3f(4, 18, 15);
                    u2 = this.internationalizer.priceFormatters.length - H8F;
                }
                i2 = this.internationalizer.priceFormatters[u2].format(i2);
            } else {
                i2 = i2.toFixed(u2);
            }
            return i2;
        };
        H.prototype.formatPrice = function (G2, j2) {
            var g2;
            if (G2 !== 0 && (!G2 || typeof G2 == "undefined")) {
                return "";
            }
            if (!j2) {
                j2 = this.currentPanel;
            }
            if (!j2) {
                j2 = this.chart.panel;
            }
            if (!j2) {
                return G2;
            }
            g2 = j2.decimalPlaces;
            if (!g2 && g2 !==  + "0") {
                g2 = j2.chart.decimalPlaces;
            }
            O4z.a4z();
            if (!g2 && g2 !== 0) {
                return G2;
            }
            if (this.internationalizer) {
                if (g2 >= this.internationalizer.priceFormatters.length) {
                    O4z.o3f(0);
                    var O8F = O4z.J3f(0, 1);
                    g2 = this.internationalizer.priceFormatters.length - O8F;
                }
                G2 = this.internationalizer.priceFormatters[g2].format(G2);
            } else {
                G2 = G2.toFixed(g2);
            }
            return G2;
        };
        H.prototype.createCrosshairs = function () {
            if (this.runPrepend("createCrosshairs", arguments)) {
                return;
            }
            O4z.i4z();
            if (this.controls.crossX.onmousedown) {
                return;
            }
            this.controls.crossY.onmousedown = function (a2) {
                if (!a2) {
                    a2 = event;
                }
                if (a2.preventDefault) {
                    a2.preventDefault();
                }
                return !{};
            };
            this.controls.crossX.onmousedown = function (h2) {
                if (!h2) {
                    h2 = event;
                }
                if (h2.preventDefault) {
                    h2.preventDefault();
                }
                O4z.a4z();
                return !{};
            };
            this.runAppend("createCrosshairs", arguments);
        };
        H.prototype.determineMinMax = function (y4, S4, Z4, H4, k4) {
            var O2,
            N2,
            l4,
            n4,
            m0F,
            x0F,
            I0F,
            X2,
            U2,
            C3F,
            B2,
            v2;
            O4z.o3f(46);
            var G8F = O4z.S3f(8, 4, 13, 10);
            O2 = Number.MAX_VALUE * G8F;
            N2 = Number.MAX_VALUE;
            l4 = !{};
            O4z.i4z();
            n4 = y4.length;
            m0F = 354601123;
            x0F = 577436509;
            I0F = 2;
            for (var v0F = 1; O4z.s2B(v0F.toString(), v0F.toString().length, "69700" << 1746068640) !== m0F; v0F++) {
                if (k4) {
                    n4 = k4;
                }
                I0F += 2;
            }
            if (O4z.h2B(I0F.toString(), I0F.toString().length, 3365) !== x0F) {
                if (k4) {
                    n4 = k4;
                }
            }
            for (var z2 =  + "0"; z2 < n4; z2++) {
                X2 = y4[z2];
                if (!X2)
                    continue;
                if (!H4) {
                    if (X2.transform) {
                        l4 = !![];
                        X2 = X2.transform;
                    } else if (l4)
                        continue; ;
                }
                U2 =  + "0";
                for (var r4 = "0" << 1261377792; r4 < S4.length; r4++) {
                    C3F = "nu";
                    C3F += "mbe";
                    C3F += "r";
                    B2 = X2[S4[r4]];
                    if (!B2)
                        continue;
                    if (typeof B2 == C3F) {
                        B2 = [B2];
                    }
                    for (var w4 = 0; w4 < B2.length; w4++) {
                        v2 = B2[w4];
                        if (v2 || v2 === 0) {
                            if (Z4) {
                                U2 += v2;
                                if (U2 > O2) {
                                    O2 = U2;
                                }
                                if (U2 < N2) {
                                    N2 = U2;
                                }
                            } else {
                                if (v2 > O2) {
                                    O2 = v2;
                                }
                                if (v2 < N2) {
                                    N2 = v2;
                                }
                            }
                        }
                    }
                }
            }
            if (O2 == Number.MAX_VALUE *  -  + "1") {
                O2 = 0;
            }
            if (N2 == Number.MAX_VALUE) {
                O4z.o3f(10);
                N2 = O4z.J3f("0", 1);
            }
            return [N2, O2];
        };
        H.prototype.calculateYAxisRange = function (F4, t4, J4, s4) {
            var W4,
            M4,
            P4,
            E4,
            D4,
            e4,
            Y4,
            C4;
            if (J4 == Number.MAX_VALUE) {
                J4 = 0;
                s4 = 0;
            }
            W4 = F4.height;
            M4 = null;
            P4 = null;
            this.adjustYAxisHeightOffset(F4, t4);
            t4.top = F4.top;
            t4.height = t4.bottom - t4.top;
            E4 = Math.round(Math.abs(W4 / 5));
            if (W4 - Math.abs(t4.scroll) < E4) {
                O4z.o3f(36);
                var h8F = O4z.S3f(1, 2, 0);
                O4z.o3f(17);
                var s8F = O4z.S3f(9, 8);
                t4.scroll = (W4 - E4) * (t4.scroll < 0 ? h8F : s8F);
            }
            D4 = (s4 - J4) / t4.height;
            if (J4 || J4 === 0) {
                if (s4 - J4 ===  + "0") {
                    O4z.o3f(10);
                    M4 = O4z.S3f(s4, 2);
                    P4 = 0;
                } else {
                    if ((this.layout.semiLog || this.layout.chartScale == "log") && M4) {
                        e4 = Math.log(J4) / Math.LN10;
                        Y4 = Math.log(s4) / Math.LN10;
                        M4 = Math.pow(10, Y4);
                        P4 = Math.pow(10, e4);
                    } else {
                        M4 = s4;
                        P4 = J4;
                    }
                }
                t4.high = M4;
                t4.low = P4;
            }
            if (t4.max || t4.max === 0) {
                t4.high = t4.max;
            }
            if (t4.min || t4.min === 0) {
                t4.low = t4.min;
            }
            t4.shadow = t4.high - t4.low;
            if (F4.chart.name === F4.name && F4.yAxis === t4) {
                C4 = this.layout.semiLog || this.layout.chartScale == "log";
                if (F4.chart.isComparison) {
                    C4 = ![];
                }
                if (t4.semiLog != C4) {
                    this.clearPixelCache();
                    t4.semiLog = C4;
                }
            }
        };
        H.prototype.renderYAxis = function (A4) {
            var p4,
            o4,
            R4,
            T4,
            f4,
            L4,
            I4;
            if (this.runPrepend("renderYAxis", arguments)) {
                return;
            }
            p4 = A4.panel;
            o4 = p4.yaxisRHS.concat(p4.yaxisLHS);
            for (R4 = "0" * 1; R4 < o4.length; R4++) {
                T4 = o4[R4];
                f4 = null;
                L4 = null;
                if (p4.yAxis === T4) {
                    f4 = A4.lowValue;
                    L4 = A4.highValue;
                }
                this.calculateYAxisRange(p4, T4, f4, L4);
            }
            I4 = {};
            for (R4 =  + "0"; R4 < o4.length; R4++) {
                I4.yAxis = o4[R4];
                this.createYAxis(p4, I4);
                this.drawYAxis(p4, I4);
            }
            O4z.i4z();
            this.runAppend("renderYAxis", arguments);
        };
        H.prototype.initializeDisplay = function (V4) {
            var k3F,
            Q4,
            m4,
            K4,
            c4,
            x4,
            b4,
            u4;
            k3F = "in";
            O4z.i4z();
            k3F += "itializeDisplay";
            if (this.runPrepend(k3F, arguments)) {
                return;
            }
            Q4 = [];
            for (var i4 in V4.series) {
                if (V4.series[i4].parameters.shareYAxis) {
                    Q4.push(i4);
                }
            }
            m4 = V4.panel = this.panels[V4.name];
            c4 = null;
            x4 = Math.floor((V4.width - this.micropixels) / this.layout.candleWidth);
            if (V4.scroll > V4.maxTicks && V4.maxTicks > x4 + 1) {
                c4 = V4.dataSegment.length -  + "1";
            }
            if (!H.chartShowsHighs(this.layout.chartType)) {
                Q4.push("Close");
                K4 = this.determineMinMax(V4.dataSegment, Q4, null, null, c4);
                if (this.layout.chartType == "baseline_delta") {
                    b4 = V4.baseline.actualLevel;
                    if (V4.transformFunc) {
                        b4 = V4.transformFunc(this, V4, b4);
                    }
                    u4 = Math.max(b4 - K4[0], K4[1] - b4);
                    if (this.repositioningBaseline) {
                        K4 = [V4.lowValue, V4.highValue];
                    } else {
                        O4z.s3f(17);
                        K4[0] = O4z.S3f(b4, u4);
                        O4z.o3f(0);
                        K4[1] = O4z.S3f(b4, u4);
                    }
                }
            } else {
                Q4.push("Close", "High", "Low");
                K4 = this.determineMinMax(V4.dataSegment, Q4, null, null, c4);
            }
            V4.lowValue = K4[ + "0"];
            V4.highValue = K4[1];
            this.runAppend("initializeDisplay", arguments);
        };
        H.prototype.computePosition = function (G4, q4) {
            var d4;
            if (typeof q4 == "undefined") {
                q4 = 0;
            }
            d4 = G4 * this.layout.candleWidth + q4 + this.micropixels;
            return d4;
        };
        H.prototype.computeColor = function (g4, j4) {
            var f3F;
            O4z.i4z();
            f3F = "stx_c";
            f3F += "andle_do";
            f3F += "wn";
            if (g4 < j4) {
                return "stx_candle_up";
            }
            if (g4 > j4) {
                return f3F;
            }
            return "stx_candle_shadow";
        };
        H.prototype.computeLength = function (O4, N4) {
            O4z.a4z();
            var a4,
            h4;
            a4 = this.pixelFromPrice(O4);
            h4 = this.pixelFromPrice(N4);
            O4z.o3f(17);
            return O4z.S3f(h4, a4);
        };
        H.prototype.setSeriesRenderer = function (v4) {
            var B4;
            B4 = v4.params;
            if (this.chart.seriesRenderers[v4.params.name]) {
                return this.chart.seriesRenderers[v4.params.name];
            }
            if (B4.yAxis) {
                this.addYAxis(this.panels[B4.panel], B4.yAxis);
            }
            v4.stx = this;
            this.chart.seriesRenderers[v4.params.name] = v4;
            return v4;
        };
        H.prototype.setMarket = function (z4, X4) {
            if (!X4) {
                X4 = this.chart;
            }
            O4z.i4z();
            X4.market = new J.Market(z4);
            for (var U4 in this.layout.marketSessions) {
                X4.market.disableSession(U4, this.layout.marketSessions[U4]);
            }
        };
        H.prototype.setMarketFactory = function (r1) {
            this.marketFactory = r1;
        };
        H.prototype.removeSeriesRenderer = function (w1) {
            var l1,
            S1,
            Z1;
            O4z.i4z();
            for (var n1 in this.chart.seriesRenderers) {
                if (w1.params.name === this.chart.seriesRenderers[n1].params.name) {
                    l1 = this.chart.seriesRenderers[w1.params.name];
                    S1 = l1.params.yAxis;
                    Z1 = this.panels[l1.params.panel];
                    delete this.chart.seriesRenderers[w1.params.name];
                    this.deleteYAxisIfUnused(Z1, S1);
                    return;
                }
            }
        };
        H.prototype.getSeriesRenderer = function (H1) {
            return this.chart.seriesRenderers[H1];
        };
        H.prototype.drawHistogram = function (s1, M1) {
            var p1,
            o1,
            A1,
            E1,
            b1,
            T1,
            F1,
            q1,
            f1,
            e1,
            L1,
            Y1,
            G1,
            D1,
            i1,
            J1,
            V1,
            C1,
            K1,
            W1,
            R1,
            P1,
            I1;
            if (!M1 || !M1.length) {
                return;
            }
            p1 = s1.panel;
            if (!p1) {
                p1 = "chart";
            }
            o1 = this.panels[p1];
            if (!o1) {
                return;
            }
            A1 = s1.yAxis ? s1.yAxis : o1.yAxis;
            E1 = s1.type;
            if (E1 == "histogram") {
                E1 = s1.subtype;
            }
            b1 = this.chart.dataSegment;
            T1 = !1;
            this.getDefaultColor();
            for (F1 = 0; F1 < M1.length; F1++) {
                T1 |= M1[F1].border_color_up && !J.isTransparent(M1[F1].border_color_up);
                T1 |= M1[F1].border_color_down && !J.isTransparent(M1[F1].border_color_down);
            }
            if (!s1.name) {
                s1.name = "Data";
            }
            q1 = A1.multiplier;
            if (!s1.heightPercentage) {
                O4z.s3f(17);
                s1.heightPercentage = O4z.S3f("0.7", 0);
            }
            if (!s1.widthFactor) {
                s1.widthFactor = 0.8;
            }
            f1 = 0;
            e1 = 0;
            for (var Q1 =  + "0"; Q1 < this.chart.maxTicks; Q1++) {
                L1 = b1[Q1];
                if (!L1)
                    continue;
                Y1 =  + "0";
                for (F1 = 0; F1 < M1.length; F1++) {
                    if (L1[M1[F1].field]) {
                        if (s1.subtype == "stacked") {
                            Y1 += L1[M1[F1].field];
                        } else {
                            Y1 = L1[M1[F1].field];
                        }
                        if (Y1 > f1) {
                            f1 = Y1;
                        }
                        if (Y1 < e1) {
                            e1 = Y1;
                        }
                    }
                }
            }
            G1 = Math.floor(A1.top) + ("0.5" - 0);
            if (!s1.bindToYAxis) {
                D1 = Math.floor(A1.bottom) + 0.5;
                if (f1 === 0 && e1 === 0) {
                    this.watermark(p1, "center", "bottom", this.translateIf(s1.name + " Not Available"));
                    return;
                }
                q1 = (D1 - G1) * s1.heightPercentage / (f1 - e1);
            } else {
                D1 = Math.floor(this.pixelFromPriceTransform(e1, o1, A1)) +  + "0.5";
            }
            i1 = 0.5;
            if (this.layout.candleWidth <= 1 || !T1) {
                i1 = 0;
            }
            this.startClip(p1);
            J1 = this.chart.context;
            V1 = Math.max( + "0", (1 - s1.widthFactor) * this.layout.candleWidth / 2);
            C1 = {};
            K1 = {};
            W1 = this;
            R1 = 1;
            for (F1 = 0; F1 < M1.length; F1++) {
                P1 = M1[F1];
                R1 = this.layout.candleWidth * s1.widthFactor;
                I1 = 0;
                if (E1 == "clustered") {
                    I1 = F1;
                    R1 /= M1.length;
                }
                u1(P1.field, P1.fill_color_up, P1.opacity_up, null, !![], I1, R1);
                u1(P1.field, P1.fill_color_down, P1.opacity_down, null, null, I1, R1);
                if (this.layout.candleWidth >= 2 && T1) {
                    u1(P1.field, P1.border_color_up, P1.opacity_up, !![], !!"1", I1, R1);
                    u1(P1.field, P1.border_color_down, P1.opacity_down, !!"1", null, I1, R1);
                }
                if (E1 == "stacked") {
                    K1 = J.shallowClone(C1);
                }
            }
            J1.globalAlpha = 1;
            function u1(k5, z1, w5, N1, t5, Z5, H5) {
                var X1,
                l5,
                U1,
                j1,
                a1,
                n5,
                r5,
                h1,
                O1,
                B1,
                y5,
                S5;
                if (!w5) {
                    w5 = 1;
                }
                if (J.isIE8) {
                    J1.globalAlpha = 0.5;
                } else {
                    J1.globalAlpha = w5;
                }
                J1.beginPath();
                O4z.o3f(0);
                X1 = O4z.S3f(D1, 0.5);
                l5 = Math.floor(W1.pixelFromBar(0, o1.chart) - W1.layout.candleWidth /  + "2");
                U1 = l5;
                for (var g1 = "0" >> 1202838016; g1 < b1.length; g1++) {
                    j1 = K1[g1];
                    if (!j1) {
                        j1 = D1;
                    }
                    if (g1 === 0) {
                        X1 = j1;
                    }
                    a1 = b1[g1];
                    if (!a1 || !a1[k5]) {
                        X1 = j1;
                        U1 += W1.layout.candleWidth;
                        continue;
                    }
                    n5 = (a1[k5] - e1) * q1;
                    if (isNaN(n5))
                        continue;
                    r5 = W1.layout.candleWidth;
                    if (a1.candleWidth) {
                        r5 = a1.candleWidth;
                        if (g1 === 0) {
                            l5 = U1 = Math.floor(W1.pixelFromBar( + "0", o1.chart) - a1.candleWidth / 2);
                        }
                    }
                    h1 = Math.min(Math.floor(j1 - n5) + 0.5, j1);
                    if (t5) {
                        if (a1.Close < a1.iqPrevClose) {
                            X1 = h1;
                            U1 += r5;
                            continue;
                        }
                    } else {
                        if (a1.Close >= a1.iqPrevClose) {
                            X1 = h1;
                            U1 += r5;
                            continue;
                        }
                    }
                    y5 = r5 / W1.layout.candleWidth;
                    O4z.o3f(47);
                    S5 = O4z.J3f(H5, Z5, y5, V1, U1);
                    O1 = Math.round(S5) + (N1 ? 0 : i1);
                    B1 = Math.round(S5 + H5 * y5) - (N1 ? 0 : i1);
                    if (B1 - O1 < 2) {
                        O4z.s3f(48);
                        B1 = O4z.S3f(O1, 0, "1");
                    }
                    if (N1) {
                        roundPixel = 0;
                    } else {
                        roundPixel = 0.5;
                    }
                    if (O1 % 1 == roundPixel) {
                        O1 += 0.5;
                    }
                    if (B1 % 1 == roundPixel) {
                        B1 += 0.5;
                    }
                    J1.moveTo(O1, j1);
                    if (D1 == j1) {
                        J1.lineTo(B1, j1);
                    } else {
                        J1.moveTo(B1, j1);
                        if (N1 && !V1) {
                            if (K1[g1 + 1]) {
                                J1.moveTo(B1, Math.max(h1, Math.min(j1, K1[g1 + 1])));
                            }
                        }
                    }
                    J1.lineTo(B1, h1);
                    J1.lineTo(O1, h1);
                    if (N1 && Z5) {
                        if (C1[g1] > h1 || g1 === 0) {
                            J1.lineTo(O1, Math.min(j1, C1[g1]));
                        };
                    } else if (N1 && !V1 && E1 == "clustered") {
                        if (g1 > 0 && C1[g1 - 1] && C1[g1 - 1] > h1) {
                            J1.lineTo(O1, Math.min(j1, C1[g1 -  + "1"]));
                        };
                    } else if (N1 && !V1) {
                        if (X1 > h1 || g1 === 0) {
                            J1.lineTo(O1, Math.min(j1, X1));
                        };
                    } else {
                        J1.lineTo(O1, j1);
                    }
                    X1 = h1;
                    U1 += r5;
                    if (E1 != "clustered" || N1) {
                        C1[g1] = h1;
                    }
                }
                if (!z1) {
                    z1 = "auto";
                }
                if (N1) {
                    J1.strokeStyle = z1 == "auto" ? W1.defaultColor : z1;
                    J1.stroke();
                } else {
                    J1.fillStyle = z1 == "auto" ? W1.defaultColor : z1;
                    J1.fill();
                }
                J1.closePath();
            }
            this.endClip();
        };
        H.prototype.drawHeatmap = function (F5, Y5) {
            var C5,
            M5,
            P5,
            A5,
            T5,
            p5,
            E5,
            D5,
            e5,
            s5,
            o5,
            J5,
            W5;
            if (!Y5 || !Y5.length) {
                return;
            }
            C5 = F5.panel;
            if (!C5) {
                C5 = "chart";
            }
            O4z.a4z();
            M5 = this.panels[C5];
            if (!M5) {
                return;
            }
            P5 = F5.yAxis ? F5.yAxis : M5.yAxis;
            A5 = Math.floor(P5.bottom) + 0.5;
            T5 = Math.floor(P5.top) + 0.5;
            p5 = this.chart.dataSegment;
            this.getDefaultColor();
            if (!F5.name) {
                F5.name = "Data";
            }
            function I5(a5, d5, G5, m5, g5) {
                var h5,
                O5,
                Q5,
                K5,
                L5,
                b5,
                f5,
                V5,
                u5,
                j5,
                x5,
                q5;
                O4z.a4z();
                J5.beginPath();
                J5.fillStyle = d5;
                J5.strokeStyle = d5;
                h5 = P5.top;
                O5 = P5.bottom;
                Q5 = s5.layout.candleWidth * m5;
                K5 = Math.floor(s5.pixelFromBar(0, M5.chart) - s5.layout.candleWidth);
                for (var c5 = 0; c5 < p5.length; c5++) {
                    f5 = p5[c5];
                    if (!f5)
                        continue;
                    if (f5.candleWidth) {
                        if (c5 === 0) {
                            K5 += s5.layout.candleWidth;
                        } else {
                            O4z.s3f(24);
                            var R8F = O4z.J3f(1, 22, 20);
                            K5 += (f5.candleWidth + Q5 / m5) / R8F;
                        }
                        Q5 = f5.candleWidth * m5;
                    } else {
                        K5 += s5.layout.candleWidth;
                    }
                    O4z.o3f(49);
                    L5 = O4z.J3f(Q5, K5, g5, 2);
                    O4z.o3f(50);
                    b5 = O4z.J3f(K5, g5, 2, Q5);
                    if (b5 - L5 < 2) {
                        O4z.o3f(0);
                        b5 = O4z.J3f(L5, 1);
                    }
                    if (f5.transform) {
                        f5 = f5.transform;
                    }
                    V5 = f5[a5];
                    if (!V5)
                        continue;
                    if (typeof V5 == "number") {
                        V5 = [V5];
                    }
                    for (var i5 = 0; i5 < V5.length; i5++) {
                        u5 = s5.pixelFromPrice(V5[i5], M5, P5);
                        if (!o5) {
                            j5 = s5.pixelFromPrice(V5[i5] - F5.height, M5, P5);
                            J5.lineWidth = 1;
                            O4z.o3f(17);
                            D5 = O4z.S3f(j5, u5);
                            O4z.s3f(34);
                            e5 = O4z.J3f("2", D5);
                            o5 = J5.lineWidth;
                        }
                        if (G5) {
                            O4z.s3f(0);
                            x5 = O4z.J3f(u5, e5);
                            O4z.o3f(17);
                            q5 = O4z.J3f(u5, e5);
                            J5.moveTo(L5, x5);
                            J5.lineTo(L5, q5);
                            J5.lineTo(b5, q5);
                            J5.lineTo(b5, x5);
                            J5.lineTo(L5, x5);
                        } else {
                            O4z.o3f(17);
                            J5.fillRect(L5, O4z.J3f(u5, e5), O4z.J3f(b5, L5), D5);
                        }
                    }
                }
                if (G5) {
                    J5.stroke();
                }
                J5.closePath();
            }
            if (!F5.widthFactor) {
                F5.widthFactor = 1;
            }
            E5 = 0.5;
            if (M5.chart.tmpWidth <=  + "1") {
                E5 = 0;
            }
            D5 = null;
            e5 = null;
            s5 = this;
            o5 = null;
            this.startClip(C5);
            J5 = this.chart.context;
            J5.globalAlpha = F5.opacity;
            for (var R5 = 0; R5 < Y5.length; R5++) {
                W5 = Y5[R5];
                I5(W5.field, W5.color, null, F5.widthFactor, W5.border_color ? E5 : -E5 / ("4" | 0));
                if (W5.border_color && this.layout.candleWidth >= 2) {
                    I5(W5.field, W5.border_color, !!{}, F5.widthFactor, E5);
                }
            }
            J5.lineWidth = 1;
            J5.globalAlpha = 1;
            this.endClip();
        };
        H.prototype.startClip = function (v5, z5) {
            var N5,
            U5,
            B5,
            X5;
            if (!v5) {
                v5 = "chart";
            }
            N5 = this.panels[v5];
            U5 = N5.yAxis;
            this.chart.context.save();
            this.chart.context.beginPath();
            B5 = N5.left;
            X5 = N5.width;
            if (z5) {
                B5 =  + "0";
                X5 = this.width;
            }
            this.chart.context.rect(B5, N5.top, X5, U5.height);
            this.chart.context.clip();
        };
        H.prototype.endClip = function () {
            this.chart.context.restore();
        };
        H.prototype.drawCandlesHighPerformance = function (y8k, E8k, e8k, F8k) {
            var H8k,
            Y8k,
            l8k,
            t8k,
            P8k,
            n8k,
            T8k,
            S8k,
            J8k,
            D8k,
            f8k,
            k8k,
            W8k,
            Z8k,
            s8k,
            r8k,
            w8k,
            R8k,
            p8k,
            o8k,
            I8k,
            C8k,
            A8k;
            H8k = y8k.chart;
            Y8k = H8k.dataSegment;
            l8k = this.chart.context;
            t8k = y8k.yAxis.top;
            P8k = y8k.yAxis.bottom;
            J8k = 0;
            O4z.a4z();
            if (e8k && !J.isTransparent(e8k)) {
                J8k = 0.5;
            }
            D8k = H8k.dataSet.length - H8k.scroll;
            f8k = D8k + H8k.maxTicks;
            l8k.beginPath();
            if (J.isTransparent(E8k)) {
                E8k = this.containerColor;
            }
            l8k.fillStyle = E8k;
            k8k = y8k.yAxis;
            O4z.o3f(27);
            var o8F = O4z.J3f(17, 15, 4);
            W8k = H8k.tmpWidth / o8F;
            Z8k = this.layout.candleWidth;
            O4z.o3f(17);
            var p8F = O4z.S3f(11, 10);
            s8k = y8k.left - 0.5 * Z8k + this.micropixels - p8F;
            for (var M8k = 0; M8k <= Y8k.length; M8k++) {
                O4z.o3f(23);
                s8k += O4z.J3f(Z8k, 2);
                Z8k = this.layout.candleWidth;
                O4z.o3f(23);
                s8k += O4z.S3f(Z8k, 2);
                r8k = Y8k[M8k];
                if (!r8k)
                    continue;
                if (r8k.projection)
                    continue;
                if (r8k.candleWidth) {
                    O4z.o3f(51);
                    var t8F = O4z.J3f(5, 14, 7);
                    s8k += (r8k.candleWidth - Z8k) / t8F;
                    Z8k = r8k.candleWidth;
                    if (this.layout.chartType == "volume_candle") {
                        O4z.o3f(52);
                        W8k = O4z.S3f(Z8k, "2", 2147483647);
                    }
                }
                if (r8k.Open == r8k.Close)
                    continue;
                if (F8k & H.CANDLEUP && r8k.Open >= r8k.Close)
                    continue;
                if (F8k & H.CANDLEDOWN && r8k.Open <= r8k.Close)
                    continue;
                if (F8k & H.CLOSEUP && r8k.Close <= r8k.iqPrevClose)
                    continue;
                if (F8k & H.CLOSEDOWN && r8k.Close >= r8k.iqPrevClose)
                    continue;
                if (F8k & H.CLOSEEVEN && r8k.Close != r8k.iqPrevClose)
                    continue;
                if (r8k.transform) {
                    r8k = r8k.transform;
                }
                w8k = r8k.cache;
                O4z.o3f(0);
                R8k = O4z.J3f(D8k, M8k);
                if (R8k < y8k.cacheLeft || R8k > y8k.cacheRight || !w8k.open) {
                    p8k = k8k.semiLog ? this.pixelFromPrice(r8k.Open, y8k) : (k8k.high - r8k.Open) * k8k.multiplier + k8k.top;
                    o8k = k8k.semiLog ? this.pixelFromPrice(r8k.Close, y8k) : (k8k.high - r8k.Close) * k8k.multiplier + k8k.top;
                    n8k = Math.floor(Math.min(p8k, o8k)) + J8k;
                    T8k = Math.max(p8k, o8k);
                    O4z.o3f(17);
                    S8k = Math.floor(O4z.S3f(T8k, n8k));
                    if (n8k < t8k) {
                        if (n8k + S8k < t8k) {
                            w8k.open = n8k;
                            w8k.close = n8k;
                            continue;
                        }
                        O4z.s3f(17);
                        S8k -= O4z.S3f(t8k, n8k);
                        n8k = t8k;
                    }
                    if (n8k + S8k > P8k) {
                        O4z.s3f(9);
                        S8k -= O4z.S3f(S8k, P8k, n8k);
                    }
                    S8k = Math.max(S8k, 2);
                    w8k.open = n8k;
                    w8k.close = w8k.open + S8k;
                }
                if (w8k.open >= P8k)
                    continue;
                if (w8k.close <= t8k)
                    continue;
                I8k = Math.floor(s8k) + 0.5;
                C8k = Math.floor(I8k - W8k) + J8k;
                A8k = Math.round(I8k + W8k) - J8k;
                if (r8k.Open != r8k.Close) {
                    l8k.moveTo(C8k, w8k.open);
                    l8k.lineTo(A8k, w8k.open);
                    l8k.lineTo(A8k, w8k.close);
                    l8k.lineTo(C8k, w8k.close);
                    l8k.lineTo(C8k, w8k.open);
                }
            }
            l8k.fill();
            if (J8k) {
                l8k.lineWidth = 1;
                l8k.strokeStyle = e8k;
                l8k.stroke();
            };
        };
        H.prototype.drawCandles = function (K8k, n9k, w9k) {
            var u8k,
            v8k,
            b8k,
            m8k,
            g8k,
            Q8k,
            l9k,
            c8k,
            j8k,
            a8k,
            q8k,
            B8k,
            y9k,
            i8k,
            h8k,
            x8k,
            d8k,
            x3F,
            m3F,
            L8k,
            O8k,
            V8k,
            X8k,
            U8k,
            z8k,
            N8k,
            r9k;
            u8k = K8k.chart;
            if (!u8k) {
                u8k = K8k;
                K8k = K8k.chart;
            }
            v8k = u8k.dataSegment;
            O4z.a4z();
            b8k = this.chart.context;
            m8k = K8k.yAxis.top;
            g8k = K8k.yAxis.bottom;
            j8k = "transparent";
            a8k = "tra";
            a8k += "nsparent";
            q8k = 0;
			// MaRa: CIQ Hack - Part 1 - TGPS Hollow Candle
			// --- Start Deletion ---
            //if (!J.isTransparent(j8k)) {
            //    q8k = 0.5;
            //}
			// --- End Deletion ---
            B8k = u8k.dataSet.length - u8k.scroll;
            y9k = B8k + u8k.maxTicks;
            i8k = K8k.yAxis;
            O4z.o3f(53);
            var F8F = O4z.S3f(1, 4, 18, 1, 22);
            h8k = u8k.tmpWidth / F8F;
            x8k = this.layout.candleWidth;
            O4z.s3f(24);
            var c8F = O4z.S3f(1, 10, 9);
            d8k = K8k.left - 0.5 * x8k + this.micropixels - c8F;
            for (var G8k =  + "0"; G8k <= v8k.length; G8k++) {
                x3F = "t";
                x3F += "ransparen";
                x3F += "t";
                m3F = "s";
                m3F += "olid";
                O4z.o3f(23);
                d8k += O4z.S3f(x8k, 2);
                x8k = this.layout.candleWidth;
                O4z.s3f(23);
                d8k += O4z.J3f(x8k, 2);
                L8k = v8k[G8k];
                if (!L8k)
                    continue;
                if (L8k.projection)
                    continue;
                if (L8k.candleWidth) {
                    O4z.o3f(54);
                    var V8F = O4z.J3f(9, 0, 15, 3);
                    d8k += (L8k.candleWidth - x8k) / V8F;
                    x8k = L8k.candleWidth;
                    if (this.layout.chartType == "volume_candle") {
                        O4z.o3f(23);
                        h8k = O4z.J3f(x8k, 2);
                    }
                }
                if (!L8k.Open && L8k.Open !== 0)
                    continue;
                if (L8k.Open == L8k.Close)
                    continue;
                O8k = n9k(this, L8k, w9k ? "outline" : m3F);
                if (!O8k)
                    continue;
                if (w9k) {
                    j8k = O8k;
                } else {
                    a8k = O8k;
                }
				// MaRa: CIQ Hack - Part 1 - TGPS Hollow Candle
				// --- Start ---
				if (!J.isTransparent(j8k)) {
				    q8k = 0.5;
				}
				// --- End ---				
                b8k.beginPath();
                b8k.fillStyle = a8k;
                if (L8k.transform) {
                    L8k = L8k.transform;
                }
                V8k = L8k.cache;
                O4z.s3f(0);
                X8k = O4z.J3f(B8k, G8k);
                if (X8k < K8k.cacheLeft || X8k > K8k.cacheRight || !V8k.open) {
                    U8k = i8k.semiLog ? this.pixelFromPrice(L8k.Open, K8k) : (i8k.high - L8k.Open) * i8k.multiplier + i8k.top;
                    z8k = i8k.semiLog ? this.pixelFromPrice(L8k.Close, K8k) : (i8k.high - L8k.Close) * i8k.multiplier + i8k.top;
                    Q8k = Math.floor(Math.min(U8k, z8k)) + q8k;
                    l9k = Math.max(U8k, z8k);
                    O4z.s3f(17);
                    c8k = Math.floor(O4z.J3f(l9k, Q8k));
                    if (Q8k < m8k) {
                        if (Q8k + c8k < m8k) {
                            V8k.open = Q8k;
                            V8k.close = Q8k;
                            continue;
                        }
                        O4z.s3f(17);
                        c8k -= O4z.S3f(m8k, Q8k);
                        Q8k = m8k;
                    }
                    if (Q8k + c8k > g8k) {
                        O4z.o3f(9);
                        c8k -= O4z.S3f(c8k, g8k, Q8k);
                    }
                    c8k = Math.max(c8k, 2);
                    V8k.open = Q8k;
                    V8k.close = V8k.open + c8k;
                }
                if (V8k.open >= g8k)
                    continue;
                if (V8k.close <= m8k)
                    continue;
                flr_xbase = Math.floor(d8k) + 0.5;
                N8k = Math.floor(flr_xbase - h8k) + q8k;
                r9k = Math.round(flr_xbase + h8k) - q8k;
                if (L8k.Open != L8k.Close) {
                    b8k.moveTo(N8k, V8k.open);
                    b8k.lineTo(r9k, V8k.open);
                    b8k.lineTo(r9k, V8k.close);
                    b8k.lineTo(N8k, V8k.close);
                    b8k.lineTo(N8k, V8k.open);
                }
                if (a8k != x3F) {
                    b8k.fill();
                }
                if (q8k) {
                    O4z.s3f(7);
                    b8k.lineWidth = O4z.S3f(841063200, "1");
                    b8k.strokeStyle = j8k;
                    b8k.stroke();
                }
            }
        };
        H.prototype.drawShadowsHighPerformance = function (t9k, L9k, s9k) {
            var W9k,
            p9k,
            J9k,
            M9k,
            C9k,
            Z9k,
            A9k,
            K9k,
            o9k,
            V9k,
            k9k,
            F9k,
            E9k,
            S9k,
            H9k,
            I9k,
            P9k,
            Y9k,
            R9k,
            T9k,
            f9k,
            D9k;
            W9k = t9k.chart;
            p9k = W9k.dataSegment;
            J9k = this.chart.context;
            J9k.lineWidth = 1;
            M9k = t9k.yAxis.top;
            C9k = t9k.yAxis.bottom;
            O4z.a4z();
            o9k = W9k.dataSet.length - W9k.scroll;
            V9k = o9k + W9k.maxTicks;
            J9k.beginPath();
            k9k = t9k.yAxis;
            F9k = this.layout.candleWidth;
            O4z.o3f(0);
            var P8F = O4z.S3f(0, 1);
            E9k = t9k.left - 0.5 * F9k + this.micropixels - P8F;
            for (var e9k = "0" & 2147483647; e9k <= p9k.length; e9k++) {
                O4z.o3f(23);
                E9k += O4z.J3f(F9k, 2);
                F9k = this.layout.candleWidth;
                O4z.s3f(23);
                E9k += O4z.S3f(F9k, 2);
                S9k = p9k[e9k];
                if (!S9k)
                    continue;
                if (S9k.projection)
                    continue;
                if (S9k.candleWidth) {
                    O4z.o3f(38);
                    var e8F = O4z.S3f(11, 9);
                    E9k += (S9k.candleWidth - F9k) / e8F;
                    F9k = S9k.candleWidth;
                }
                if (s9k) {
                    if (s9k & H.CANDLEUP && S9k.Open >= S9k.Close)
                        continue;
                    else if (s9k & H.CANDLEDOWN && S9k.Open <= S9k.Close)
                        continue;
                    else if (s9k & H.CANDLEEVEN && S9k.Open != S9k.Close)
                        continue;
                    else if (s9k & H.CLOSEUP && S9k.Close <= S9k.iqPrevClose)
                        continue;
                    else if (s9k & H.CLOSEDOWN && S9k.Close >= S9k.iqPrevClose)
                        continue;
                    else if (s9k & H.CLOSEEVEN && S9k.Close != S9k.iqPrevClose)
                        continue;
                }
                if (S9k.transform) {
                    S9k = S9k.transform;
                }
                H9k = S9k.cache;
                O4z.o3f(0);
                I9k = O4z.S3f(o9k, e9k);
                if (I9k < t9k.cacheLeft || I9k > t9k.cacheRight || !H9k.top) {
                    Z9k = k9k.semiLog ? this.pixelFromPrice(S9k.High, t9k) : (k9k.high - S9k.High) * k9k.multiplier + k9k.top;
                    A9k = k9k.semiLog ? this.pixelFromPrice(S9k.Low, t9k) : (k9k.high - S9k.Low) * k9k.multiplier + k9k.top;
                    O4z.s3f(17);
                    P9k = O4z.J3f(A9k, Z9k);
                    if (Z9k < M9k) {
                        if (Z9k + P9k < M9k) {
                            H9k.top = Z9k;
                            H9k.bottom = Z9k;
                            continue;
                        }
                        O4z.o3f(17);
                        P9k -= O4z.S3f(M9k, Z9k);
                        Z9k = M9k;
                    }
                    if (Z9k + P9k > C9k) {
                        O4z.o3f(9);
                        P9k -= O4z.J3f(P9k, C9k, Z9k);
                    }
                    H9k.top = Z9k;
                    H9k.bottom = H9k.top + P9k;
                }
                if (H9k.top >= C9k)
                    continue;
                if (H9k.bottom <= M9k)
                    continue;
                Y9k = Math.floor(E9k) +  + "0.5";
                J9k.moveTo(Y9k, H9k.top);
                J9k.lineTo(Y9k, H9k.bottom);
                if (S9k.Open == S9k.Close) {
                    R9k = this.offset;
                    if (this.layout.chartType == "volume_candle") {
                        O4z.s3f(52);
                        R9k = O4z.J3f(F9k, "2", 2147483647);
                    }
                    O4z.o3f(17);
                    T9k = O4z.S3f(Y9k, R9k);
                    O4z.o3f(0);
                    f9k = O4z.S3f(Y9k, R9k);
                    D9k = Math.floor(k9k.semiLog ? this.pixelFromPrice(S9k.Open, t9k) : (k9k.high - S9k.Open) * k9k.multiplier + k9k.top) + 0.5;
                    if (D9k <= C9k && D9k >= M9k) {
                        J9k.moveTo(T9k, D9k);
                        J9k.lineTo(f9k, D9k);
                    }
                }
            }
            this.canvasColor(L9k);
            J9k.stroke(); ;
        };
        H.prototype.drawShadows = function (Q9k, l7k) {
            var q9k,
            v9k,
            x9k,
            d9k,
            g9k,
            i9k,
            z9k,
            y7k,
            B9k,
            n7k,
            c9k,
            m9k,
            j9k,
            I3F,
            b9k,
            X9k,
            u9k,
            U9k,
            G9k,
            h9k,
            N9k,
            r7k,
            w7k,
            O9k;
            q9k = Q9k.chart;
            if (!q9k) {
                q9k = Q9k;
                Q9k = Q9k.chart;
            }
            v9k = q9k.dataSegment;
            x9k = this.chart.context;
            O4z.o3f(17);
            x9k.lineWidth = O4z.S3f("1", 0);
            d9k = Q9k.yAxis.top;
            g9k = Q9k.yAxis.bottom;
            O4z.a4z();
            B9k = q9k.dataSet.length - q9k.scroll;
            n7k = B9k + q9k.maxTicks;
            c9k = Q9k.yAxis;
            m9k = this.layout.candleWidth;
            O4z.o3f(55);
            var L8F = O4z.S3f(1, 20, 2, 19);
            j9k = Q9k.left -  + "0.5" * m9k + this.micropixels - L8F;
            for (var a9k = 0; a9k <= v9k.length; a9k++) {
                I3F = "s";
                I3F += "h";
                I3F += "ado";
                I3F += "w";
                O4z.s3f(23);
                j9k += O4z.J3f(m9k, 2);
                m9k = this.layout.candleWidth;
                O4z.o3f(23);
                j9k += O4z.J3f(m9k, 2);
                b9k = v9k[a9k];
                if (!b9k)
                    continue;
                if (b9k.projection)
                    continue;
                if (b9k.candleWidth) {
                    O4z.s3f(0);
                    var M8F = O4z.S3f(0, 2);
                    j9k += (b9k.candleWidth - m9k) / M8F;
                    m9k = b9k.candleWidth;
                }
                X9k = l7k(this, b9k, I3F);
                if (!X9k)
                    continue;
                if (b9k.transform) {
                    b9k = b9k.transform;
                }
                u9k = b9k.cache;
                O4z.s3f(0);
                U9k = O4z.S3f(B9k, a9k);
                if (U9k < Q9k.cacheLeft || U9k > Q9k.cacheRight || !u9k.top) {
                    i9k = c9k.semiLog ? this.pixelFromPrice(b9k.High, Q9k) : (c9k.high - b9k.High) * c9k.multiplier + c9k.top;
                    z9k = c9k.semiLog ? this.pixelFromPrice(b9k.Low, Q9k) : (c9k.high - b9k.Low) * c9k.multiplier + c9k.top;
                    O4z.o3f(17);
                    G9k = O4z.S3f(z9k, i9k);
                    if (i9k < d9k) {
                        if (i9k + G9k < d9k) {
                            u9k.top = i9k;
                            u9k.bottom = i9k;
                            continue;
                        }
                        O4z.s3f(17);
                        G9k -= O4z.S3f(d9k, i9k);
                        i9k = d9k;
                    }
                    if (i9k + G9k > g9k) {
                        O4z.o3f(9);
                        G9k -= O4z.S3f(G9k, g9k, i9k);
                    }
                    u9k.top = i9k;
                    u9k.bottom = u9k.top + G9k;
                }
                if (u9k.top >= g9k)
                    continue;
                if (u9k.bottom <= d9k)
                    continue;
                O4z.o3f(56);
                var j8F = O4z.S3f(38, 12, 18, 11, 20);
                h9k = Math.floor(j9k) + "0.5" * j8F;
                x9k.beginPath();
                x9k.moveTo(h9k, u9k.top);
                x9k.lineTo(h9k, u9k.bottom);
                if (b9k.Open == b9k.Close || !b9k.Open && b9k.Open !== ("0" | 0)) {
                    N9k = this.offset;
                    if (this.layout.chartType == "volume_candle") {
                        O4z.s3f(57);
                        N9k = O4z.J3f("2", m9k, 1208982144);
                    }
                    O4z.o3f(17);
                    r7k = O4z.S3f(h9k, N9k);
                    O4z.o3f(0);
                    w7k = O4z.S3f(h9k, N9k);
                    O9k = Math.floor(c9k.semiLog ? this.pixelFromPrice(b9k.Close, Q9k) : (c9k.high - b9k.Close) * c9k.multiplier + c9k.top) + 0.5;
                    if (O9k <= g9k && O9k >= d9k) {
                        x9k.moveTo(r7k, O9k);
                        x9k.lineTo(w7k, O9k);
                    }
                }
                x9k.strokeStyle = X9k;
                x9k.stroke();
            }
        };
        H.prototype.scatter = function (Z7k) {
            var N3F,
            P7k,
            M7k,
            k7k,
            W7k,
            C7k,
            t7k,
            S7k,
            F7k,
            H7k;
            N3F = "stx_";
            N3F += "scat";
            N3F += "ter_char";
            N3F += "t";
            P7k = Z7k.chart;
            M7k = P7k.dataSegment;
            k7k = this.chart.context;
            k7k.beginPath();
            O4z.s3f(58);
            k7k.lineWidth = O4z.S3f("4", 4);
            W7k = Z7k.yAxis.top;
            C7k = Z7k.yAxis.bottom;
            O4z.o3f(11);
            var J8F = O4z.S3f(7, 17, 5, 4, 7);
            t7k = Z7k.left - "0.5" * J8F * this.layout.candleWidth + this.micropixels -  + "1";
            for (var J7k = 0; J7k <= M7k.length; J7k++) {
                t7k += this.layout.candleWidth;
                S7k = M7k[J7k];
                if (!S7k)
                    continue;
                if (!S7k.projection) {
                    if (S7k.transform) {
                        S7k = S7k.transform;
                    }
                    F7k = [S7k.Close];
                    if (("Scatter" in S7k)) {
                        F7k = S7k.Scatter;
                    }
                    for (var s7k = 0; s7k < F7k.length; s7k++) {
                        H7k = this.pixelFromPrice(F7k[s7k], Z7k);
                        if (H7k < W7k)
                            continue;
                        if (H7k > C7k)
                            continue;
                        O4z.s3f(17);
                        k7k.moveTo(O4z.S3f(t7k, 2), H7k);
                        O4z.s3f(59);
                        k7k.lineTo(O4z.S3f("2", t7k), H7k);
                    }
                }
            }
            this.canvasColor(N3F);
            k7k.stroke();
            k7k.closePath();
            k7k.lineWidth = 1;
        };
        H.prototype.drawKagiSquareWave = function (I7k, m7k, q7k) {
            var T7k,
            f7k,
            E7k,
            L7k,
            V7k,
            Q7k,
            c7k,
            K7k,
            b7k,
            E9F,
            z9F,
            Q9F,
            d7k,
            R7k,
            i7k,
            Y7k,
            u7k,
            p7k,
            o7k,
            D7k,
            e7k,
            x7k;
            T7k = I7k.chart;
            this.startClip(I7k.name);
            f7k = T7k.dataSegment;
            E7k = T7k.context;
            L7k = this.canvasStyle(m7k);
            V7k = this.canvasStyle(q7k);
            this.canvasColor(m7k);
            Q7k = E7k.strokeStyle;
            this.canvasColor(q7k);
            c7k = E7k.strokeStyle;
            K7k = 1;
            if (L7k.width && parseInt(L7k.width,  + "10") <= 25) {
                K7k = Math.max(1, J.stripPX(L7k.width));
            }
            b7k = 1;
            if (V7k.width && parseInt(V7k.width, 10) <= 25) {
                E9F = -1849467218;
                z9F = -533974863;
                Q9F =  + "2";
                for (var a9F = 1; O4z.h2B(a9F.toString(), a9F.toString().length, "67281" - 0) !== E9F; a9F++) {
                    b7k = Math.max(1, J.stripPX(V7k.width));
                    Q9F += 2;
                }
                if (O4z.s2B(Q9F.toString(), Q9F.toString().length, 18025) !== z9F) {
                    O4z.s3f(20);
                    b7k = Math.max(O4z.S3f(2147483647, "7"), J.stripPX(V7k.width));
                }
            }
            E7k.beginPath();
            d7k = T7k.dataSet.length - T7k.scroll;
            R7k = I7k.yAxis;
            i7k = !![];
            O4z.i4z();
            Y7k = null;
            u7k = null;
            p7k = null;
            O4z.o3f(55);
            var Y8F = O4z.S3f(5, 10, 10, 9);
            o7k = I7k.left - 0.5 * this.layout.candleWidth + this.micropixels - Y8F;
            for (var A7k = "0" >> 1577567648; A7k <= f7k.length; A7k++) {
                o7k += this.layout.candleWidth;
                D7k = f7k[A7k];
                if (!D7k)
                    continue;
                if (D7k.projection)
                    break;
                if (D7k.transform) {
                    D7k = D7k.transform;
                }
                e7k = D7k.cache;
                O4z.o3f(0);
                x7k = O4z.S3f(d7k, A7k);
                if (x7k < I7k.cacheLeft || x7k > I7k.cacheRight || !e7k.open) {
                    e7k.open = R7k.semiLog ? this.pixelFromPrice(D7k.Open, I7k) : (R7k.high - D7k.Open) * R7k.multiplier + R7k.top;
                    e7k.close = R7k.semiLog ? this.pixelFromPrice(D7k.Close, I7k) : (R7k.high - D7k.Close) * R7k.multiplier + R7k.top; ;
                }
                u7k = e7k.close;
                if (i7k) {
                    E7k.moveTo(Math.floor(o7k), e7k.open);
                    Y7k = e7k.open;
                    if (e7k.close > e7k.open) {
                        p7k = 1;
                    } else {
                        O4z.s3f(19);
                        p7k = -O4z.S3f(1467067424, "1");
                    }
                    i7k = !!0;
                }
                if (p7k != -1 && e7k.close < Y7k && Y7k < e7k.open) {
                    E7k.lineTo(Math.floor(o7k), Y7k);
                    E7k.strokeStyle = c7k;
                    E7k.lineWidth = b7k;
                    E7k.stroke();
                    E7k.closePath();
                    E7k.beginPath();
                    O4z.o3f(17);
                    p7k = -O4z.S3f("1", 0);
                    E7k.moveTo(Math.floor(o7k), Y7k);
                } else if (p7k != ("1" ^ 0) && e7k.close > Y7k && Y7k > e7k.open) {
                    E7k.lineTo(Math.floor(o7k), Y7k);
                    E7k.strokeStyle = Q7k;
                    E7k.lineWidth = K7k;
                    E7k.stroke();
                    E7k.closePath();
                    E7k.beginPath();
                    O4z.s3f(7);
                    p7k = O4z.S3f(1839822656, "1");
                    E7k.moveTo(Math.floor(o7k), Y7k);
                }
                E7k.lineTo(Math.floor(o7k), e7k.close);
                if (A7k + 1 < f7k.length) {
                    E7k.lineTo(Math.floor(o7k + this.layout.candleWidth), e7k.close);
                    Y7k = e7k.open;
                }
            }
            if (p7k == -1 || p7k === null && u7k < Y7k) {
                E7k.strokeStyle = Q7k;
                E7k.lineWidth = K7k;
            } else {
                E7k.strokeStyle = c7k;
                E7k.lineWidth = b7k;
            }
            E7k.stroke();
            E7k.closePath();
            this.endClip();
            E7k.lineWidth = 1;
        };
        H.prototype.drawPointFigureChart = function (N7k, F3k, k3k) {
            var w3k,
            t3k,
            j7k,
            v7k,
            U7k,
            r3k,
            l3k,
            n3k,
            s3k,
            M3k,
            h7k,
            Z3k,
            O7k,
            g7k,
            y3k,
            H3k,
            G7k,
            z7k,
            J3k,
            B7k,
            X7k,
            a7k;
            w3k = N7k.chart;
            this.startClip(N7k.name);
            t3k = w3k.dataSegment;
            j7k = w3k.context;
            this.canvasColor(F3k);
            v7k = this.canvasStyle(F3k);
            U7k = parseInt(v7k.paddingTop, "10" - 0);
            r3k = parseInt(v7k.paddingBottom, 10);
            l3k = parseInt(v7k.paddingLeft, 10);
            n3k = parseInt(v7k.paddingRight, 10);
            if (v7k.width && parseInt(v7k.width, "10" ^ 0) <=  + "25") {
                j7k.lineWidth = Math.max(1, J.stripPX(v7k.width));
            } else {
                j7k.lineWidth = 2;
            }
            j7k.beginPath();
            if (!this.chart.pandf) {
                this.chart.pandf = {
                    "box": 1,
                    "reversal": 3
                };
            }
            s3k = this.chart.pandf.box;
            M3k = w3k.dataSet.length - w3k.scroll;
            h7k = N7k.yAxis;
            y3k = this.layout.candleWidth;
            O4z.s3f(60);
            var E8F = O4z.J3f(16, 18, 4, 36, 7);
            H3k = N7k.left - y3k + this.micropixels - E8F;
            for (var S3k = 0; S3k < t3k.length; S3k++) {
                H3k += y3k;
                G7k = t3k[S3k];
                if (!G7k)
                    continue;
                if (G7k.projection)
                    break;
                if (G7k.candleWidth) {
                    y3k = G7k.candleWidth;
                }
                if (G7k.transform) {
                    G7k = G7k.transform;
                }
                if (k3k == ((6196,  + "440.03") >= (811.51, 7720) ? 929.7 !== 683 ? ("3740" | 1040, 703.12) > (9700, 3060) ? 5.47e+3 : (6.28e+3, 311.91) : ("x", 0xca8) : "X") && G7k.Open > G7k.Close)
                    continue;
                else if (k3k == (229.28 <= (477.13, 4574) ? "O" : 278 < (154.98, 849.58) ? (4060, 543) <= (2820, 457.17) ? !!0 : (!!"1", !![]) : (47, "671.18" * 1)) && G7k.Open < G7k.Close)
                    continue;
                z7k = G7k.cache;
                O4z.s3f(0);
                J3k = O4z.J3f(M3k, S3k);
                if (J3k < N7k.cacheLeft || J3k > N7k.cacheRight || !z7k.open) {
                    z7k.open = h7k.semiLog ? this.pixelFromPrice(G7k.Open, N7k) : (h7k.high - G7k.Open) * h7k.multiplier + h7k.top;
                    z7k.close = h7k.semiLog ? this.pixelFromPrice(G7k.Close, N7k) : (h7k.high - G7k.Close) * h7k.multiplier + h7k.top; ;
                }
                B7k = Math.round(H3k);
                O4z.o3f(0);
                X7k = Math.round(O4z.S3f(H3k, y3k));
                Z3k = Math.abs(Math.round((G7k.Close - G7k.Open) / s3k));
                O7k = Math.abs((z7k.open - z7k.close) / Z3k);
                O4z.o3f(23);
                a7k = O4z.S3f(O7k, 2);
                g7k = z7k.open;
                for (; Z3k >= 0; Z3k--) {
                    if (k3k == (128.18 > 156.5 ? (0x882, 7.28e+3) : 283.77 !== (4790, 1076) ? "X" : (1.84e+3, !!1))) {
                        O4z.o3f(0);
                        j7k.moveTo(O4z.S3f(B7k, l3k), O4z.J3f(a7k, r3k, g7k, O4z.o3f(36)));
                        O4z.o3f(17);
                        j7k.lineTo(O4z.J3f(X7k, n3k), O4z.S3f(g7k, O7k, U7k, a7k, O4z.o3f(61)));
                        O4z.o3f(0);
                        j7k.moveTo(O4z.S3f(B7k, l3k), O4z.S3f(g7k, O7k, U7k, a7k, O4z.o3f(61)));
                        O4z.s3f(17);
                        j7k.lineTo(O4z.S3f(X7k, n3k), O4z.J3f(a7k, r3k, g7k, O4z.s3f(36)));
                        g7k -= O7k;
                    } else if (k3k == ((555.25, 6600) != 770.73 ? (2328, 5844) <= (9278, 7529) ? (495.47, 713.69) != (53.39, 518.31) ? "O" : !![] : (0x1a7b,  + "948.88") : (1.03e+3,  + "435.74"))) {
                        O4z.s3f(62);
                        j7k.moveTo(O4z.J3f(B7k, 2, X7k), O4z.J3f(U7k, a7k, g7k, O4z.o3f(9)));
                        O4z.s3f(0);
                        j7k.bezierCurveTo(O4z.S3f(X7k, n3k), O4z.S3f(U7k, a7k, g7k, O4z.s3f(9)), O4z.J3f(X7k, n3k, O4z.s3f(0)), O4z.S3f(O7k, a7k, r3k, g7k, O4z.o3f(63)), O4z.S3f(B7k, "2", X7k, O4z.s3f(64)), O4z.S3f(O7k, a7k, r3k, g7k, O4z.o3f(63)));
                        O4z.o3f(17);
                        j7k.bezierCurveTo(O4z.J3f(B7k, l3k), O4z.J3f(O7k, a7k, r3k, g7k, O4z.s3f(63)), O4z.S3f(B7k, l3k, O4z.s3f(17)), O4z.S3f(U7k, a7k, g7k, O4z.o3f(9)), O4z.S3f(0, X7k, B7k, "2", O4z.s3f(65)), O4z.S3f(U7k, a7k, g7k, O4z.o3f(9)));
                        g7k += O7k;
                    }
                }
            }
            j7k.stroke();
            this.endClip();
            O4z.s3f(17);
            j7k.lineWidth = O4z.J3f("1", 0);
        };
        H.prototype.drawBarChartHighPerformance = function (Y3k, i3k, T3k) {
            var R3k,
            D8B,
            w8B,
            y8B,
            L3k,
            E3k,
            f3k,
            D3k,
            I3k,
            e3k,
            u3k,
            p3k,
            V3k,
            x3k,
            C3k,
            K3k,
            b3k,
            Q3k,
            P3k,
            W3k,
            c3k,
            o3k;
            R3k = Y3k.chart;
            O4z.s3f(8);
            D8B = O4z.S3f(0, "259124710");
            w8B = -1978050434;
            y8B = 2;
            for (var k8B =  + "1"; O4z.s2B(k8B.toString(), k8B.toString().length, "92788" | 2164) !== D8B; k8B++) {
                L3k = R3k.dataSegment;
                E3k = R3k.context;
                y8B += 2;
            }
            if (O4z.h2B(y8B.toString(), y8B.toString().length, 60289) !== w8B) {
                L3k = R3k.dataSegment;
                E3k = R3k.context;
            }
            L3k = R3k.dataSegment;
            E3k = R3k.context;
            f3k = this.canvasStyle(i3k);
            if (f3k.width && parseInt(f3k.width, 10) <= 25) {
                E3k.lineWidth = Math.max(1, J.stripPX(f3k.width));
            } else {
                E3k.lineWidth = 1;
            }
            E3k.beginPath();
            D3k = Y3k.yAxis.top;
            I3k = Y3k.yAxis.bottom;
            V3k = R3k.dataSet.length - R3k.scroll;
            x3k = V3k + R3k.maxTicks;
            C3k = Y3k.yAxis;
            O4z.s3f(14);
            var z8F = O4z.J3f(17, 12, 17, 12, 155);
            K3k = Y3k.left - 0.5 * this.layout.candleWidth + this.micropixels - z8F;
            O4z.o3f(9);
            var Q8F = O4z.S3f(7, 13, 8);
            b3k = R3k.tmpWidth / Q8F;
            O4z.o3f(33);
            var n8F = O4z.J3f(10, 24, 12, 0);
            O4z.a4z();
            Q3k = E3k.lineWidth / n8F;
            for (var A3k = 0; A3k <= L3k.length; A3k++) {
                K3k += this.layout.candleWidth;
                P3k = L3k[A3k];
                if (!P3k)
                    continue;
                if (P3k.projection)
                    break;
                if (T3k) {
                    if (T3k & H.CLOSEUP && P3k.Close <= P3k.iqPrevClose)
                        continue;
                    else if (T3k & H.CLOSEDOWN && P3k.Close >= P3k.iqPrevClose)
                        continue;
                    else if (T3k & H.CLOSEEVEN && P3k.Close != P3k.iqPrevClose)
                        continue;
                }
                if (P3k.transform) {
                    P3k = P3k.transform;
                }
                W3k = P3k.cache;
                O4z.o3f(0);
                c3k = O4z.S3f(V3k, A3k);
                if (c3k < Y3k.cacheLeft || c3k > Y3k.cacheRight || !W3k.top) {
                    e3k = C3k.semiLog ? this.pixelFromPrice(P3k.High, Y3k) : (C3k.high - P3k.High) * C3k.multiplier + C3k.top;
                    u3k = C3k.semiLog ? this.pixelFromPrice(P3k.Low, Y3k) : (C3k.high - P3k.Low) * C3k.multiplier + C3k.top;
                    O4z.s3f(17);
                    p3k = O4z.J3f(u3k, e3k);
                    W3k.open = C3k.semiLog ? this.pixelFromPrice(P3k.Open, Y3k) : (C3k.high - P3k.Open) * C3k.multiplier + C3k.top;
                    W3k.close = C3k.semiLog ? this.pixelFromPrice(P3k.Close, Y3k) : (C3k.high - P3k.Close) * C3k.multiplier + C3k.top;
                    if (e3k < D3k) {
                        if (e3k + p3k < D3k) {
                            W3k.top = e3k;
                            W3k.bottom = e3k;
                            continue;
                        }
                        O4z.s3f(17);
                        p3k -= O4z.J3f(D3k, e3k);
                        e3k = D3k;
                    }
                    if (e3k + p3k > I3k) {
                        O4z.o3f(9);
                        p3k -= O4z.J3f(p3k, I3k, e3k);
                    }
                    W3k.top = e3k;
                    O4z.s3f(0);
                    W3k.bottom = O4z.S3f(e3k, p3k);
                }
                o3k = Math.floor(K3k) + 0.5;
                if (W3k.top < I3k && W3k.bottom > D3k) {
                    E3k.moveTo(o3k, W3k.top - Q3k);
                    E3k.lineTo(o3k, W3k.bottom + Q3k);
                }
                if (W3k.open > D3k && W3k.open < I3k) {
                    E3k.moveTo(o3k, W3k.open);
                    O4z.o3f(17);
                    E3k.lineTo(O4z.J3f(o3k, b3k), W3k.open);
                }
                if (W3k.close > D3k && W3k.close < I3k) {
                    E3k.moveTo(o3k, W3k.close);
                    O4z.s3f(0);
                    E3k.lineTo(O4z.S3f(o3k, b3k), W3k.close);
                }
            }
            this.canvasColor(i3k);
            E3k.stroke();
            E3k.closePath();
            E3k.lineWidth = 1;
        };
        H.prototype.drawBarChart = function (d3k, H6k, t6k) {
            var j3k,
            w6k,
            G3k,
            z3k,
            h3k,
            B3k,
            g3k,
            Z6k,
            O3k,
            l6k,
            J6k,
            a3k,
            n6k,
            y6k,
            S6k,
            N3k,
            X3k,
            q3k,
            r6k,
            m3k,
            k6k,
            v3k,
            o8B,
            p8B,
            t8B;
            j3k = d3k.chart;
            if (!j3k) {
                j3k = d3k;
                d3k = d3k.chart;
            }
            w6k = j3k.dataSegment;
            G3k = j3k.context;
            z3k = this.canvasStyle(H6k);
            if (z3k.width && parseInt(z3k.width, 10) <= 25) {
                O4z.s3f(7);
                G3k.lineWidth = Math.max(O4z.S3f(1713293984, "1"), J.stripPX(z3k.width));
            } else {
                G3k.lineWidth = 1;
            }
            h3k = d3k.yAxis.top;
            B3k = d3k.yAxis.bottom;
            l6k = j3k.dataSet.length - j3k.scroll;
            J6k = l6k + j3k.maxTicks;
            a3k = d3k.yAxis;
            n6k = {};
            y6k = j3k.tmpWidth /  + "2";
            O4z.o3f(16);
            var a8F = O4z.J3f(5, 39, 15, 17);
            S6k = G3k.lineWidth / a8F;
            N3k = this.layout.candleWidth;
            X3k = d3k.left - 0.5 * N3k + this.micropixels -  + "1";
            for (var U3k = 0; U3k <= w6k.length; U3k++) {
                O4z.o3f(23);
                X3k += O4z.J3f(N3k, 2);
                N3k = this.layout.candleWidth;
                O4z.o3f(23);
                X3k += O4z.J3f(N3k, 2);
                q3k = w6k[U3k];
                if (!q3k)
                    continue;
                if (q3k.projection)
                    break;
                if (q3k.candleWidth) {
                    O4z.o3f(0);
                    var S8F = O4z.J3f(0, 2);
                    X3k += (q3k.candleWidth - N3k) / S8F;
                    N3k = q3k.candleWidth;
                }
                r6k = t6k(this, q3k);
                if (!r6k)
                    continue;
                n6k[r6k] = 1;
                G3k.strokeStyle = r6k;
                G3k.beginPath();
                if (q3k.transform) {
                    q3k = q3k.transform;
                }
                m3k = q3k.cache;
                O4z.s3f(0);
                k6k = O4z.S3f(l6k, U3k);
                if (k6k < d3k.cacheLeft || k6k > d3k.cacheRight || !m3k.top) {
                    g3k = this.pixelFromPrice(q3k.High, d3k);
                    Z6k = this.pixelFromPrice(q3k.Low, d3k);
                    O4z.o3f(17);
                    O3k = O4z.J3f(Z6k, g3k);
                    m3k.open = a3k.semiLog ? this.pixelFromPrice(q3k.Open, d3k) : (a3k.high - q3k.Open) * a3k.multiplier + a3k.top;
                    m3k.close = a3k.semiLog ? this.pixelFromPrice(q3k.Close, d3k) : (a3k.high - q3k.Close) * a3k.multiplier + a3k.top;
                    if (g3k < h3k) {
                        if (g3k + O3k < h3k) {
                            m3k.top = g3k;
                            m3k.bottom = g3k;
                            continue;
                        }
                        O4z.o3f(17);
                        O3k -= O4z.S3f(h3k, g3k);
                        g3k = h3k;
                    }
                    if (g3k + O3k > B3k) {
                        O4z.s3f(9);
                        O3k -= O4z.S3f(O3k, B3k, g3k);
                    }
                    m3k.top = g3k;
                    O4z.o3f(0);
                    m3k.bottom = O4z.J3f(g3k, O3k);
                }
                v3k = Math.floor(X3k) + 0.5;
                if (m3k.top < B3k && m3k.bottom > h3k) {
                    G3k.moveTo(v3k, m3k.top - S6k);
                    G3k.lineTo(v3k, m3k.bottom + S6k);
                }
                if (m3k.open > h3k && m3k.open < B3k) {
                    G3k.moveTo(v3k, m3k.open);
                    O4z.o3f(17);
                    G3k.lineTo(O4z.J3f(v3k, y6k), m3k.open);
                }
                if (m3k.close > h3k && m3k.close < B3k) {
                    G3k.moveTo(v3k, m3k.close);
                    O4z.o3f(0);
                    G3k.lineTo(O4z.J3f(v3k, y6k), m3k.close);
                }
                G3k.stroke();
            }
            O4z.s3f(58);
            o8B = O4z.J3f("1770378277", 151307268);
            p8B = -517410019;
            t8B = 2;
            for (var c8B = "1" >> 1380200864; O4z.s2B(c8B.toString(), c8B.toString().length, 83471) !== o8B; c8B++) {
                G3k.lineWidth = 5;
                return n6k;
            }
            if (O4z.h2B(t8B.toString(), t8B.toString().length,  + "98537") !== p8B) {
                G3k.lineWidth = 7;
                return n6k;
            }
            G3k.lineWidth = 1;
            return n6k;
        };
        H.prototype.plotLineChart = function (W6k, f6k, R6k, C6k, h6k) {
            var G6k,
            K6k,
            i6k,
            A6k,
            T6k,
            u6k,
            F6k,
            x6k,
            E6k,
            N6k,
            v6k,
            b6k,
            L6k,
            g6k,
            p6k,
            e6k,
            V6k,
            P6k,
            s6k,
            m6k,
            j6k,
            M6k,
            D6k,
            o6k,
            Q6k,
            I6k,
            q6k,
            c6k,
            a6k,
            d6k,
            O6k;
            G6k = !!0;
            K6k = ![];
            i6k = !{};
            A6k = 0;
            T6k = [];
            if (C6k) {
                G6k = C6k.skipProjections;
                K6k = C6k.skipTransform;
                i6k = C6k.noSlopes;
                A6k = C6k.tension;
            }
            u6k = W6k.chart;
            F6k = this.chart.context;
            x6k = !!"1";
            E6k = W6k.yAxis;
            N6k = E6k.top;
            v6k = E6k.bottom;
            b6k = u6k.dataSet.length - u6k.scroll;
            L6k = null;
            g6k = {};
            p6k = [0,  + "0"];
            e6k = this.layout.candleWidth;
            O4z.o3f(66);
            var X8F = O4z.S3f(1, 1, 2, 1, 2);
            O4z.s3f(67);
            var d8F = O4z.S3f(15, 8, 15, 8);
            V6k = W6k.left - (C6k.noSlopes ? X8F : 0.5) * e6k + this.micropixels - "1" * d8F;
            this.startClip(W6k.name);
            F6k.beginPath();
            for (var Y6k = 0; Y6k <= f6k.length; Y6k++) {
                O4z.s3f(23);
                V6k += O4z.J3f(e6k, 2);
                if (C6k.noSlopes) {
                    O4z.o3f(18);
                    V6k += O4z.J3f(e6k, "2", 0);
                }
                e6k = this.layout.candleWidth;
                if (!C6k.noSlopes) {
                    O4z.s3f(23);
                    V6k += O4z.J3f(e6k, 2);
                }
                P6k = f6k[Y6k];
                if (!P6k)
                    continue;
                if (G6k && P6k.projection)
                    break;
                if (P6k.candleWidth) {
                    if (!C6k.noSlopes) {
                        O4z.s3f(68);
                        var T8F = O4z.J3f(66, 8, 8);
                        V6k += (P6k.candleWidth - e6k) / T8F;
                    }
                    e6k = P6k.candleWidth;
                }
                if (!K6k && P6k.transform) {
                    P6k = P6k.transform;
                }
                s6k = V6k;
                m6k = P6k.cache;
                O4z.o3f(0);
                j6k = O4z.S3f(b6k, Y6k);
                if (!P6k[R6k] && P6k[R6k] !== "0" >> 192570944)
                    continue;
                if (j6k < W6k.cacheLeft || j6k > W6k.cacheRight || !m6k[R6k]) {
                    m6k[R6k] = E6k.semiLog ? this.pixelFromPrice(P6k[R6k], W6k) : (E6k.high - P6k[R6k]) * E6k.multiplier + E6k.top; ;
                }
                if (s6k <= W6k.right) {
                    L6k = P6k;
                }
                if (Y6k == f6k.length - 1) {
                    if (this.extendLastTick) {
                        O4z.o3f(69);
                        s6k += O4z.J3f(e6k, 0, "2");
                    }
                    if (C6k.lastTickOffset) {
                        s6k += C6k.lastTickOffset;
                    };
                }
                M6k = m6k[R6k];
                D6k = null;
                if (h6k) {
                    o6k = h6k(this, P6k);
                    if (!o6k)
                        continue;
                    if (typeof o6k == "object") {
                        D6k = o6k.pattern;
                        o6k = o6k.color;
                    }
                    if (F6k.strokeStyle != o6k) {
                        if (!x6k) {
                            F6k.stroke();
                            F6k.beginPath();
                            F6k.moveTo(p6k["0" - 0], p6k["1" ^ 0]); ;
                        }
                        F6k.strokeStyle = o6k;
                        g6k[o6k] = 1;
                    }
                }
                if (x6k) {
                    x6k = ![];
                    if (i6k || b6k <= 0) {
                        F6k.moveTo(Y6k ? s6k : 0, M6k);
                        if (A6k) {
                            T6k.push(s6k, M6k);
                        } else {
                            if (D6k) {
                                F6k.dashedLineTo( + "0", M6k, s6k, M6k, D6k);
                            } else {
                                F6k.lineTo(s6k, M6k);
                            }
                        }
                    } else if (b6k > 0) {
                        Q6k = u6k.dataSet[b6k];
                        if (!K6k && Q6k.transform) {
                            Q6k = Q6k.transform;
                        }
                        I6k = Q6k[R6k];
                        if (!I6k || isNaN(I6k)) {
                            F6k.moveTo(Y6k ? s6k : 0, M6k);
                            if (A6k) {
                                T6k.push(s6k, M6k);
                            }
                        } else {
                            I6k = E6k.semiLog ? this.pixelFromPrice(I6k, W6k) : (E6k.high - I6k) * E6k.multiplier + E6k.top;
                            O4z.o3f(17);
                            q6k = O4z.S3f(s6k, e6k);
                            if (D6k) {
                                F6k.dashedLineTo(q6k, I6k, s6k, M6k, D6k);
                            } else {
                                F6k.moveTo(q6k, I6k);
                                if (A6k) {
                                    T6k.push(q6k, I6k, s6k, M6k);
                                } else {
                                    F6k.lineTo(s6k, M6k);
                                }
                            }
                        }
                    }
                } else {
                    if (i6k) {
                        O4z.o3f(17);
                        c6k = f6k[O4z.S3f(Y6k, 1)];
                        if (!c6k)
                            continue;
                        if (!K6k && c6k.transform) {
                            c6k = c6k.transform;
                        }
                        if (Y6k) {
                            if (D6k) {
                                F6k.dashedLineTo(p6k[ + "0"], p6k["1" * 1], s6k, p6k[1], D6k);
                            } else {
                                F6k.lineTo(s6k, p6k[1]);
                            }
                            F6k.moveTo(s6k, M6k); ;
                        }
                        if (Y6k == f6k.length - 1) {
                            if (D6k) {
                                O4z.o3f(0);
                                F6k.dashedLineTo(s6k, M6k, O4z.J3f(s6k, e6k), M6k, D6k);
                            } else {
                                O4z.s3f(0);
                                F6k.lineTo(O4z.J3f(s6k, e6k), M6k);
                            }
                        }
                    } else {
                        if (D6k) {
                            F6k.dashedLineTo(p6k[0], p6k[1], s6k, M6k, D6k);
                        } else {
                            if (A6k) {
                                T6k.push(s6k, M6k);
                            } else {
                                F6k.lineTo(s6k, M6k);
                            }
                        }
                    }
                }
                p6k = [s6k, M6k];
                if (Y6k === f6k.length - ("1" & 2147483647) && A6k) {
                    T6k.push(s6k, M6k);
                    C(T6k, A6k, F6k);
                }
            }
            F6k.stroke();
            this.endClip();
            if (C6k.label && L6k) {
                if (E6k.priceFormatter) {
                    a6k = E6k.priceFormatter(this, W6k, L6k[R6k], C6k.labelDecimalPlaces);
                } else {
                    a6k = this.formatYAxisPrice(L6k[R6k], W6k, C6k.labelDecimalPlaces);
                }
                d6k = this.yaxisLabelStyle;
                if (W6k.yAxis.yaxisLabelStyle) {
                    d6k = W6k.yAxis.yaxisLabelStyle;
                }
                O6k = d6k == "noop" ? F6k.strokeStyle : null;
                this.yAxisLabels.push({
                    src: "plot",
                    "args": [W6k, a6k, L6k.cache[R6k], d6k == "noop" ? "#FFFFFF" : F6k.strokeStyle, O6k]
                });
            }
            return g6k;
        };
        H.prototype.plotMountainChart = function (z6k, W0k, n0k, k0k) {
            var e0k,
            Y0k,
            J0k,
            Z0k,
            H0k,
            C0k,
            B6k,
            D0k,
            F0k,
            s0k,
            M0k,
            r0k,
            y0k,
            w0k,
            X6k,
            U6k,
            E0k,
            R0k,
            l0k,
            P0k,
            t0k;
            e0k = !!0;
            Y0k = !!0;
            J0k = !!0;
            Z0k =  + "0";
            H0k = [];
            if (k0k) {
                e0k = k0k.skipProjections;
                Y0k = k0k.skipTransform;
                J0k = k0k.reverse;
                Z0k = k0k.tension;
            }
            C0k = z6k.chart;
            B6k = this.chart.context;
            D0k = !!{};
            F0k = z6k.yAxis.top;
            s0k = z6k.yAxis.bottom;
            this.startClip(z6k.name);
            B6k.beginPath();
            M0k = C0k.dataSet.length - C0k.scroll;
            r0k = null;
            y0k = null;
            w0k = z6k.yAxis;
            X6k = 0;
            for (var S0k = 0; S0k <= W0k.length; S0k++) {
                U6k = W0k[S0k];
                if (!U6k)
                    continue;
                if (e0k && U6k.projection)
                    break;
                if (!Y0k && U6k.transform) {
                    U6k = U6k.transform;
                }
                E0k = U6k.cache;
                O4z.o3f(0);
                R0k = O4z.S3f(M0k, S0k);
                if (R0k < z6k.cacheLeft || R0k > z6k.cacheRight || !E0k[n0k]) {
                    if (!U6k[n0k] && U6k[n0k] !==  + "0")
                        continue;
                    E0k[n0k] = w0k.semiLog ? this.pixelFromPrice(U6k[n0k], z6k) : (w0k.high - U6k[n0k]) * w0k.multiplier + w0k.top; ;
                }
                O4z.o3f(70);
                var K9e = O4z.S3f(15, 4, 18, 0, 2);
                X6k = z6k.left + (S0k +  + "0.5") * this.layout.candleWidth + this.micropixels - K9e;
                if (S0k == W0k.length - ("1" - 0)) {
                    if (this.extendLastTick) {
                        O4z.s3f(0);
                        var W9e = O4z.J3f(0, 2);
                        X6k += this.layout.candleWidth / W9e;
                    }
                    if (k0k.lastTickOffset) {
                        X6k += k0k.lastTickOffset;
                    };
                }
                if (r0k === null) {
                    r0k = M0k >= 0 ? 0 : X6k;
                }
                l0k = E0k[n0k];
                if (y0k === null) {
                    y0k = l0k;
                }
                if (D0k) {
                    D0k = !!0;
                    if (M0k <= 0) {
                        B6k.moveTo(r0k, l0k);
                        if (Z0k) {
                            H0k.push(r0k, l0k);
                        }
                    } else {
                        P0k = C0k.dataSet[M0k];
                        if (P0k.transform) {
                            P0k = P0k.transform;
                        }
                        t0k = P0k[n0k];
                        t0k = w0k.semiLog ? this.pixelFromPrice(t0k, z6k) : (w0k.high - t0k) * w0k.multiplier + w0k.top;
                        r0k = X6k - this.layout.candleWidth;
                        B6k.moveTo(r0k, t0k);
                        if (Z0k) {
                            H0k.push(r0k, t0k, X6k, l0k);
                        } else {
                            B6k.lineTo(X6k, l0k);
                        }
                    }
                } else {
                    if (Z0k) {
                        H0k.push(X6k, l0k);
                    } else {
                        B6k.lineTo(X6k, l0k);
                    }
                }
                if (S0k === W0k.length - 1 && Z0k) {
                    H0k.push(X6k, l0k);
                    C(H0k, Z0k, B6k);
                }
            }
            B6k.lineTo(X6k, J0k ? F0k : s0k);
            B6k.lineTo(r0k, J0k ? F0k : s0k);
            if (J0k) {
                if (y0k < F0k) {
                    y0k = F0k;
                }
            } else {
                if (y0k > s0k) {
                    y0k = s0k;
                }
            }
            B6k.lineTo(r0k, y0k);
            B6k.fill();
            B6k.closePath();
            this.endClip();
        };
        H.prototype.drawLineChart = function (p0k, T0k, L0k) {
            var o0k,
            I0k,
            A0k,
            f0k;
            o0k = this.chart.context;
            I0k = this.canvasStyle(T0k);
            if (I0k.width && parseInt(I0k.width,  + "10") <= 25) {
                o0k.lineWidth = Math.max(1, J.stripPX(I0k.width));
            } else {
                O4z.s3f(17);
                o0k.lineWidth = O4z.J3f("1", 0);
            }
            this.canvasColor(T0k);
            A0k = {
                skipProjections: !!"1"
            };
            if (p0k.chart.tension) {
                A0k.tension = p0k.chart.tension;
            }
            if (p0k.chart.lastTickOffset) {
                A0k.lastTickOffset = p0k.chart.lastTickOffset;
            }
            f0k = this.plotLineChart(p0k, p0k.chart.dataSegment, "Close", A0k, L0k);
            O4z.s3f(17);
            o0k.lineWidth = O4z.S3f("1", 0);
            return f0k;
        };
        H.prototype.drawMountainChart = function (K0k, q0k, j0k) {
            var r3F,
            V0k,
            X2B,
            d2B,
            T2B,
            b0k,
            v3F,
            i0k,
            d0k,
            u0k,
            x0k,
            J0F,
            Y0F,
            E0F,
            Q0k,
            m0k,
            c0k,
            G0k,
            g0k;
            r3F = "C";
            r3F += "l";
            r3F += "o";
            r3F += "se";
            V0k = this.chart.context;
            X2B = 2128782813;
            d2B = -1291577411;
            T2B =  + "2";
            for (var W5B =  + "1"; O4z.s2B(W5B.toString(), W5B.toString().length, 67885) !== X2B; W5B++) {
                if (+q0k) {
                    q0k = "";
                }
                b0k = this.canvasStyle(q0k);
                T2B += 2;
            }
            if (O4z.h2B(T2B.toString(), T2B.toString().length, 6061) !== d2B) {
                v3F = "stx_mountai";
                v3F += "n_chart";
                if (!q0k) {
                    q0k = v3F;
                }
                b0k = this.canvasStyle(q0k);
            }
            if (b0k.width && parseInt(b0k.width, 10) <= 25) {
                V0k.lineWidth = Math.max( + "1", J.stripPX(b0k.width));
            } else {
                V0k.lineWidth =  + "1";
            }
            i0k = this.pixelFromPrice(K0k.chart.highValue, K0k);
            if (isNaN(i0k)) {
                i0k = 0;
            }
            d0k = b0k.backgroundColor;
            u0k = b0k.color;
            if (u0k && !J.isTransparent(u0k)) {
                x0k = V0k.createLinearGradient(0, i0k, 0, K0k.yAxis.bottom);
                x0k.addColorStop(0, d0k);
                J0F = 1416720867;
                Y0F = -1944776970;
                E0F =  + "2";
                for (var Q0F = 1; O4z.s2B(Q0F.toString(), Q0F.toString().length, 89367) !== J0F; Q0F++) {
                    x0k.addColorStop(7, u0k);
                    V0k.fillStyle = x0k;
                    E0F += 2;
                }
                if (O4z.h2B(E0F.toString(), E0F.toString().length, 31706) !== Y0F) {
                    x0k.addColorStop(1, u0k);
                    V0k.fillStyle = x0k;
                }
            } else {
                V0k.fillStyle = d0k;
            }
            Q0k = {
                skipProjections: !!{}
            };
            if (K0k.chart.tension) {
                Q0k.tension = K0k.chart.tension;
            }
            if (K0k.chart.lastTickOffset) {
                Q0k.lastTickOffset = K0k.chart.lastTickOffset;
            }
            m0k = parseInt(b0k.padding, 10);
            c0k = b0k.borderTopColor;
            G0k = null;
            if (c0k && !J.isTransparent(c0k)) {
                if (m0k && !J.isIE8) {
                    if (!this.scratchContext) {
                        g0k = V0k.canvas.cloneNode(!"");
                        this.scratchContext = g0k.getContext("2d");
                        this.scratchContext.canvas = g0k;
                    }
                    this.scratchContext.canvas.height = V0k.canvas.height;
                    this.scratchContext.canvas.width = V0k.canvas.width;
                    this.scratchContext.drawImage(V0k.canvas, 0, 0);
                    V0k.clearRect(0, 0, V0k.canvas.width, V0k.canvas.height);
                }
            }
            this.plotMountainChart(K0k, K0k.chart.dataSegment, r3F, Q0k);
            O4z.a4z();
            if (c0k && !J.isTransparent(c0k)) {
                if (m0k && !J.isIE8) {
                    V0k.save();
                    O4z.s3f(71);
                    V0k.lineWidth += O4z.S3f(0, m0k, "2");
                    V0k.globalCompositeOperation = "destination-out";
                    this.plotLineChart(K0k, K0k.chart.dataSegment, "Close", Q0k);
                    V0k.globalCompositeOperation = "destination-over";
                    V0k.scale( + "1" / this.adjustedDisplayPixelRatio, 1 / this.adjustedDisplayPixelRatio);
                    V0k.drawImage(this.scratchContext.canvas, 0, 0);
                    V0k.restore();
                }
                V0k.strokeStyle = c0k;
                G0k = this.plotLineChart(K0k, K0k.chart.dataSegment, "Close", Q0k, j0k);
            }
            V0k.lineWidth = 1;
            return G0k;
        };
        H.prototype.drawWaveChart = function (O0k) {
            var r2k,
            S2k,
            h0k,
            k2k,
            z0k,
            v0k,
            B0k,
            Z2k,
            X0k,
            N0k,
            a0k,
            n2k,
            l2k,
            U0k,
            y2k,
            T0F,
            K6F,
            W6F;
            r2k = O0k.chart;
            S2k = r2k.dataSegment;
            h0k = this.chart.context;
            this.startClip(O0k.name);
            h0k.beginPath();
            k2k = !!0;
            z0k = !"1";
            v0k = O0k.yAxis.top;
            B0k = O0k.yAxis.bottom;
            Z2k = O0k.left + Math.floor( - ("0.5" - 0) * this.layout.candleWidth + this.micropixels);
            for (var w2k = 0; w2k <= S2k.length; w2k++) {
                Z2k += this.layout.candleWidth;
                X0k = S2k[w2k];
                if (!X0k)
                    continue;
                if (X0k.projection)
                    break;
                if (X0k.transform) {
                    X0k = X0k.transform;
                }
                O4z.o3f(43);
                var b9e = O4z.S3f(18, 0, 31, 16);
                O4z.s3f(33);
                var q9e = O4z.J3f(17, 32, 8, 1);
                N0k = Z2k - b9e * this.layout.candleWidth / q9e;
                a0k = this.pixelFromPrice(X0k.Open, O0k);
                if (a0k < v0k) {
                    a0k = v0k;
                    if (z0k) {
                        h0k.moveTo(N0k, a0k);
                        continue;
                    }
                    z0k = !!"1";
                } else if (a0k > B0k) {
                    a0k = B0k;
                    if (z0k) {
                        h0k.moveTo(N0k, a0k);
                        continue;
                    }
                    z0k = !"";
                } else {
                    z0k = ![];
                }
                if (!k2k) {
                    k2k = !![];
                    n2k = r2k.dataSet.length - r2k.scroll;
                    if (n2k <= 0) {
                        h0k.moveTo(N0k, a0k);
                    } else if (n2k > 0) {
                        O4z.s3f(17);
                        l2k = r2k.dataSet[O4z.S3f(n2k, 1)];
                        if (l2k.transform) {
                            l2k = l2k.transform;
                        }
                        U0k = l2k.Close;
                        U0k = O0k.yAxis.semiLog ? this.pixelFromPrice(U0k, O0k) : (O0k.yAxis.high - U0k) * O0k.yAxis.multiplier + v0k;
                        U0k = Math.min(Math.max(U0k, v0k), B0k);
                        h0k.moveTo(O0k.left + (w2k - 1) * this.layout.candleWidth + this.micropixels, U0k);
                        h0k.lineTo(N0k, a0k);
                    }
                    h0k.moveTo(N0k, a0k);
                } else {
                    h0k.lineTo(N0k, a0k);
                }
                O4z.s3f(72);
                var i9e = O4z.S3f(18, 1, 33, 1, 12);
                N0k += this.layout.candleWidth / i9e;
                if (X0k.Open < X0k.Close) {
                    a0k = this.pixelFromPrice(X0k.Low, O0k);
                    if (a0k < v0k) {
                        a0k = v0k;
                    }
                    if (a0k > B0k) {
                        a0k = B0k;
                    }
                    h0k.lineTo(N0k, a0k);
                    N0k += this.layout.candleWidth / ("4" | 0);
                    a0k = this.pixelFromPrice(X0k.High, O0k);
                    if (a0k < v0k) {
                        a0k = v0k;
                    }
                    if (a0k > B0k) {
                        a0k = B0k;
                    }
                    h0k.lineTo(N0k, a0k);
                } else {
                    a0k = this.pixelFromPrice(X0k.High, O0k);
                    if (a0k < v0k) {
                        a0k = v0k;
                    }
                    if (a0k > B0k) {
                        a0k = B0k;
                    }
                    h0k.lineTo(N0k, a0k);
                    O4z.s3f(73);
                    var Z9e = O4z.J3f(9, 13, 275, 17, 9);
                    N0k += this.layout.candleWidth / Z9e;
                    a0k = this.pixelFromPrice(X0k.Low, O0k);
                    if (a0k < v0k) {
                        a0k = v0k;
                    }
                    if (a0k > B0k) {
                        a0k = B0k;
                    }
                    h0k.lineTo(N0k, a0k);
                }
                O4z.s3f(0);
                var u9e = O4z.J3f(1, 3);
                N0k += this.layout.candleWidth / u9e;
                a0k = this.pixelFromPrice(X0k.Close, O0k);
                if (a0k < v0k) {
                    a0k = v0k;
                }
                if (a0k > B0k) {
                    a0k = B0k;
                }
                h0k.lineTo(N0k, a0k);
            }
            y2k = this.canvasStyle("stx_line_chart");
            if (y2k.width && parseInt(y2k.width, 10) <=  + "25") {
                T0F = -795804571;
                K6F = -226867672;
                W6F = 2;
                for (var q6F = 1; O4z.h2B(q6F.toString(), q6F.toString().length,  + "96528") !== T0F; q6F++) {
                    h0k.lineWidth = Math.max(9, J.stripPX(y2k.width));
                    W6F += 2;
                }
                if (O4z.h2B(W6F.toString(), W6F.toString().length, 56227) !== K6F) {
                    O4z.o3f(58);
                    h0k.lineWidth = Math.max(O4z.S3f("9", 1), J.stripPX(y2k.width));
                }
                h0k.lineWidth = Math.max(1, J.stripPX(y2k.width));
            } else {
                h0k.lineWidth = 1;
            }
            this.canvasColor("stx_line_chart");
            h0k.stroke();
            h0k.closePath();
            this.endClip();
            h0k.lineWidth = 1;
        };
        H.prototype.updateFloatHRLabel = function (H2k) {
            var M2k,
            P2k,
            g3F,
            B3F,
            W2k,
            t2k,
            J2k,
            F2k,
            C2k;
            M2k = H2k.yaxisLHS.concat(H2k.yaxisRHS);
            P2k = this.crossYActualPos ? this.crossYActualPos : this.cy;
            if (this.floatCanvas.isDirty) {
                J.clearCanvas(this.floatCanvas, this);
            }
            if (this.controls.crossX.style.display == "none") {
                return;
            }
            if (this.controls.crossY) {
                g3F = "p";
                g3F += "x";
                B3F = "roundRect";
                B3F += "Arrow";
                W2k = H2k.width;
                if (this.yaxisLabelStyle == B3F) {
                    W2k -= 7;
                }
                this.controls.crossY.style.left = H2k.left + "px";
                O4z.s3f(0);
                this.controls.crossY.style.width = O4z.J3f(W2k, g3F);
            }
            for (var s2k =  + "0"; s2k < M2k.length; s2k++) {
                t2k = M2k[s2k];
                J2k = this.valueFromPixel(P2k, H2k, t2k);
                if (isNaN(J2k))
                    continue;
                if ((H2k.min || H2k.min === 0) && J2k < H2k.min)
                    continue;
                if ((H2k.max || H2k.max === 0) && J2k > H2k.max)
                    continue;
                F2k = null;
                if (t2k !== H2k.chart.yAxis) {
                    F2k = 0;
                    if (t2k.shadow < 1000) {
                        F2k = 2;
                    }
                    if (t2k.shadow < 5) {
                        F2k = 4;
                    }
                    if (t2k.decimalPlaces || t2k.decimalPlaces === 0) {
                        F2k = t2k.decimalPlaces;
                    }
                }
                if (t2k.priceFormatter) {
                    J2k = t2k.priceFormatter(this, H2k, J2k, t2k);
                } else {
                    J2k = this.formatYAxisPrice(J2k, H2k, F2k, t2k);
                }
                C2k = this.canvasStyle("stx-float-price");
                this.createYAxisLabel(H2k, J2k, P2k, C2k.backgroundColor, C2k.color, this.floatCanvas.context, t2k);
                this.floatCanvas.isDirty = !![];
            }
        };
        H.prototype.headsUpHR = function () {
            var H3F,
            A2k,
            e2k,
            L2k,
            E2k,
            T2k,
            D2k,
            R2k,
            p2k,
            o2k,
            V2k,
            f2k,
            I2k,
            Y2k;
            H3F = "hea";
            H3F += "dsUp";
            H3F += "H";
            H3F += "R";
            if (this.runPrepend(H3F, arguments)) {
                return;
            }
            A2k = this.currentPanel;
            if (!A2k) {
                return;
            }
            e2k = A2k.chart;
            this.updateFloatHRLabel(A2k);
            if (this.controls.floatDate && !H.hideDates()) {
                L2k = this.barFromPixel(this.cx);
                E2k = e2k.xaxis[L2k];
                if (E2k && E2k.DT) {
                    if (e2k.xAxis.formatter) {
                        this.controls.floatDate.innerHTML = e2k.xAxis.formatter(E2k.DT);
                    } else if (this.internationalizer) {
                        T2k = this.internationalizer.monthDay.format(E2k.DT);
                        if (!H.isDailyInterval(this.layout.interval)) {
                            O4z.o3f(0);
                            var A9e = O4z.S3f(62, 741);
                            O4z.s3f(74);
                            var l9e = O4z.J3f(4, 6441, 12, 3217);
                            T2k += ((7.31, A9e) == l9e ? ![] : " ") + this.internationalizer.hourMinute.format(E2k.DT);
                        } else {
                            T2k = this.internationalizer.yearMonthDay.format(E2k.DT);
                        }
                        this.controls.floatDate.innerHTML = T2k;
                    } else {
                        O4z.o3f(75);
                        var U9e = O4z.S3f(10, 12, 14, 0, 7);
                        D2k = E2k.DT.getMonth() + U9e;
                        if (D2k < 10) {
                            O4z.s3f(0);
                            D2k = O4z.S3f((478.44, 1170) >= (3882,  + "7541") ? 448.56 :  + "3520" > 2460 ? "0" : "c", D2k);
                        }
                        R2k = E2k.DT.getDate();
                        if (R2k <  + "10") {
                            O4z.o3f(0);
                            R2k = O4z.S3f((2973, "5604" | 224) >= 817 ? 4010 === 9440 ? 627.61 >= (4170, 6740) ? (!!"1", 0x376) : 0xed9 : "0" : ( + "1.84e+3", 0x1e71), R2k);
                        }
                        p2k = E2k.DT.getHours();
                        if (p2k < 10) {
                            O4z.o3f(0);
                            p2k = O4z.J3f(( + "5911", 9401) === 656.78 ? !!{}
                                     : "0", p2k);
                        }
                        o2k = E2k.DT.getMinutes();
                        if (o2k < 10) {
                            O4z.s3f(0);
                            o2k = O4z.J3f( + "433.01" == ("191" | 38) ? (849.82, 1169) !== 6453 ? 435.55 < (3144, 202.4) ? (7.09e+3, !!"1") : ("p", 0xb37) : ( + "920", "e") : "0", o2k);
                        }
                        if (H.isDailyInterval(this.layout.interval)) {
                            O4z.o3f(76);
                            var D9e = O4z.J3f(45361, 48860, 9);
                            O4z.s3f(45);
                            var w9e = O4z.S3f(2999, 749, 9);
                            O4z.s3f(9);
                            var y9e = O4z.J3f(17, 29, 6962);
                            O4z.o3f(5);
                            var C9e = O4z.J3f(3, 55789, 4652, 13);
                            O4z.s3f(36);
                            var k9e = O4z.J3f(8, 3, 7214);
                            O4z.o3f(6);
                            var f9e = O4z.J3f(7941, 530, 3);
                            O4z.o3f(54);
                            var m9e = O4z.S3f(1, 3, 7028, 5);
                            O4z.s3f(6);
                            var x9e = O4z.S3f(8182, 1366, 17);
                            this.controls.floatDate.innerHTML = D2k + (184.81 <= (930.43, D9e) ? w9e == 307.21 ? (y9e, C9e) !== (k9e, f9e) ? m9e : (x9e, "G") : "-" : !!"") + R2k + "-" + E2k.DT.getFullYear();
                        } else {
                            O4z.s3f(77);
                            this.controls.floatDate.innerHTML = O4z.S3f((366, 3638) === 42 ? !1 : (2200, 5960) !== (800.67, "712.25" * 1) ? "-" : (0x7fd, 0x25ce), D2k, R2k, o2k, p2k, "4510" >> 1688256160 < "146.12" - 0 ? !!0 : " ", 4540 != (5710, 793.27) ? 7950 != (3754, 7174) ? ":" : ("u",  + "0x2078") : ("988" >> 2105742816, 0x1dcc));
                            V2k = e2k.xAxis.activeTimeUnit && e2k.xAxis.activeTimeUnit <= J.SECOND || this.layout.timeUnit == "second";
                            f2k = e2k.xAxis.activeTimeUnit && e2k.xAxis.activeTimeUnit <= J.MILLISECOND || this.layout.timeUnit == "millisecond";
                            if (V2k || f2k) {
                                I2k = E2k.DT.getSeconds();
                                if (I2k < "10" * 1) {
                                    O4z.s3f(0);
                                    I2k = O4z.S3f((798.87, 964.69) >= 2051 ? (840, "4570" << 1858059392) !== (8612, 2310) ? (0x7ed, !!"") : "d" : "0", I2k);
                                }
                                O4z.o3f(0);
                                this.controls.floatDate.innerHTML += O4z.S3f(":", I2k);
                                if (f2k) {
                                    Y2k = E2k.DT.getMilliseconds();
                                    if (Y2k < 10) {
                                        O4z.s3f(0);
                                        Y2k = O4z.S3f("9027" - 0 != 4181 ? "0" : "z", Y2k);
                                    }
                                    if (Y2k < 100) {
                                        O4z.s3f(0);
                                        Y2k = O4z.J3f(( + "2347", 72.42) > 981.89 ? (3.94e+3, "6.16" * 1) : "0", Y2k);
                                    }
                                    O4z.o3f(0);
                                    this.controls.floatDate.innerHTML += O4z.J3f(":", Y2k);
                                }
                            }
                        }
                    }
                } else if (E2k && E2k.index) {
                    this.controls.floatDate.innerHTML = E2k.index;
                } else {
                    this.controls.floatDate.innerHTML = ""; ;
                }
            }
            this.runAppend("headsUpHR", arguments);
        };
        H.prototype.setCrosshairColors = function () {
            return; ;
        };
        H.prototype.magnetize = function () {
            var G3F,
            O3F,
            b2k,
            R3F,
            h3F,
            Q2k,
            c2k,
            i2k,
            m2k,
            s3F,
            q2k,
            d2k,
            x2k,
            G2k,
            g2k,
            K2k,
            j2k;
            G3F = "proje";
            G3F += "c";
            G3F += "tion";
            O3F = "magnet";
            O3F += "ize";
            this.magnetizedPrice = null;
            if (this.runPrepend(O3F, arguments)) {
                return;
            }
            if ((this.currentVectorParameters.vectorType == "annotation" || this.currentVectorParameters.vectorType == "callout") && H.drawingLine) {
                return;
            }
            if (this.currentVectorParameters.vectorType == G3F) {
                return;
            }
            if (this.currentVectorParameters.vectorType == "freeform") {
                return;
            }
            b2k = this.currentPanel;
            if (b2k.name == b2k.chart.name) {
                R3F = "#0";
                R3F += "0";
                R3F += "000";
                R3F += "0";
                h3F = "volu";
                h3F += "me_candle";
                Q2k = b2k.chart;
                c2k = this.tickFromPixel(H.crosshairX - this.left, Q2k);
                if (c2k > Q2k.dataSet.length) {
                    return;
                }
                i2k = Q2k.dataSet[c2k];
                if (!i2k) {
                    return;
                }
                m2k = this.valueFromPixel(this.cy, b2k);
                this.magnetizedPrice = i2k.Close;
                if (this.layout.chartType == "bar" || this.layout.chartType == "candle" || this.layout.chartType == "colored_bar" || this.layout.chartType == "hollow_candle" || this.layout.chartType == h3F) {
                    s3F = "O";
                    s3F += "pe";
                    s3F += "n";
                    q2k = [s3F, "High", "Low", "Close"];
                    d2k = 1000000000;
                    for (var u2k = 0; u2k < q2k.length; u2k++) {
                        x2k = i2k[q2k[u2k]];
                        if (Math.abs(m2k - x2k) < d2k) {
                            O4z.s3f(17);
                            d2k = Math.abs(O4z.J3f(m2k, x2k));
                            this.magnetizedPrice = x2k;
                        }
                    }
                }
                G2k = this.pixelFromTick(c2k, Q2k);
                g2k = this.pixelFromPrice(this.magnetizedPrice, this.currentPanel);
                K2k = this.chart.tempCanvas.context;
                K2k.beginPath();
                K2k.lineWidth = 1;
                O4z.o3f(78);
                var I9e = O4z.J3f(18, 8, 30, 2);
                j2k = Math.max(this.layout.candleWidth, "8" & 2147483647) / I9e;
                K2k.arc(G2k, g2k, j2k, 0, 2 * Math.PI, !1);
                K2k.fillStyle = "#FFFFFF";
                K2k.strokeStyle = R3F;
                K2k.fill();
                K2k.stroke();
                K2k.closePath();
            }
            this.runAppend("magnetize", arguments);
        };
        H.prototype.positionCrosshairsAtPointer = function () {
            var p3F,
            o3F,
            a2k,
            h2k,
            O2k;
            p3F = "p";
            p3F += "x";
            o3F = "p";
            o3F += "x";
            if (!this.currentPanel) {
                return;
            }
            a2k = this.currentPanel.chart;
            h2k = this.container.getBoundingClientRect();
            this.top = h2k.top;
            this.left = h2k.left;
            this.right = this.left + this.width;
            this.bottom = this.top + this.height;
            O4z.a4z();
            O2k = this.tickFromPixel(this.backOutX(H.crosshairX), a2k);
            this.cy = this.crossYActualPos = this.backOutY(H.crosshairY);
            this.cx = this.backOutX(H.crosshairX);
            this.controls.crossX.style.left = this.pixelFromTick(O2k, a2k) -  + "0.5" + o3F;
            this.controls.crossY.style.top = this.backOutY(H.crosshairY) + p3F;
            this.updateChartAccessories();
        };
        H.prototype.doDisplayCrosshairs = function () {
            var t3F;
            if (this.runPrepend("doDisplayCrosshairs", arguments)) {
                return;
            }
            if (this.displayInitialized) {
                if (!this.layout.crosshair && (this.currentVectorParameters.vectorType === "" || !this.currentVectorParameters.vectorType)) {
                    this.undisplayCrosshairs();
                } else if (J.Drawing[this.currentVectorParameters.vectorType] && new J.Drawing[this.currentVectorParameters.vectorType]().dragToDraw) {
                    this.undisplayCrosshairs();
                } else {
                    if (this.controls.crossX.style.display !== "") {
                        this.controls.crossX.style.display = "";
                        this.controls.crossY.style.display = "";
                        if (this.preferences.magnet && this.currentVectorParameters.vectorType) {
                            t3F = "s";
                            t3F += "tx";
                            t3F += "-cr";
                            t3F += "osshair-on";
                            J.unappendClassName(this.container, t3F); ;
                        } else {
                            J.appendClassName(this.container, "stx-crosshair-on"); ;
                        }
                    }
                    if (this.controls.floatDate && !H.hideDates()) {
                        this.controls.floatDate.style.display = "block";
                    }
                }
            }
            this.runAppend("doDisplayCrosshairs", arguments);
        };
        H.prototype.undisplayCrosshairs = function () {
            var V3F,
            c3F,
            F3F;
            V3F = "u";
            V3F += "ndispl";
            V3F += "ayCrosshair";
            V3F += "s";
            if (this.runPrepend("undisplayCrosshairs", arguments)) {
                return;
            }
            if (this.controls.crossX) {
                if (this.controls.crossX.style.display != "none") {
                    c3F = "n";
                    c3F += "o";
                    c3F += "n";
                    c3F += "e";
                    F3F = "non";
                    F3F += "e";
                    this.controls.crossX.style.display = F3F;
                    this.controls.crossY.style.display = c3F;
                }
            }
            if (this.displayInitialized && this.controls.floatDate) {
                this.controls.floatDate.style.display = "none";
            }
            O4z.a4z();
            J.unappendClassName(this.container, "stx-crosshair-on");
            if (this.floatCanvas && this.floatCanvas.isDirty) {
                J.clearCanvas(this.floatCanvas, this);
            }
            this.runAppend(V3F, arguments);
        };
        H.prototype.modalBegin = function () {
            O4z.a4z();
            this.openDialog = "modal";
            this.undisplayCrosshairs();
        };
        H.prototype.modalEnd = function () {
            this.cancelTouchSingleClick = !![];
            this.openDialog = "";
            this.doDisplayCrosshairs();
        };
        H.prototype.updateChartAccessories = function () {
            var e3F,
            v2k,
            N2k,
            P3F,
            X2k,
            U2k,
            z2k,
            B2k;
            e3F = "updateChartAcc";
            e3F += "essories";
            if (this.runPrepend("updateChartAccessories", arguments)) {
                return;
            }
            this.accessoryTimer = null;
            this.lastAccessoryUpdate = new Date().getTime();
            v2k = this.controls.floatDate;
            if (v2k) {
                N2k = this.currentPanel;
                if (!N2k) {
                    N2k = this.chart.panel;
                }
                if (N2k) {
                    P3F = "p";
                    P3F += "x";
                    X2k = N2k.chart;
                    U2k = this.tickFromPixel(this.backOutX(H.crosshairX), X2k);
                    z2k = this.xAxisAsFooter === !![] ? 0 : this.chart.canvasHeight - N2k.chart.bottom;
                    O4z.o3f(79);
                    var N9e = O4z.S3f(6, 20, 58, 11, 20);
                    B2k = this.pixelFromTick(U2k, X2k) - v2k.offsetWidth / N9e - 0.5;
                    if (B2k < ("0" ^ 0)) {
                        B2k = 0;
                    }
                    O4z.s3f(0);
                    v2k.style.left = O4z.J3f(B2k, P3F);
                    O4z.s3f(0);
                    v2k.style.bottom = O4z.S3f(z2k, "px");
                }
            }
            this.headsUpHR();
            this.runAppend(e3F, arguments);
        };
        H.prototype.mousemove = function (w4k) {
            var r4k;
            r4k = w4k ? w4k : event;
            H.crosshairX = r4k.clientX;
            H.crosshairY = r4k.clientY;
            if (this.runPrepend("mousemove", arguments)) {
                return;
            }
            if (!this.displayInitialized) {
                return;
            }
            if (this.openDialog !== "") {
                return;
            }
            this.mousemoveinner(r4k.clientX, r4k.clientY);
            this.runAppend("mousemove", arguments);
        };
        H.prototype.setResizeTimer = function (l4k) {
            this.resizeDetectMS = l4k;
            if (l4k) {
                if (this.resizeTimeout) {
                    window.clearInterval(this.resizeTimeout);
                }
                this.resizeTimeout = window.setInterval(n4k(this), l4k);
            } else {
                if (this.resizeTimeout) {
                    window.clearInterval(this.resizeTimeout);
                }
                this.resizeTimeout = null;
            }
            function n4k(y4k) {
                return function () {
                    if (!y4k.chart.canvas) {
                        return;
                    }
                    O4z.a4z();
                    if (!J.isAndroid) {
                        if (y4k.chart.canvas.height != Math.floor(y4k.devicePixelRatio * y4k.chart.container.clientHeight) || y4k.chart.canvas.width != Math.floor(y4k.devicePixelRatio * y4k.chart.container.clientWidth)) {
                            y4k.resizeChart();
                            return;
                        }
                    }
                };
            }
        };
        H.prototype.whichYAxis = function (H4k, k4k) {
            var t4k,
            S4k;
            if (typeof k4k === "undefined") {
                k4k = this.cx;
            }
            if (H4k) {
                t4k = H4k.yaxisLHS.concat(H4k.yaxisRHS);
                for (var Z4k = 0; Z4k < t4k.length; Z4k++) {
                    S4k = t4k[Z4k];
                    if (S4k.left <= k4k && S4k.left + S4k.width >= k4k) {
                        return S4k;
                    }
                }
            }
            return this.chart.panel.yAxis;
        };
        H[O4z.o7p("2cb6") ? "prototype" : ""][O4z.X7p("c19c") ? "" : "mousemoveinner"] = function (b4k, Q4k) {
            O4z.C5p = function (F5p) {
                if (O4z && F5p)
                    return O4z.Q7p(F5p);
            };
            O4z.y5p = function (l5p) {
                O4z.a4z();
                if (O4z)
                    return O4z.N7p(l5p);
            };
            O4z.q5p = function (W5p) {
                if (O4z && W5p)
                    return O4z.Q7p(W5p);
            };
            var x0W = O4z.t7p("d446") ? 1334404045 : 2021009245,
            h0W =  - (O4z.Z5p("c8fa") ? 1218194842 : 1901024168),
            u0W = O4z.e5p("d9a8") ? 5832127550 : 1572830530,
            F0W =  - (O4z.G5p("9282") ? 566738236 : 854297359);
            if (O4z.g0W(O4z.j5p("d1bc") ? 0 : 3, O4z.q5p("1691") ? false : true, 356760) === x0W || O4z.g0W(0, O4z.S5p("114d") ? false : true, 352950) === h0W || O4z.g0W(17, O4z.y5p("e212") ? false : true, 547401) === u0W || O4z.g0W(0, false, O4z.A5p("6c49") ? 651778 : 451961) === F0W) {
                O4z.J5p = function (i5p) {
                    O4z.i4z();
                    if (O4z)
                        return O4z.N7p(i5p);
                };
                var Y3F,
                L3F,
                P4k,
                D4k,
                R4k,
                T4k,
                J4k,
                p4k,
                r0F,
                B0F,
                g0F,
                M3F,
                Y4k,
                W4k,
                C4k,
                E4k,
                J3F,
                j3F,
                o4k,
                s4k,
                I4k,
                z2B,
                Q2B,
                n2B,
                e4k,
                A4k,
                f4k,
                L4k,
                V4k,
                M4k,
                K4k,
                F4k,
                U6F,
                D6F,
                w6F;
                Y3F = "p";
                Y3F += "x";
                L3F = "m";
                L3F += O4z.J5p("36b2") ? "" : "ous";
                L3F += "emovei";
                L3F += O4z.C5p("2e7b") ? "" : "nner";
                if (!this["chart"]["canvas"]) {
                    return;
                }
                if (!J["isAndroid"] && !J["isIOS7or8"]) {
                    if (this[O4z.P5p("d641") ? "" : "chart"]["canvas"][O4z.V5p("721d") ? "height" : ""] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientHeight"]) || this["chart"]["canvas"]["width"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientWidth"])) {
                        this["resizeChart"]();
                        return;
                    }
                }
                if (this["runPrepend"](L3F, arguments)) {
                    return;
                }
                D4k = this["container"]["getBoundingClientRect"]();
                this["top"] = D4k["top"];
                this["left"] = D4k["left"];
                this["right"] = this["left"] + this["width"];
                this["bottom"] = this["top"] + this["height"];
                this["cancelLongHold"] = !![];
                this["hasDragged"] = !![];
                H["crosshairX"] = b4k;
                H["crosshairY"] = Q4k;
                R4k = this["cy"] = this["crossYActualPos"] = this["backOutY"](H["crosshairY"]);
                T4k = this["cx"] = this["backOutX"](H["crosshairX"]);
                this["currentPanel"] = this["whichPanel"](R4k);
                if (!this["currentPanel"]) {
                    this["currentPanel"] = this["chart"]["panel"];
                }
                if (!this["currentPanel"]) {
                    return;
                }
                J4k = this["currentPanel"]["chart"];
                if (J4k["dataSet"]) {
                    this["crosshairTick"] = this["tickFromPixel"](T4k, J4k);
                    P4k = this["valueFromPixel"](R4k, this["currentPanel"]);
                    p4k = this["currentPanel"]["name"] == "chart" ? this["preferences"]["horizontalCrosshairField"] : this["currentPanel"]["horizontalCrosshairField"];
                    if (p4k && this["crosshairTick"] < J4k["dataSet"]["length"] && this["crosshairTick"] > -1) {
                        P4k = J4k["dataSet"][this["crosshairTick"]][p4k];
                        this["crossYActualPos"] = this["pixelFromPriceTransform"](P4k, this["currentPanel"]);
                    }
                    this["crosshairValue"] = this["adjustIfNecessary"](this["currentPanel"], this["crosshairTick"], P4k);
                }
                if (H["crosshairX"] >= this["left"] && H["crosshairX"] <= this["right"] && H["crosshairY"] >= this["top"] && H["crosshairY"] <= this["bottom"]) {
                    H["insideChart"] = !!1;
                } else {
                    H["insideChart"] = !"1";
                }
                this["overXAxis"] = H["crosshairY"] >= this["top"] + this["chart"]["panel"]["yAxis"]["bottom"] && H["crosshairY"] <= this["top"] + this["chart"]["panel"]["bottom"] && H["insideChart"];
                this["overYAxis"] = (this["cx"] >= this["currentPanel"]["right"] || this["cx"] <= this["currentPanel"]["left"]) && H["insideChart"];
                if (this["overXAxis"] || this["overYAxis"] || !H["insideChart"] && !this["grabbingScreen"]) {
                    this["undisplayCrosshairs"]();
                    if (!this["overXAxis"] && !this["overYAxis"]) {
                        return;
                    };
                }
                if (!this["displayCrosshairs"] && !H["resizingPanel"]) {
                    this["undisplayCrosshairs"]();
                    return;
                }
                if (this["repositioningBaseline"]) {
                    F4k = this["panels"][this["chart"]["panel"]["name"]];
                    this["chart"]["baseline"]["userLevel"] = this["adjustIfNecessary"](F4k, this["crosshairTick"], this["valueFromPixelUntransform"](this["backOutY"](H["crosshairY"]), F4k));
                    if (Date["now"]() - this["repositioningBaseline"]["lastDraw"] > 100) {
                        this["draw"]();
                        O4z["o3f"](10);
                        r0F = O4z["S3f"]("1598924997", 1);
                        B0F = 926718843;
                        g0F = 2;
                        for (var O0F =  + "1"; O4z["s2B"](O0F["toString"](), O0F["toString"]()["length"], 58429) !== r0F; O0F++) {
                            this["repositioningBaseline"]["lastDraw"] = Date["now"]();
                            g0F += 2;
                        }
                        if (O4z["s2B"](g0F["toString"](), g0F["toString"]()["length"], 81699) !== B0F) {
                            this["repositioningBaseline"]["lastDraw"] = Date["now"]();
                        }
                    }
                    return;
                }
                if (this["grabbingScreen"] && !H["resizingPanel"]) {
                    M3F = "p";
                    M3F += "a";
                    M3F += "n";
                    if (this["anyHighlighted"]) {
                        J["clearCanvas"](this["chart"]["tempCanvas"], this);
                        this["anyHighlighted"] = !!0;
                        for (Y4k in this["overlays"]) {
                            this["overlays"][Y4k]["highlight"] = ![];
                        }
                        for (Y4k in J4k["series"]) {
                            J4k["series"][Y4k]["highlight"] = ![];
                        }
                        this["displaySticky"]();
                    }
                    if (this["preferences"]["magnet"] && this["currentVectorParameters"]["vectorType"]) {
                        J["clearCanvas"](this["chart"]["tempCanvas"], this);
                    }
                    if (this["grabStartX"] == -1) {
                        this["grabStartX"] = H["crosshairX"];
                        this["grabStartScrollX"] = J4k["scroll"];
                    }
                    if (this["grabStartY"] == -1) {
                        this["grabStartY"] = H["crosshairY"];
                        this["grabStartScrollY"] = J4k["panel"]["yAxis"]["scroll"];
                    }
                    W4k = H["crosshairX"] - this["grabStartX"];
                    C4k = H["crosshairY"] - this["grabStartY"];
                    if (W4k === "0" * 1 && C4k === 0) {
                        return;
                    }
                    if (Math["abs"](W4k) + Math["abs"](C4k) >  + "5") {
                        this["grabOverrideClick"] = !"";
                    }
                    if (this["allowZoom"] && this["grabMode"] != M3F && (this["grabMode"]["indexOf"]("zoom") === 0 || this["overXAxis"] || this["overYAxis"])) {
                        J3F = "zoom-";
                        J3F += "y";
                        j3F = "z";
                        j3F += "o";
                        j3F += "om-";
                        j3F += "x";
                        if (this["grabMode"] === "") {
                            if (this["overXAxis"]) {
                                this["grabMode"] = "zoom-x";
                            } else if (this["overYAxis"]) {
                                this["grabMode"] = "zoom-y";
                            }
                        }
                        if (this["grabMode"] == j3F) {
                            O4z["o3f"](7);
                            C4k = O4z["S3f"](1590480992, "0");
                        } else if (this["grabMode"] == J3F) {
                            W4k = 0;
                        }
                        O4z["o3f"](23);
                        E4k = O4z["S3f"](W4k, 25);
                        o4k = !![];
                        if (J4k["scroll"] <= J4k["maxTicks"]) {
                            o4k = ![];
                        }
                        s4k = this["grabStartCandleWidth"] + E4k;
                        if (s4k < this["minimumCandleWidth"]) {
                            s4k = this["minimumCandleWidth"];
                        }
                        I4k = (this["layout"]["candleWidth"] - s4k) / this["layout"]["candleWidth"];
                        if (I4k > 0.1) {
                            s4k = this["layout"]["candleWidth"] * 0.9;
                        } else if (I4k < -0.1) {
                            z2B =  -  + "483469689";
                            Q2B = -790156625;
                            n2B = 2;
                            for (var S2B = 1; O4z["s2B"](S2B["toString"](), S2B["toString"]()["length"],  + "70157") !== z2B; S2B++) {
                                s4k = this["layout"]["candleWidth"] * 1.1;
                                n2B += 2;
                            }
                            if (O4z["s2B"](n2B["toString"](), n2B["toString"]()["length"], 78829) !== Q2B) {
                                O4z["s3f"](80);
                                var v9e = O4z["J3f"](381, 13, 386, 193);
                                s4k = this["layout"]["candleWidth"] % v9e;
                            }
                        }
                        if (J["ipad"]) {
                            if (Math["round"](this["chart"]["width"] / this["layout"]["candleWidth"] - 0.499) -  + "1" < H["ipadMaxTicks"] && Math["round"](this["chart"]["width"] / s4k - 0.499) -  + "1" > H["ipadMaxTicks"]) {
                                return;
                            }
                        }
                        if (this["pinchingCenter"]) {
                            A4k = this["backOutX"](this["pinchingCenter"]);
                            f4k = this["tickFromPixel"](A4k, J4k);
                            this["setCandleWidth"](s4k, J4k);
                            L4k = this["tickFromPixel"](A4k, J4k);
                            O4z["s3f"](17);
                            J4k["scroll"] += Math["floor"](O4z["J3f"](L4k, f4k));
                        } else if (o4k) {
                            e4k = Math["round"](this["chart"]["width"] / s4k - 0.499);
                            if (e4k != J4k["maxTicks"]) {
                                this["setCandleWidth"](s4k, J4k);
                                J4k["scroll"] += Math["round"]((e4k - J4k["maxTicks"]) / ("2" ^ 0));
                            }
                        } else {
                            e4k = Math["round"](this["chart"]["width"] / s4k - 0.499);
                            if (e4k != Math["round"](this["chart"]["width"] / this["layout"]["candleWidth"] - 0.499)) {
                                this["setCandleWidth"](s4k, J4k);
                                V4k = Math["round"](this["preferences"]["whitespace"] / this["layout"]["candleWidth"]);
                                J4k["scroll"] = J4k["maxTicks"] - V4k;
                            }
                        }
                        this["layout"]["span"] = null;
                        M4k = this["whichYAxis"](this["grabbingPanel"], this["cx"]);
                        if (this["overYAxis"]) {
                            M4k["zoom"] = Math["round"](this["grabStartZoom"] + C4k);
                            if (this["grabStartZoom"] < M4k["height"]) {
                                if (M4k["zoom"] >= M4k["height"]) {
                                    O4z["o3f"](81);
                                    var r9e = O4z["S3f"](16, 10, 19, 29);
                                    M4k["zoom"] = M4k["height"] - r9e;
                                }
                            } else {
                                if (M4k["zoom"] <= M4k["height"]) {
                                    O4z["o3f"](82);
                                    var B9e = O4z["J3f"](20, 281358176, 2, 7, 844074502);
                                    M4k["zoom"] = M4k["height"] + ("1" << B9e);
                                }
                            }
                        }
                    } else {
                        if (this["allowScroll"]) {
                            if (Math["abs"](C4k) < this["yTolerance"]) {
                                if (!this["yToleranceBroken"]) {
                                    O4z["o3f"](8);
                                    C4k = O4z["J3f"](0, "0");
                                    if (W4k === 0) {
                                        return;
                                    }
                                }
                            } else {
                                this["yToleranceBroken"] = !!{};
                            }
                            this["grabMode"] = "pan";
                            E4k = Math["round"](W4k / this["layout"]["candleWidth"]);
                            this["microscroll"] = E4k - W4k / this["layout"]["candleWidth"];
                            O4z["s3f"](83);
                            var g9e = O4z["J3f"](15, 16, 7, 23);
                            this["micropixels"] = this["layout"]["candleWidth"] * this["microscroll"] * g9e;
                            if (this["shift"]) {
                                E4k *=  + "5";
                            }
                            J4k["scroll"] = this["grabStartScrollX"] + E4k;
                            if (J4k["scroll"] < 1) {
                                J4k["scroll"] = 1;
                            }
                            if (J4k["scroll"] >= J4k["maxTicks"]) {
                                this["preferences"]["whitespace"] = this["initialWhitespace"];
                            } else {
                                this["preferences"]["whitespace"] = (J4k["maxTicks"] - J4k["scroll"]) * this["layout"]["candleWidth"];
                            }
                            if (this["currentPanel"]["name"] == J4k["name"]) {
                                this["chart"]["panel"]["yAxis"]["scroll"] = this["grabStartScrollY"] + C4k;
                            }
                        }
                        this["dispatch"]("move", {
                            stx: this,
                            panel: this["currentPanel"],
                            x: this["cx"],
                            y: this["cy"],
                            grab: this["grabbingScreen"]
                        });
                    }
                    K4k = function (c4k) {
                        var j0W = 109355619,
                        t0W = 1624631944,
                        A0W = 1296938591,
                        I0W = 1735643187;
                        O4z.a4z();
                        if (O4z.g0W(0, false, 941333) === j0W || O4z.g0W(0, false, 990376) === t0W || O4z.c0W(17, false, 739530) === A0W || O4z.c0W(0, false, 898207) === I0W) {
                            return function () {
                                O4z.a4z();
                                var E0W = 1165230543,
                                k0W = -924515471,
                                f0W = 1626194068,
                                N0W = -61059352;
                                if (!(O4z.c0W(0, false, 544079) !== E0W && O4z.g0W(0, false, 280811) !== k0W && O4z.g0W(17, false, 833616) !== f0W && O4z.c0W(0, false, 909663) !== N0W)) {
                                    c4k["draw"]();
                                }
                            };
                        }
                    };
                    if (H["useAnimation"]) {
                        window["requestAnimationFrame"](K4k(this)); ;
                    } else {
                        this["draw"]();
                    }
                    if (this["activeDrawing"]) {
                        J["clearCanvas"](this["chart"]["tempCanvas"], this);
                        this["activeDrawing"]["render"](this["chart"]["tempCanvas"]["context"]);
                        this["activeDrawing"]["measure"]();
                    }
                    this["undisplayCrosshairs"]();
                    return;
                } else {
                    this["grabMode"] = "";
                }
                this["grabbingPanel"] = this["currentPanel"];
                if (this["overXAxis"] || this["overYAxis"]) {
                    return;
                }
                this["controls"]["crossX"]["style"]["left"] = this["pixelFromTick"](this["crosshairTick"], J4k) - 0.5 + Y3F;
                this["controls"]["crossY"]["style"]["top"] = this["crossYActualPos"] + "px";
                this["setCrosshairColors"]();
                if (H["insideChart"] && !H["resizingPanel"]) {
                    if (!J["Drawing"][this["currentVectorParameters"]["vectorType"]] || !new J["Drawing"][this["currentVectorParameters"]["vectorType"]]()["dragToDraw"]) {
                        this["doDisplayCrosshairs"]();
                    }
                    if (this["accessoryTimer"] !== null) {
                        clearTimeout(this["accessoryTimer"]);
                    }
                    if (H["drawingLine"] || !J["touchDevice"]) {
                        this["updateChartAccessories"]();
                    } else {
                        if (new Date()["getTime"]() - this["lastAccessoryUpdate"] >  + "100") {
                            this["updateChartAccessories"]();
                        }
                        this["accessoryTimer"] = setTimeout((function (i4k) {
                                    O4z.i4z();
                                    var p0W = -1050884904,
                                    b0W = 453603781,
                                    a0W = -513655512,
                                    J0W = -667991766;
                                    if (O4z.g0W(0, false, 494892) === p0W || O4z.g0W(0, false, 724573) === b0W || O4z.g0W(17, false, 135228) === a0W || O4z.c0W(0, false, 220720) === J0W) {
                                        return function () {
                                            var i0W = 874875855,
                                            e0W = -5418782,
                                            L0W = -329190600,
                                            U0W = 1391098369;
                                            if (!(O4z.g0W(0, false, 956884) !== i0W && O4z.c0W(0, false, 434698) !== e0W && O4z.g0W(17, false, 694548) !== L0W && O4z.g0W(0, false, 397589) !== U0W)) {
                                                i4k["updateChartAccessories"]();
                                            }
                                        };
                                    }
                                })(this), 10);
                    }
                } else {
                    this["undisplayCrosshairs"]();
                }
                if (this["repositioningDrawing"]) {
                    F4k = this["panels"][this["repositioningDrawing"]["panelName"]];
                    P4k = this["adjustIfNecessary"](F4k, this["crosshairTick"], this["valueFromPixelUntransform"](this["backOutY"](H["crosshairY"]), F4k));
                    if (this["preferences"]["magnet"] && this["magnetizedPrice"] && F4k["name"] == F4k["chart"]["name"]) {
                        P4k = this["adjustIfNecessary"](F4k, this["crosshairTick"], this["magnetizedPrice"]);
                    }
                    J["clearCanvas"](this["chart"]["tempCanvas"], this);
                    this["repositioningDrawing"]["reposition"](this["chart"]["tempCanvas"]["context"], this["repositioningDrawing"]["repositioner"], this["crosshairTick"], P4k);
                    if (this["repositioningDrawing"]["measure"]) {
                        this["repositioningDrawing"]["measure"]();
                    }
                } else if (H["drawingLine"]) {
                    if (this["activeDrawing"]) {
                        F4k = this["panels"][this["activeDrawing"]["panelName"]];
                        P4k = this["adjustIfNecessary"](F4k, this["crosshairTick"], this["valueFromPixelUntransform"](this["backOutY"](H["crosshairY"]), F4k));
                        if (this["preferences"]["magnet"] && this["magnetizedPrice"] && F4k["name"] == F4k["chart"]["name"]) {
                            P4k = this["adjustIfNecessary"](F4k, this["crosshairTick"], this["magnetizedPrice"]);
                        }
                        J["clearCanvas"](this["chart"]["tempCanvas"], this);
                        this["activeDrawing"]["move"](this["chart"]["tempCanvas"]["context"], this["crosshairTick"], P4k);
                        U6F = -1452105264;
                        D6F = 1282684050;
                        w6F = 2;
                        for (var C6F = 1; O4z["s2B"](C6F["toString"](), C6F["toString"]()["length"], 52423) !== U6F; C6F++) {
                            if (this["activeDrawing"]["measure"]) {
                                this["activeDrawing"]["measure"]();
                            }
                            w6F += 2;
                        }
                        if (O4z["h2B"](w6F["toString"](), w6F["toString"]()["length"], "29761" * 1) !== D6F) {
                            if (this["activeDrawing"]["measure"]) {
                                this["activeDrawing"]["measure"]();
                            }
                        }
                        if (this["activeDrawing"]["measure"]) {
                            this["activeDrawing"]["measure"]();
                        }
                    }
                } else if (H["resizingPanel"]) {
                    this["resizePanels"]();
                    this["drawTemporaryPanel"]();
                } else if (H["insideChart"]) {
                    this["findHighlights"]();
                }
                if (H["insideChart"]) {
                    this["dispatch"]("move", {
                        stx: this,
                        panel: this["currentPanel"],
                        x: this["cx"],
                        y: this["cy"],
                        grab: this["grabbingScreen"]
                    });
                    this["findHighlights"]();
                }
                if (this["preferences"]["magnet"] && this["currentVectorParameters"]["vectorType"]) {
                    if (!H["drawingLine"] && !this["anyHighlighted"]) {
                        J["clearCanvas"](this["chart"]["tempCanvas"]);
                    }
                    // MaRa: CIQ Hack - Part 2 - Sensitivity, required to prevent re-highlight during repositioning
				    // --- Start ---
                    if (!this.repositioningDrawing()) { 
                        this["magnetize"]();                        
                    }
                    // --- End ---
				    // --- Start Deletion ---
                    // this["magnetize"]();
				    // --- End Deletion ---
                }
                this["runAppend"]("mousemoveinner", arguments);
            }
        };
        H.prototype.findHighlights = function (F1k, H1k) {
            var E3F,
            j4k,
            q4k,
            v4k,
            d4k,
            O4k,
            h4k,
            X4k,
            t1k,
            g4k,
            z4k,
            r1k,
            s1k,
            m4k,
            u4k,
            x4k,
            S1k,
            N4k,
            G4k,
            k1k,
            Z1k,
            a4k,
            B4k,
            n1k;
            E3F = "d";
            E3F += "r";
            E3F += "awin";
            E3F += "g";
            j4k = 10;
            if (F1k) {
                j4k = 30;
            }
            q4k = this.cy;
            v4k = this.cx;
            if (!this.currentPanel) {
                return;
            }
            if (this.activeDrawing) {
                return;
            }
            d4k = this.currentPanel.chart;
            this.anyHighlighted = !"1";
            if (this.preferences.magnet && !this.activeDrawing) {
                J.clearCanvas(this.chart.tempCanvas, this);
            }
            O4k = ![];
            h4k = null;
            X4k = ["", "", !![], null, E3F];
            t1k = {
				// MaRa: CIQ Hack - Part 2 - Sensitivity
				// --- Start ---
                x0: this.floatTickFromPixel(v4k - j4k, d4k),
                x1: this.floatTickFromPixel(v4k + j4k, d4k),
				// --- Start Deletion ---
                //x0: this.tickFromPixel(v4k - j4k, d4k),
                //x1: this.tickFromPixel(v4k + j4k, d4k),
				// --- End Deletion ---
                y0: this.valueFromPixelUntransform(q4k - j4k, this.currentPanel),
                y1: this.valueFromPixelUntransform(q4k + j4k, this.currentPanel)
            };
            for (var U4k = 0; U4k < this.drawingObjects.length; U4k++) {
                g4k = this.drawingObjects[U4k];
                if (g4k.permanent)
                    continue;
                z4k = g4k.highlighted;
                r1k = g4k.panelName == this.currentPanel.name;
                g4k.repositioner = g4k.intersected(this.crosshairTick, this.crosshairValue, t1k);
                r1k = r1k && g4k.repositioner;
                if (!H1k && r1k) {
                    if (z4k) {
                        h4k = g4k;
                    } else if (z4k != g4k.highlight(!!{})) {
                        if (!h4k) {
                            h4k = g4k;
                        }
                        O4k = !"";
                    }
                    this.anyHighlighted = !0;
                } else {
                    if (z4k != g4k.highlight(![])) {
                        O4k = !![];
                    }
                }
            }
            s1k = ![];
            for (m4k in this.overlays) {
                u4k = this.overlays[m4k];
                u4k.prev = u4k.highlight;
                u4k.highlight = ![];
            }
            for (m4k in d4k.seriesRenderers) {
                S1k = d4k.seriesRenderers[m4k];
                for (var w1k = 0; w1k < S1k.seriesParams.length; w1k++) {
                    x4k = S1k.seriesParams[w1k];
                    x4k.prev = x4k.highlight;
                    x4k.highlight = ![];
                }
            }
            O4z.i4z();
            if (!H1k) {
                N4k = this.barFromPixel(v4k);
                if (N4k < d4k.dataSegment.length) {
                    for (m4k in this.overlays) {
                        u4k = this.overlays[m4k];
                        if (u4k.panel != this.currentPanel.name)
                            continue;
                        if (u4k.libraryEntry.isHighlighted && u4k.libraryEntry.isHighlighted(this, v4k, q4k)) {
                            u4k.highlight = !![];
                            this.anyHighlighted = !!{};
                            continue;
                        }
                        k1k = d4k.dataSegment[N4k];
                        if (!k1k)
                            continue;
                        for (var J1k in this.overlays[m4k].outputMap) {
                            Z1k = k1k[J1k];
                            G4k = 0;
                            if (this.currentPanel.name == d4k.name) {
                                G4k = this.pixelFromPriceTransform(Z1k, this.currentPanel);
                            } else {
                                G4k = this.pixelFromPrice(Z1k, this.currentPanel);
                            }
                            if (q4k - j4k < G4k && q4k + j4k > G4k) {
                                u4k.highlight = !!1;
                                this.anyHighlighted = !"";
                                break;
                            }
                        }
                        if (u4k.highlight)
                            break; ;
                    }
                    for (m4k in d4k.seriesRenderers) {
                        a4k = d4k.seriesRenderers[m4k];
                        if (!a4k.params.highlightable)
                            continue;
                        for (var l1k = 0; l1k < a4k.seriesParams.length; l1k++) {
                            x4k = a4k.seriesParams[l1k];
                            G4k = a4k.caches[x4k.field] && a4k.caches[x4k.field][N4k];
                            if (!G4k && G4k !==  + "0")
                                continue;
                            if (q4k - j4k < G4k && q4k + j4k > G4k) {
                                x4k.highlight = !![];
                                this.anyHighlighted = !!1;
                            } else if ((a4k.params.subtype == "step" || x4k.type == "step") && N4k > 0) {
                                B4k = a4k.caches[x4k.field] && a4k.caches[x4k.field][N4k - 1];
                                if ((B4k || B4k === 0) && q4k > G4k && q4k < B4k || q4k < G4k && q4k > B4k) {
                                    x4k.highlight = !0;
                                    this.anyHighlighted = !!"1";
                                }
                            }
                        }
                    }
                }
            }
            for (m4k in this.overlays) {
                u4k = this.overlays[m4k];
                if (u4k.highlight) {
                    this.anyHighlighted = !![];
                    X4k = [u4k.inputs.display ? u4k.inputs.display : u4k.name, null, null, u4k.permanent, "study"];
                    h4k = null;
                }
                if (u4k.prev != u4k.highlight) {
                    O4k = !!{};
                }
            }
            for (m4k in d4k.seriesRenderers) {
                n1k = d4k.seriesRenderers[m4k];
                if (!n1k.params.highlightable)
                    continue;
                for (var y1k = 0; y1k < n1k.seriesParams.length; y1k++) {
                    x4k = n1k.seriesParams[y1k];
                    if (x4k.highlight) {
                        this.anyHighlighted = !!1;
                        X4k = [x4k.display, x4k.color, !"1", x4k.permanent, "series"];
                        h4k = null;
                    }
                    if (x4k.prev != x4k.highlight) {
                        O4k = !0;
                    }
                }
            }
            if (O4k) {
                this.draw();
                this.displaySticky.apply(this, X4k);
                this.clearMeasure();
                if (h4k) {
                    h4k.measure();
                }
            }
            if (!this.anyHighlighted) {
                this.setMeasure();
            }
        };
        H.prototype.positionSticky = function (M1k) {
            var P1k,
            W1k;
            P1k = Math.max(this.cy - M1k.offsetHeight - 60, 0);
            W1k = Math.min(this.chart.canvasWidth - (this.cx - 50), this.chart.canvasWidth - M1k.offsetWidth);
            O4z.s3f(0);
            M1k.style.top = O4z.J3f(P1k, "px");
            O4z.s3f(0);
            M1k.style.right = O4z.J3f(W1k, "px");
        };
        H.prototype.displaySticky = function (R1k, p1k, o1k, A1k, I1k) {
            var z3F,
            E1k,
            C1k,
            Y1k,
            D1k,
            e1k,
            Q3F,
            n3F,
            h5B,
            s5B,
            R5B,
            e5B,
            L5B,
            M5B,
            a3F;
            z3F = "#mS";
            z3F += "tickyInter";
            O4z.a4z();
            z3F += "i";
            z3F += "or";
            E1k = this.controls.mSticky;
            if (!E1k) {
                return;
            }
            C1k = F(z3F, E1k);
            if (!C1k) {
                return;
            }
            Y1k = F("#overlayTrashCan", E1k);
            D1k = F(".overlayEdit", E1k);
            e1k = F("#mouseDeleteInstructions", E1k);
            if (!o1k && !R1k) {
                C1k.innerHTML = "";
                E1k.style.display = "none";
                if (J.touchDevice) {
                    if (Y1k) {
                        Y1k.style.display = "none";
                    }
                    if (D1k) {
                        D1k.style.display = "none";
                    }
                } else if (!J.touchDevice) {
                    Q3F = "n";
                    Q3F += "o";
                    Q3F += "n";
                    Q3F += "e";
                    if (e1k) {
                        e1k.style.display = Q3F;
                    }
                }
            } else {
                if (!R1k) {
                    R1k = "";
                }
                if (o1k && !R1k) {
                    C1k.style.backgroundColor = "";
                    C1k.style.color = "";
                    C1k.style.display = "none";
                } else if (p1k) {
                    C1k.style.backgroundColor = p1k;
                    C1k.style.color = J.chooseForegroundColor(p1k);
                    C1k.style.display = "inline-block";
                } else {
                    n3F = "inline-bloc";
                    n3F += "k";
                    C1k.style.backgroundColor = "";
                    C1k.style.color = "";
                    C1k.style.display = n3F;
                }
                C1k.innerHTML = R1k;
                h5B = 1368073228;
                s5B = 486857885;
                R5B = 2;
                for (var p5B = 1; O4z.s2B(p5B.toString(), p5B.toString().length, 3659) !== h5B; p5B++) {
                    if (I1k) {
                        O4z.s3f(0);
                        F("#mStickyRightClick", E1k).className = O4z.J3f("rightclick_", I1k);
                    }
                    R5B += 2;
                }
                if (O4z.s2B(R5B.toString(), R5B.toString().length, 2457) !== s5B) {
                    if (I1k) {
                        O4z.o3f(84);
                        F("#mStickyRightClick", E1k).className = O4z.J3f("rightclick_", I1k);
                    }
                }
                E1k.style.display = "inline-block";
                this.positionSticky(E1k);
                if (A1k) {
                    if (Y1k) {
                        Y1k.style.display = "none";
                    }
                    if (D1k) {
                        D1k.style.display = "none";
                    }
                    O4z.s3f(7);
                    e5B = O4z.S3f(538896384, "159695637");
                    L5B = 290819360;
                    O4z.o3f(20);
                    M5B = O4z.J3f(2147483647, "2");
                    for (var J5B = 1; O4z.h2B(J5B.toString(), J5B.toString().length, 2627) !== e5B; J5B++) {
                        a3F = "no";
                        a3F += "n";
                        a3F += "e";
                        if (e1k) {
                            e1k.style.display = a3F;
                        }
                        M5B += 2;
                    }
                    if (O4z.h2B(M5B.toString(), M5B.toString().length,  + "75858") !== L5B) {
                        if (e1k) {
                            e1k.style.display = "";
                        }
                    }
                } else if (J.touchDevice) {
                    if (Y1k) {
                        Y1k.style.display = "inline-block";
                    }
                    if (D1k) {
                        D1k.style.display = "inline-block";
                    }
                    if (e1k) {
                        e1k.style.display = "none";
                    }
                } else if (!J.touchDevice) {
                    if (e1k) {
                        e1k.style.display = "block";
                    }
                }
            }
        };
        H.prototype.setMeasure = function (V1k, Q1k, i1k, u1k, x1k) {
            var S3F,
            T1k,
            L1k,
            X3F,
            b1k,
            f1k,
            p0F,
            t0F,
            F0F,
            K1k,
            c1k,
            d3F,
            T3F,
            K7F;
            S3F = "mMeas";
            S3F += "ure";
            if (this.runPrepend("setMeasure", arguments)) {
                return;
            }
            T1k = E(S3F);
            O4z.i4z();
            L1k = "";
            if (!V1k) {
                if (T1k && T1k.className != "measureUnlit") {
                    T1k.className = "measureUnlit";
                }
                if (!this.anyHighlighted && this.currentVectorParameters.vectorType === "") {
                    this.clearMeasure();
                }
            } else {
                X3F = " ";
                X3F += "(";
                b1k = Math.round(Math.abs(V1k - Q1k) * this.chart.roundit) / this.chart.roundit;
                if (this.internationalizer) {
                    L1k += this.internationalizer.numbers.format(b1k);
                } else {
                    L1k += b1k;
                }
                O4z.o3f(85);
                f1k = O4z.J3f(Q1k, V1k, V1k);
                if (Math.abs(f1k) > 0.1) {
                    O4z.s3f(10);
                    f1k = Math.round(O4z.S3f(f1k, 100));
                } else if (Math.abs(f1k) >  + "0.01") {
                    p0F = -1242358501;
                    t0F = -1031849262;
                    F0F =  + "2";
                    for (var V0F = 1; O4z.s2B(V0F.toString(), V0F.toString().length, 26011) !== p0F; V0F++) {
                        O4z.s3f(86);
                        var H9e = O4z.J3f(17, 11698, 20, 3, 5866);
                        O4z.s3f(87);
                        var O9e = O4z.J3f(1373208908, 6, 8239253474, 8, 7);
                        f1k = Math.round(f1k - H9e) + ("74" << O9e);
                        F0F +=  + "2";
                    }
                    if (O4z.h2B(F0F.toString(), F0F.toString().length, 99887) !== t0F) {
                        O4z.s3f(88);
                        var G9e = O4z.S3f(1, 77, 77, 999);
                        O4z.s3f(17);
                        var h9e = O4z.S3f(120, 110);
                        f1k = Math.round(f1k * G9e) / h9e;
                    }
                } else {
                    O4z.s3f(89);
                    var s9e = O4z.J3f(1424, 16, 714);
                    O4z.s3f(17);
                    var R9e = O4z.J3f(116, 16);
                    f1k = Math.round(f1k * s9e) / R9e;
                }
                if (this.internationalizer) {
                    O4z.o3f(23);
                    f1k = this.internationalizer.percent.format(O4z.S3f(f1k, 100));
                } else {
                    O4z.s3f(0);
                    f1k = O4z.S3f(f1k, (871.44, 4885) >= (9590, 1550) ? 973.92 > ( + "999.44", 922) ? "%" : (402.01, 1291) != 8370 ? 4.19e+3 : 447.92 : ("0x1aea" * 1, "v"));
                }
                O4z.s3f(6);
                L1k += O4z.S3f((9306, 3970) == (5360, 813.73) ? (5906, 6113) < (3318, "6993" ^ 0) ? (94.22, 591.06) == 795.02 ? (3.29, "Z") : "p" : "3.50e+3" | 3240 : ")", X3F, f1k);
                O4z.s3f(17);
                K1k = Math.abs(O4z.S3f(u1k, i1k));
                O4z.o3f(17);
                var o9e = O4z.S3f(11, 10);
                K1k = Math.round(K1k) + o9e;
                c1k = this.translateIf("Bars");
                O4z.o3f(90);
                L1k += O4z.J3f(c1k, " ", K1k, (442.26, 4290) > (9470, 9137) ? (5720, 7485) == (256.41, "43.87" - 0) ? ("b", "V") : (![], !![]) : " ");
                if (T1k) {
                    d3F = "mea";
                    d3F += "sureLit";
                    if (T1k.className != d3F) {
                        T1k.className = "measureLit";
                    }
                    T1k.innerHTML = L1k;
                }
            }
            if (this.activeDrawing) {
                return;
            }
            T1k = this.controls.mSticky;
            if (T1k) {
                if (x1k) {
                    T3F = "i";
                    T3F += "nline-blo";
                    T3F += "ck";
                    T1k.style.display = "inline-block";
                    T1k.children[0].style.display = T3F;
                    if (V1k) {
                        T1k.children[ + "0"].innerHTML = L1k; ;
                    }
                    this.positionSticky(T1k);
                } else {
                    K7F = "no";
                    K7F += "ne";
                    T1k.style.display = K7F;
                    T1k.children[0].innerHTML = "";
                }
            }
            this.runAppend("setMeasure", arguments);
        };
        H.prototype.clearMeasure = function () {
            var W7F,
            F9F,
            c9F,
            V9F,
            m1k,
            b7F;
            W7F = "mMe";
            W7F += "as";
            W7F += "u";
            W7F += "re";
            F9F = -711464067;
            c9F =  -  + "1387529073";
            V9F = 2;
            for (var e9F = 1; O4z.s2B(e9F.toString(), e9F.toString().length, 72826) !== F9F; e9F++) {
                m1k = E("");
                V9F += 2;
            }
            if (O4z.h2B(V9F.toString(), V9F.toString().length, 44601) !== c9F) {
                m1k = E("");
            }
            O4z.a4z();
            m1k = E(W7F);
            if (m1k) {
                b7F = "m";
                b7F += "ea";
                b7F += "sure";
                b7F += "Unlit";
                if (m1k.className != b7F) {
                    m1k.className = "measureUnlit";
                }
                m1k.innerHTML = "";
            }
        };
        H.prototype.drawTemporaryPanel = function () {
            var Z7F,
            i7F,
            q7F,
            d1k,
            q1k;
            Z7F = "p";
            Z7F += "x";
            i7F = "se";
            i7F += "gm";
            i7F += "en";
            i7F += "t";
            q7F = "stx_panel_d";
            q7F += "r";
            q7F += "ag";
            O4z.o3f(91);
            var p9e = O4z.J3f(54, 12, 9, 2, 2);
            O4z.s3f(92);
            var t9e = O4z.S3f(0, 0, 5, 3, 2);
            d1k = Math.round(H.resizingPanel.right - p9e) + "0.5" * t9e;
            J.clearCanvas(this.chart.tempCanvas, this);
            q1k = H.crosshairY - this.top;
            this.plotLine(H.resizingPanel.left, d1k, q1k, q1k, this.canvasStyle(q7F), i7F, this.chart.tempCanvas.context, !"1", {});
            O4z.s3f(27);
            var F9e = O4z.S3f(12, 1, 13);
            H.resizingPanel.handle.style.top = q1k - H.resizingPanel.handle.offsetHeight / F9e + Z7F;
        };
        H.prototype.setTrashCan = function () {
            var O8B,
            G8B,
            h8B,
            G1k,
            A7F,
            u7F;
            if (J.touchDevice) {
                O8B = 1817802036;
                G8B = 1482433969;
                h8B = 2;
                for (var R8B = 1; O4z.h2B(R8B.toString(), R8B.toString().length, 99472) !== O8B; R8B++) {
                    G1k = this.controls.mSticky;
                    O4z.o3f(10);
                    h8B += O4z.S3f("2", 1);
                }
                if (O4z.s2B(h8B.toString(), h8B.toString().length, 22785) !== G8B) {
                    G1k = this.controls.mSticky;
                }
                if (G1k) {
                    A7F = "i";
                    A7F += "nline-bl";
                    A7F += "o";
                    A7F += "ck";
                    u7F = "i";
                    u7F += "nline-block";
                    G1k.style.display = u7F;
                    G1k.children[0].style.display = "none";
                    G1k.children[1].style.display = A7F;
                    if (G1k.children[2]) {
                        G1k.children[2].style.display = "none";
                    }
                    G1k.style.top = this.backOutY(H.crosshairY) - 60 + "px";
                    O4z.o3f(0);
                    var c9e = O4z.S3f(32, 18);
                    G1k.style.right = this.chart.canvasWidth - (this.backOutX(H.crosshairX) - c9e) + "px";
                }
            }
        };
        H.prototype.pixelFromBar = function (j1k, a1k) {
            var g1k;
            if (!a1k) {
                a1k = this.chart;
            }
            g1k = 0;
            if (this.chart.dataSegment && this.chart.dataSegment[j1k] && this.chart.dataSegment[j1k].leftOffset) {
                g1k = this.chart.dataSegment[j1k].leftOffset;
            } else {
                g1k = (j1k + 0.5) * this.layout.candleWidth;
            }
            O4z.s3f(89);
            var V9e = O4z.J3f(47, 16, 3);
            g1k = a1k.panel.left + Math.floor(g1k + this.micropixels) - V9e;
            return g1k;
        };
        H.prototype.barFromPixel = function (X1k, v1k) {
            O4z.a4z();
            var N1k,
            B1k,
            O1k,
            U1k,
            z1k,
            r5k;
            if (!v1k) {
                v1k = this.chart;
            }
            if (this.layout.chartType == "volume_candle" && this.chart.dataSegment) {
                N1k = X1k - v1k.panel.left - this.micropixels;
                B1k = 2;
                O1k = Math.round(this.chart.dataSegment.length / B1k);
                O4z.s3f(0);
                var P9e = O4z.J3f(0, 1);
                O4z.o3f(36);
                var e9e = O4z.S3f(7, 6, 0);
                O4z.o3f(38);
                var L9e = O4z.S3f(8, 6);
                U1k = this.chart.dataSegment[this.chart.dataSegment.length - P9e].leftOffset + this.chart.dataSegment[this.chart.dataSegment.length - e9e].candleWidth / L9e;
                if (N1k > U1k) {
                    return this.chart.dataSegment.length + Math.floor((X1k - U1k - v1k.panel.left - this.micropixels) / this.layout.candleWidth);
                } else {
                    for (var h1k =  + "1"; h1k < this.chart.dataSegment.length; h1k++) {
                        B1k *= 2;
                        if (!this.chart.dataSegment[O1k])
                            break;
                        O4z.s3f(43);
                        var M9e = O4z.J3f(17, 0, 27, 12);
                        z1k = this.chart.dataSegment[O1k].leftOffset - this.chart.dataSegment[O1k].candleWidth / M9e;
                        r5k = this.chart.dataSegment[O1k].leftOffset + this.chart.dataSegment[O1k].candleWidth / ("2" - 0);
                        if (O1k === 0 || N1k >= z1k && N1k < r5k)
                            break;
                        else if (N1k < z1k) {
                            O1k -= Math.max(1, Math.round(this.chart.dataSegment.length / B1k));
                        } else {
                            O1k += Math.max(1, Math.round(this.chart.dataSegment.length / B1k));
                        }
                        O1k = Math.max(0, Math.min(this.chart.dataSegment.length - 1, O1k));
                    }
                    if (!this.chart.dataSegment[O1k]) {
                        for (h1k = 0; h1k < this.chart.dataSegment.length; h1k++) {
                            if (!this.chart.dataSegment[h1k])
                                continue;
                            if (N1k < this.chart.dataSegment[h1k].leftOffset - this.chart.dataSegment[h1k].candleWidth / 2) {
                                O4z.o3f(17);
                                return Math.max(0, O4z.S3f(h1k, 1));
                            } else if (N1k < this.chart.dataSegment[h1k].leftOffset + this.chart.dataSegment[h1k].candleWidth / 2) {
                                return h1k;
                            } else if (N1k >= this.chart.dataSegment[h1k].leftOffset + this.chart.dataSegment[h1k].candleWidth / 2) {
                                O4z.s3f(0);
                                return O4z.J3f(h1k, 1);
                            }
                        }
                    }
                }
                return O1k;
            } else {
                return Math.floor((X1k - v1k.panel.left - this.micropixels) / this.layout.candleWidth);
            }
        };
        H.prototype.tickFromPixel = function (n5k, w5k) {
            var l5k;
            if (!w5k) {
                w5k = this.chart;
            }
            O4z.o3f(38);
            var j9e = O4z.S3f(11, 10);
            l5k = w5k.dataSet.length - w5k.scroll + j9e;
            if (this.layout.chartType == "volume_candle") {
                l5k += this.barFromPixel(n5k, w5k);
            } else {
                l5k += Math.floor((n5k - w5k.panel.left - this.micropixels) / this.layout.candleWidth);
            }
            return l5k;
        };
		// MaRa: CIQ Hack - Part 2 - Sensitivity
	    // Sensitivity, for some reason need to shift by candlewidth / 2
		// --- Start --- 
		H.prototype.floatTickFromPixel = function (k2W, J2W) {
	        var T2W;
	        if (!J2W) {
	            J2W = this.chart;
	        }
	        T2W = J2W.dataSet.length - J2W.scroll + 1;
	        if (this.layout.chartType == "volume_candle") {
	            T2W += this.barFromPixel(k2W, J2W);
	        } else {
	            T2W += Math.floor((k2W - J2W.panel.left - this.micropixels - this.layout.candleWidth / 2 + 2) / this.layout.candleWidth);
	        }
	        return T2W;
        };
		// --- End --- 
        H.prototype.tickFromPixel = function (n5k, w5k) {
            var l5k;
            if (!w5k) {
                w5k = this.chart;
            }
            O4z.o3f(38);
            var j9e = O4z.S3f(11, 10);
            l5k = w5k.dataSet.length - w5k.scroll + j9e;
            if (this.layout.chartType == "volume_candle") {
                l5k += this.barFromPixel(n5k, w5k);
            } else {
                l5k += Math.floor((n5k - w5k.panel.left - this.micropixels) / this.layout.candleWidth);
            }
            return l5k;
        };		
        H.prototype.pixelFromTick = function (k5k, y5k) {
            var S5k,
            Z5k,
            H5k;
            if (!y5k) {
                y5k = this.chart;
            }
            O4z.s3f(81);
            var J9e = O4z.J3f(7, 17, 12, 84);
            S5k = k5k - y5k.dataSet.length + y5k.scroll - J9e;
            if (this.chart.dataSegment && this.chart.dataSegment[S5k] && this.chart.dataSegment[S5k].leftOffset) {
                O4z.s3f(9);
                var Y9e = O4z.S3f(11, 26, 16);
                return y5k.panel.left + Math.floor(this.chart.dataSegment[S5k].leftOffset + this.micropixels) - Y9e;
            } else {
                Z5k = 0;
                H5k = 0;
                if (this.chart.dataSegment && this.chart.dataSegment[this.chart.dataSegment.length - 1] && this.chart.dataSegment[this.chart.dataSegment.length - 1].leftOffset) {
                    if (this.chart.dataSegment.length < k5k - y5k.dataSet.length + y5k.scroll) {
                        O4z.s3f(38);
                        var E9e = O4z.S3f(20, 19);
                        O4z.s3f(93);
                        var z9e = O4z.S3f(10, 0, 11, 13, 11);
                        Z5k = this.chart.dataSegment[this.chart.dataSegment.length - E9e].leftOffset - this.chart.dataSegment[this.chart.dataSegment.length - z9e].candleWidth /  + "2";
                        H5k = this.chart.dataSegment.length;
                    }
                }
                return Z5k + y5k.panel.left + Math.floor((k5k - H5k - y5k.dataSet.length + y5k.scroll - 0.5) * this.layout.candleWidth + this.micropixels) -  + "1";
            }
        };
        H.prototype.pixelFromDate = function (J5k, t5k) {
            return this.pixelFromTick(this.tickFromDate(J5k, t5k), t5k);
        };
        H.prototype.priceFromPixel = function (s5k, M5k, W5k) {
            var E5k,
            F5k,
            P5k,
            C5k;
            if (!M5k) {
                M5k = this.chart.panel;
            }
            E5k = M5k.chart;
            O4z.i4z();
            F5k = W5k ? W5k : M5k.yAxis;
            s5k = F5k.bottom - s5k;
            if (!F5k.multiplier) {
                return null;
            }
            P5k = F5k.low + s5k / F5k.multiplier;
            if (F5k.semiLog) {
                C5k = F5k.logLow + s5k * F5k.logShadow / F5k.height;
                P5k = Math.pow(10, C5k);
            }
            return P5k;
        };
        H.prototype.valueFromPixel = function (Y5k, e5k, R5k) {
            var D5k;
            if (!e5k) {
                e5k = this.whichPanel(Y5k);
            }
            D5k = this.priceFromPixel(Y5k, e5k, R5k);
            return D5k;
        };
        H.prototype.valueFromPixelUntransform = function (I5k, p5k, A5k) {
            O4z.a4z();
            var o5k;
            if (!p5k) {
                p5k = this.whichPanel(I5k);
            }
            if (!p5k) {
                if (I5k <= 0) {
                    p5k = this.panels[J.first(this.panels)];
                } else {
                    p5k = this.panels[J.last(this.panels)];
                }
            }
            o5k = this.priceFromPixel(I5k, p5k, A5k);
            if (p5k.chart.untransformFunc && p5k.name == p5k.chart.name) {
                o5k = p5k.chart.untransformFunc(this, p5k.chart, o5k);
            }
            return o5k;
        };
        H.prototype.pixelFromPriceTransform = function (f5k, T5k, L5k) {
            if (T5k.chart.transformFunc) {
                f5k = T5k.chart.transformFunc(this, T5k.chart, f5k, L5k);
            }
            O4z.a4z();
            return this.pixelFromPrice(f5k, T5k, L5k);
        };
        H.prototype.pixelFromPrice = function (c5k, b5k, i5k) {
            var V5k,
            K5k,
            u5k,
            x5k,
            Q5k;
            if (!b5k) {
                b5k = this.chart.panel;
            }
            V5k = i5k ? i5k : b5k.yAxis;
            K5k = (V5k.high - c5k) * V5k.multiplier;
            if (V5k.semiLog) {
                u5k = Math.max(c5k, 0);
                x5k = Math.log(u5k) / Math.LN10;
                Q5k = V5k.height;
                K5k = Q5k - Q5k * (x5k - V5k.logLow) / V5k.logShadow;
            }
            K5k += V5k.top;
            return K5k;
        };
        H.prototype.pixelFromValueAdjusted = function (m5k, j5k, d5k, G5k) {
            var q5k,
            g5k;
            if (this.layout.adj || !this.charts[m5k.name]) {
                return this.pixelFromPriceTransform(d5k, m5k, G5k);
            }
            q5k = Math.round(j5k);
            if (q5k > 0 && q5k < m5k.chart.dataSet.length && (g5k = m5k.chart.dataSet[q5k].ratio)) {
                O4z.s3f(10);
                return this.pixelFromPriceTransform(O4z.J3f(d5k, g5k), m5k, G5k);
            }
            return this.pixelFromPriceTransform(d5k, m5k, G5k);
        };
        H.prototype.adjustIfNecessary = function (a5k, v5k, h5k) {
            O4z.a4z();
            var O5k,
            N5k;
            if (this.layout.adj) {
                return h5k;
            }
            if (!a5k || !this.charts[a5k.name]) {
                return h5k;
            }
            O5k = Math.round(v5k);
            if (O5k > 0 && O5k < a5k.chart.dataSet.length && (N5k = a5k.chart.dataSet[O5k].ratio)) {
                O4z.s3f(23);
                return O4z.S3f(h5k, N5k);
            }
            return h5k;
        };
        H.prototype.setTransform = function (B5k, X5k, U5k) {
            B5k.transformFunc = X5k;
            O4z.a4z();
            B5k.untransformFunc = U5k;
        };
        H.prototype.unsetTransform = function (z5k) {
            delete z5k.transformFunc;
            O4z.a4z();
            delete z5k.untransformFunc;
            for (var r8m = 0; r8m < z5k.dataSet.length; r8m++) {
                z5k.dataSet[r8m].transform = null;
            }
        };
        H.prototype.undo = function () {
            var l7F;
            if (this.runPrepend("undo", arguments)) {
                return;
            }
            if (this.activeDrawing) {
                l7F = "stx_cro";
                l7F += "ssha";
                l7F += "ir";
                this.activeDrawing.abort();
                this.activeDrawing = null;
                J.clearCanvas(this.chart.tempCanvas, this);
                this.draw();
                J.swapClassName(this.controls.crossX, "stx_crosshair", "stx_crosshair_drawing");
                J.swapClassName(this.controls.crossY, l7F, "stx_crosshair_drawing");
                H.drawingLine = !!"";
            }
            this.runAppend("undo", arguments);
        };
        H.prototype.undoStamp = function (w8m, l8m) {
            var U7F;
            O4z.a4z();
            U7F = "und";
            U7F += "oStamp";
            this.undoStamps.push(w8m);
            this.dispatch(U7F, {
                before: w8m,
                after: l8m
            });
        };
        H.prototype.undoLast = function () {
            if (this.activeDrawing) {
                this.undo();
            } else {
                if (this.undoStamps.length) {
                    this.drawingObjects = this.undoStamps.pop();
                    this.changeOccurred("vector");
                    this.draw();
                }
            }
        };
        H.prototype.addDrawing = function (y8m) {
            var n8m;
            n8m = J.shallowClone(this.drawingObjects);
            this.drawingObjects.push(y8m);
            this.undoStamp(n8m, J.shallowClone(this.drawingObjects));
        };
        H.prototype.plotLine = function (t8m, P8m, H8m, Z8m, J8m, p8m, S8m, W8m, F8m) {
            var y7F,
            w7F,
            D7F,
            o8m,
            I8m,
            A8m,
            T8m,
            C8m,
            K8m,
            k8m,
            c8m,
            u8m,
            Y8m,
            D8m,
            f8m,
            L8m,
            M8m,
            R8m,
            E8m,
            b8m,
            i8m,
            Q8m,
            V8m,
            s8m,
            x5B,
            I5B,
            N5B;
            y7F = "h";
            y7F += "oriz";
            y7F += "onta";
            y7F += "l";
            w7F = "l";
            w7F += "i";
            w7F += "n";
            w7F += "e";
            D7F = "no";
            D7F += "n";
            D7F += "e";
            if (!F8m) {
                F8m = {};
            }
            if (F8m.pattern == D7F) {
                return;
            }
            if (W8m === !!"1") {
                W8m = this.chart.panel;
            }
            if (S8m === null || typeof S8m == "undefined") {
                S8m = this.chart.context;
            }
            if (isNaN(t8m) || isNaN(P8m) || isNaN(H8m) || isNaN(Z8m)) {
                return;
            }
            O4z.o3f(8);
            o8m = O4z.J3f(0, "0");
            I8m = this.chart.canvasHeight;
            A8m =  + "0";
            T8m = this.right;
            if (W8m) {
                I8m = W8m.yAxis.bottom;
                o8m = W8m.yAxis.top;
                A8m = W8m.left;
                T8m = W8m.right;
            }
            if (p8m == "ray") {
                C8m = 10000000;
                if (P8m < t8m) {
                    O4z.o3f(19);
                    C8m = -O4z.S3f(272466272, "10000000");
                }
                k8m = {
                    "x0": t8m,
                    "x1": P8m,
                    "y0": H8m,
                    "y1": Z8m
                };
                K8m = J.yIntersection(k8m, C8m);
                P8m = C8m;
                Z8m = K8m;
            }
            if (p8m == w7F || p8m == y7F || p8m == "vertical") {
                C8m = 10000000;
                c8m = -10000000;
                k8m = {
                    "x0": t8m,
                    "x1": P8m,
                    "y0": H8m,
                    "y1": Z8m
                };
                K8m = J.yIntersection(k8m, C8m);
                u8m = J.yIntersection(k8m, c8m);
                t8m = c8m;
                P8m = C8m;
                H8m = u8m;
                Z8m = K8m;
            }
            Y8m = 0.0;
            D8m = 1.0;
            O4z.s3f(17);
            f8m = O4z.J3f(P8m, t8m);
            O4z.o3f(17);
            L8m = O4z.S3f(Z8m, H8m);
            for (var e8m = 0; e8m < 4; e8m++) {
                if (e8m === 0) {
                    M8m = -f8m;
                    O4z.o3f(17);
                    R8m = -O4z.J3f(A8m, t8m);
                }
                if (e8m ==  + "1") {
                    M8m = f8m;
                    O4z.o3f(17);
                    R8m = O4z.J3f(T8m, t8m);
                }
                if (e8m == 2) {
                    M8m = -L8m;
                    O4z.s3f(17);
                    R8m = -O4z.J3f(o8m, H8m);
                }
                if (e8m == 3) {
                    M8m = L8m;
                    O4z.o3f(17);
                    R8m = O4z.J3f(I8m, H8m);
                }
                O4z.o3f(23);
                E8m = O4z.J3f(R8m, M8m);
                if ((Z8m || Z8m === ("0" & 2147483647)) && M8m === 0 && R8m < 0) {
                    return !!""; ;
                }
                if (M8m < 0) {
                    if (E8m > D8m) {
                        return ![];
                    } else if (E8m > Y8m) {
                        Y8m = E8m;
                    };
                } else if (M8m > 0) {
                    if (E8m < Y8m) {
                        return !"1";
                    } else if (E8m < D8m) {
                        D8m = E8m;
                    };
                }
            }
            O4z.s3f(39);
            b8m = O4z.S3f(f8m, t8m, Y8m);
            O4z.o3f(39);
            i8m = O4z.J3f(L8m, H8m, Y8m);
            O4z.s3f(39);
            Q8m = O4z.S3f(f8m, t8m, D8m);
            O4z.s3f(39);
            V8m = O4z.J3f(L8m, H8m, D8m);
            if (!Z8m && Z8m !==  + "0" && !H8m && H8m !== 0) {
                i8m = o8m;
                V8m = I8m;
                b8m = k8m.x0;
                Q8m = k8m.x0;
                if (k8m.x0 > T8m) {
                    return !1;
                }
                if (k8m.x0 < A8m) {
                    return !1;
                }
            } else if (!Z8m && Z8m !== 0) {
                if (k8m.y0 < k8m.y1) {
                    V8m = I8m;
                } else {
                    V8m = o8m;
                }
                b8m = k8m.x0;
                Q8m = k8m.x0;
                if (k8m.x0 > T8m) {
                    return !!0;
                }
                if (k8m.x0 < A8m) {
                    return ![];
                }
            }
            S8m.lineWidth =  + "1.1";
            if (typeof J8m == "object") {
                S8m.strokeStyle = J8m.color;
                if (J8m.opacity) {
                    S8m.globalAlpha = J8m.opacity;
                } else {
                    S8m.globalAlpha = 1;
                }
                S8m.lineWidth = parseInt(J.stripPX(J8m.width));
            } else {
                if (!J8m || J8m == "auto" || J.isTransparent(J8m)) {
                    S8m.strokeStyle = this.defaultColor;
                } else {
                    S8m.strokeStyle = J8m;
                }
            }
            if (F8m.opacity) {
                S8m.globalAlpha = F8m.opacity;
            }
            if (F8m.lineWidth) {
                S8m.lineWidth = F8m.lineWidth;
            }
            if (p8m == "zig zag") {
                S8m.lineWidth = 5;
            }
            s8m = null;
            if (F8m.pattern) {
                x5B = 1083319888;
                I5B = -1908898450;
                N5B = 2;
                for (var r5B = 1; O4z.s2B(r5B.toString(), r5B.toString().length, 69829) !== x5B; r5B++) {
                    s8m = F8m.pattern;
                    N5B += 2;
                }
                if (O4z.s2B(N5B.toString(), N5B.toString().length,  + "12507") !== I5B) {
                    s8m = F8m.pattern;
                }
                s8m = F8m.pattern;
                if (s8m == "solid") {
                    s8m = null;
                } else if (s8m == "dotted") {
                    s8m = [S8m.lineWidth, S8m.lineWidth];
                } else if (s8m == "dashed") {
                    O4z.o3f(94);
                    var Q9e = O4z.J3f(14, 14, 257, 19);
                    s8m = [S8m.lineWidth * Q9e, S8m.lineWidth *  + "5"];
                }
            }
            S8m.stxLine(b8m, i8m, Q8m, V8m, S8m.strokeStyle, S8m.globalAlpha, S8m.lineWidth, s8m);
            S8m.globalAlpha = 1;
            S8m.lineWidth = 1;
        };
        H.prototype.connectTheDots = function (N8m, q8m, F9m, x8m, U8m, d8m) {
            var k7F,
            C7F,
            l9m,
            n9m,
            t9m,
            J9m,
            f7F,
            f8B,
            m8B,
            x8B,
            m8m,
            m7F,
            k6F,
            f6F,
            m6F,
            j8m,
            a8m,
            y9m,
            z8m,
            v8m,
            B8m,
            r9m,
            w9m,
            G8m,
            X8m,
            h8m,
            S9m,
            k9m,
            Z9m,
            H9m;
            k7F = "ob";
            k7F += "j";
            k7F += "ec";
            k7F += "t";
            C7F = "undefine";
            C7F += "d";
            if (!d8m) {
                d8m = {};
            }
            if (d8m.pattern == "none") {
                return;
            }
            if (U8m === !![]) {
                U8m = this.chart.panel;
            }
            if (x8m === null || typeof x8m == C7F) {
                x8m = this.chart.context;
            }
            if (N8m.length < 4) {
                return;
            }
            l9m = 0;
            n9m = this.chart.canvasHeight;
            t9m = 0;
            J9m = this.chart.width;
            if (U8m) {
                n9m = U8m.yAxis.bottom;
                l9m = U8m.yAxis.top;
            }
            x8m.lineWidth =  + "1.1";
            if (typeof q8m == k7F) {
                x8m.strokeStyle = q8m.color;
                if (q8m.opacity) {
                    x8m.globalAlpha = q8m.opacity;
                } else {
                    x8m.globalAlpha = 1;
                }
                x8m.lineWidth = parseInt(J.stripPX(q8m.width));
            } else {
                f7F = "a";
                f7F += "u";
                f7F += "t";
                f7F += "o";
                if (!q8m || q8m == f7F || J.isTransparent(q8m)) {
                    x8m.strokeStyle = this.defaultColor;
                } else {
                    f8B = 680484434;
                    m8B = 770728182;
                    x8B = 2;
                    for (var N8B = "1" ^ 0; O4z.s2B(N8B.toString(), N8B.toString().length, 73567) !== f8B; N8B++) {
                        x8m.strokeStyle = q8m;
                        O4z.s3f(8);
                        x8B += O4z.J3f(0, "2");
                    }
                    if (O4z.h2B(x8B.toString(), x8B.toString().length, 58088) !== m8B) {
                        x8m.strokeStyle = q8m;
                    }
                }
            }
            if (d8m.opacity) {
                x8m.globalAlpha = d8m.opacity;
            }
            if (d8m.lineWidth) {
                x8m.lineWidth = d8m.lineWidth;
            }
            m8m = null;
            if (d8m.pattern) {
                m7F = "da";
                m7F += "s";
                m7F += "he";
                m7F += "d";
                k6F = -523077447;
                f6F = 232584557;
                O4z.o3f(19);
                m6F = O4z.J3f(1727519232, "2");
                for (var I6F = 1; O4z.s2B(I6F.toString(), I6F.toString().length, 70237) !== k6F; I6F++) {
                    m8m = d8m.pattern;
                    m6F += 2;
                }
                if (O4z.s2B(m6F.toString(), m6F.toString().length, 35381) !== f6F) {
                    m8m = d8m.pattern;
                }
                if (m8m == "solid") {
                    m8m = null;
                } else if (m8m == "dotted") {
                    m8m = [x8m.lineWidth, x8m.lineWidth];
                } else if (m8m == m7F) {
                    O4z.o3f(95);
                    var n9e = O4z.J3f(1435, 1, 16, 4, 18);
                    m8m = [x8m.lineWidth * n9e, x8m.lineWidth *  + "5"];
                }
            }
            x8m.beginPath();
            for (var g8m = 0; g8m < N8m.length - 2; g8m +=  + "2") {
                j8m = N8m[g8m];
                O4z.s3f(59);
                a8m = N8m[O4z.J3f("1", g8m)];
                O4z.s3f(0);
                y9m = N8m[O4z.J3f(g8m, 2)];
                O4z.s3f(0);
                z8m = N8m[O4z.S3f(g8m, 3)];
                if (isNaN(j8m) || isNaN(y9m) || isNaN(a8m) || isNaN(z8m)) {
                    return;
                }
                v8m = 0.0;
                B8m = 1.0;
                O4z.o3f(17);
                r9m = O4z.J3f(y9m, j8m);
                O4z.o3f(17);
                w9m = O4z.S3f(z8m, a8m);
                for (var O8m = 0; O8m < 4; O8m++) {
                    if (O8m === 0) {
                        G8m = -r9m;
                        O4z.o3f(17);
                        X8m = -O4z.J3f(t9m, j8m);
                    }
                    if (O8m == 1) {
                        G8m = r9m;
                        O4z.o3f(17);
                        X8m = O4z.S3f(J9m, j8m);
                    }
                    if (O8m == 2) {
                        G8m = -w9m;
                        O4z.o3f(17);
                        X8m = -O4z.J3f(l9m, a8m);
                    }
                    if (O8m == 3) {
                        G8m = w9m;
                        O4z.o3f(17);
                        X8m = O4z.S3f(n9m, a8m);
                    }
                    O4z.o3f(23);
                    h8m = O4z.J3f(X8m, G8m);
                    if ((z8m || z8m === 0) && G8m === 0 && X8m < 0) {
                        return !{}; ;
                    }
                    if (G8m < 0) {
                        if (h8m > B8m) {
                            return ![];
                        } else if (h8m > v8m) {
                            v8m = h8m;
                        };
                    } else if (G8m > "0" - 0) {
                        if (h8m < v8m) {
                            return !!0;
                        } else if (h8m < B8m) {
                            B8m = h8m;
                        };
                    }
                }
                O4z.o3f(39);
                S9m = O4z.S3f(r9m, j8m, v8m);
                O4z.s3f(39);
                k9m = O4z.S3f(w9m, a8m, v8m);
                O4z.s3f(39);
                Z9m = O4z.S3f(r9m, j8m, B8m);
                O4z.o3f(39);
                H9m = O4z.S3f(w9m, a8m, B8m);
                try {
                    if (m8m) {
                        x8m.dashedLineTo(S9m, k9m, Z9m, H9m, m8m);
                    } else {
                        x8m.moveTo(S9m, k9m);
                        x8m.lineTo(Z9m, H9m);
                    }
                } catch (s9m) { ;
                }
            }
            x8m.stroke();
            x8m.closePath();
            x8m.globalAlpha = 1;
            x8m.lineWidth = 1;
        };
        H.prototype.plotSpline = function (e9m, Y9m, W9m, D9m, M9m, E9m, C9m) {
            var x7F,
            P9m,
            I7F,
            M2B,
            j2B,
            J2B;
            x7F = "o";
            x7F += "bj";
            x7F += "e";
            x7F += "ct";
            if (!C9m) {
                C9m = {};
            }
            if (C9m.pattern == "none") {
                return;
            }
            if (E9m === !0) {
                E9m = this.chart.panel;
            }
            if (M9m === null || typeof M9m == "undefined") {
                M9m = this.chart.context;
            }
            M9m.save();
            M9m.lineWidth = 1.1;
            if (typeof W9m == x7F) {
                M9m.strokeStyle = W9m.color;
                if (W9m.opacity) {
                    M9m.globalAlpha = W9m.opacity;
                } else {
                    M9m.globalAlpha = 1;
                }
                M9m.lineWidth = parseInt(J.stripPX(W9m.width));
            } else {
                if (!W9m || W9m == "auto" || J.isTransparent(W9m)) {
                    M9m.strokeStyle = this.defaultColor;
                } else {
                    M9m.strokeStyle = W9m;
                }
            }
            if (C9m.opacity) {
                M9m.globalAlpha = C9m.opacity;
            }
            if (C9m.lineWidth) {
                M9m.lineWidth = C9m.lineWidth;
            }
            P9m = null;
            if (C9m.pattern) {
                I7F = "do";
                I7F += "t";
                I7F += "t";
                I7F += "ed";
                M2B = -255973333;
                j2B =  + "982222713";
                J2B = 2;
                for (var E2B = 1; O4z.h2B(E2B.toString(), E2B.toString().length, 85151) !== M2B; E2B++) {
                    P9m = C9m.pattern;
                    J2B += 2;
                }
                if (O4z.h2B(J2B.toString(), J2B.toString().length, 39611) !== j2B) {
                    P9m = C9m.pattern;
                }
                if (P9m == "solid") {
                    P9m = null;
                } else if (P9m == I7F) {
                    P9m = [M9m.lineWidth, M9m.lineWidth];
                } else if (P9m == "dashed") {
                    O4z.s3f(96);
                    var a9e = O4z.J3f(1, 4, 1, 3, 3);
                    P9m = [M9m.lineWidth *  + "5", M9m.lineWidth * a9e];
                }
            }
            if (P9m && M9m.setLineDash) {
                M9m.setLineDash(P9m);
                O4z.o3f(19);
                M9m.lineDashOffset = O4z.S3f(603345216, "0"); ;
            }
            Y(e9m, Y9m, M9m);
            M9m.restore();
        };
        H.prototype.drawingClick = function (p9m, T9m, f9m) {
            var w0F,
            y0F,
            C0F,
            R9m,
            o9m,
            I9m,
            A9m,
            N7F,
            c2B,
            V2B,
            P2B,
            v7F;
            if (!this.activeDrawing) {
                if (!p9m) {
                    return;
                }
                w0F =  + "291934262";
                y0F = 256769306;
                C0F = 2;
                for (var f0F = 1; O4z.h2B(f0F.toString(), f0F.toString().length, 96971) !== w0F; f0F++) {
                    R9m = H.drawingTools[this.currentVectorParameters.vectorType];
                    C0F += 2;
                }
                if (O4z.h2B(C0F.toString(), C0F.toString().length,  + "26476") !== y0F) {
                    R9m = H.drawingTools[this.currentVectorParameters.vectorType];
                }
                if (!R9m) {
                    if (J.Drawing[this.currentVectorParameters.vectorType]) {
                        R9m = J.Drawing[this.currentVectorParameters.vectorType];
                        H.registerDrawingTool(this.currentVectorParameters.vectorType, R9m);
                    }
                }
                if (R9m) {
                    this.activeDrawing = new R9m();
                    this.activeDrawing.construct(this, p9m);
                    if (!this.charts[p9m.name]) {
                        if (this.activeDrawing.chartsOnly) {
                            this.activeDrawing = null;
                            return;
                        }
                    }
                }
            }
            if (this.activeDrawing) {
                if (this.userPointerDown && !this.activeDrawing.dragToDraw) {
                    if (!H.drawingLine) {
                        this.activeDrawing = null;
                    }
                    return;
                }
                o9m = this.tickFromPixel(T9m, p9m.chart);
                I9m = this.panels[this.activeDrawing.panelName];
                A9m = this.adjustIfNecessary(I9m, o9m, this.valueFromPixelUntransform(f9m, I9m));
                if (this.preferences.magnet && this.magnetizedPrice) {
                    A9m = this.adjustIfNecessary(I9m, o9m, this.magnetizedPrice);
                }
                if (this.activeDrawing.click(this.chart.tempCanvas.context, o9m, A9m)) {
                    if (this.activeDrawing) {
                        N7F = "stx_crosshai";
                        N7F += "r";
                        N7F += "_d";
                        N7F += "rawing";
                        H.drawingLine = ![];
                        J.clearCanvas(this.chart.tempCanvas, this);
                        this.addDrawing(this.activeDrawing);
                        this.activeDrawing = null;
                        this.adjustDrawings();
                        this.draw();
                        this.changeOccurred("vector");
                        J.swapClassName(this.controls.crossX, "stx_crosshair", N7F);
                        J.swapClassName(this.controls.crossY, "stx_crosshair", "stx_crosshair_drawing");
                    }
                } else {
                    this.changeOccurred("drawing");
                    c2B = -1528079510;
                    V2B = -1896549049;
                    P2B = 2;
                    for (var L2B = 1; O4z.h2B(L2B.toString(), L2B.toString().length,  + "27573") !== c2B; L2B++) {
                        H.drawingLine = ![];
                        J.swapClassName(this.controls.crossX, "stx_crosshair", "stx_crosshair_drawing");
                        J.swapClassName(this.controls.crossY, "stx_crosshair_drawing", "stx_crosshair_drawing");
                        P2B += 2;
                    }
                    if (O4z.s2B(P2B.toString(), P2B.toString().length, 63668) !== V2B) {
                        v7F = "stx_c";
                        v7F += "ross";
                        v7F += "hair_drawing";
                        H.drawingLine = !!{};
                        J.swapClassName(this.controls.crossX, v7F, "stx_crosshair");
                        J.swapClassName(this.controls.crossY, "stx_crosshair_drawing", "stx_crosshair");
                    }
                }
                return !![];
            }
            return !!"";
        };
        H.prototype.whichPanel = function (V9m) {
            var L9m;
            for (var K9m in this.panels) {
                L9m = this.panels[K9m];
                if (L9m.hidden)
                    continue;
                if (V9m > L9m.top && V9m < L9m.bottom) {
                    return L9m;
                }
            }
            return null;
        };
        H.prototype.mouseup = function (b9m) {
            var i9m,
            r7F,
            Q9m,
            c9m;
            if (this.runPrepend("mouseup", arguments)) {
                return;
            }
            this.swipe.end = !![];
            this.cancelLongHold = !![];
            if (this.repositioningDrawing) {
                if (!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > 250) {
                    this.changeOccurred("vector");
                    J.clearCanvas(this.chart.tempCanvas, this);
                    this.repositioningDrawing = null;
                    this.adjustDrawings();
                    this.draw();
                    return;
                } else {
                    this.repositioningDrawing = ![];
                }
            }
            if (this.repositioningBaseline) {
                this.repositioningBaseline = null;
                this.chart.panel.yAxis.scroll = this.pixelFromPriceTransform(this.chart.baseline.userLevel, this.chart.panel) - (this.chart.panel.yAxis.top + this.chart.panel.yAxis.bottom) / 2;
                this.draw();
                return;
            }
            i9m = this.userPointerDown;
            this.userPointerDown = !1;
            if (!this.displayInitialized) {
                return;
            }
            O4z.i4z();
            this.grabbingScreen = !!"";
            if (this.openDialog !== "") {
                if (H.insideChart) {
                    J.unappendClassName(this.container, "stx-drag-chart");
                }
                return;
            }
            if (this.grabOverrideClick) {
                r7F = "s";
                r7F += "t";
                r7F += "x-drag-";
                r7F += "chart";
                this.swipeRelease();
                J.unappendClassName(this.container, r7F);
                this.grabOverrideClick = !{};
                return;
            }
            if (H.insideChart) {
                J.unappendClassName(this.container, "stx-drag-chart");
            }
            if (H.resizingPanel) {
                this.releaseHandle({});
                return;
            }
            if (!b9m) {
                b9m = event;
            }
            if (b9m.which && b9m.which >= 2 || b9m.button && b9m.button >= 2 || b9m.ctrlKey) {
                if (this.anyHighlighted && !this.bypassRightClick) {
                    this.rightClickHighlighted();
                    if (b9m.preventDefault && this.captureTouchEvents) {
                        b9m.preventDefault();
                    }
                    b9m.stopPropagation();
                    return !{};
                } else {
                    this.dispatch("rightClick", {
                        stx: this,
                        panel: this.currentPanel,
                        x: c9m,
                        y: Q9m
                    });
                    return !0;
                }
            }
            if (b9m.clientX < this.left || b9m.clientX > this.right) {
                return;
            }
            if (b9m.clientY < this.top || b9m.clientY > this.bottom) {
                return;
            }
            Q9m = this.backOutY(b9m.clientY);
            c9m = this.backOutX(b9m.clientX);
            if (i9m && (!this.longHoldTookEffect || this.activeDrawing)) {
                this.drawingClick(this.currentPanel, c9m, Q9m);
            }
            if (!this.activeDrawing && !this.longHoldTookEffect) {
                this.dispatch("tap", {
                    stx: this,
                    panel: this.currentPanel,
                    x: c9m,
                    y: Q9m
                });
            }
            this.runAppend("mouseup", arguments);
        };
        H.prototype.grabbingHand = function () {
            var B7F;
            B7F = "st";
            B7F += "x-dra";
            B7F += "g-char";
            B7F += "t";
            if (!this.allowScroll) {
                return;
            }
            if (!this.grabbingScreen) {
                return;
            }
            if (J.touchDevice) {
                return;
            }
            J.appendClassName(this.container, B7F);
        };
        H.prototype.mousedown = function (u9m) {
            var H7F,
            g7F,
            x9m,
            m9m,
            G9m,
            q9m,
            g9m,
            j9m,
            a9m,
            t5B,
            F5B,
            c5B;
            H7F = "m";
            H7F += "ou";
            H7F += "sedown";
            g7F = "m";
            g7F += "ouse";
            O4z.i4z();
            g7F += "down";
            if (this.runPrepend(g7F, arguments)) {
                return;
            }
            this.grabOverrideClick = !{};
            if (this.openDialog !== "") {
                return;
            }
            if (!this.displayInitialized) {
                return;
            }
            if (!this.displayCrosshairs) {
                return;
            }
            if (!H.insideChart) {
                return;
            }
            if (this.manageTouchAndMouse && u9m && u9m.preventDefault && this.captureTouchEvents) {
                u9m.preventDefault();
            }
            this.mouseTimer = Date.now();
            this.longHoldTookEffect = ![];
            this.hasDragged = !!"";
            this.userPointerDown = !"";
            if (!u9m) {
                u9m = event;
            }
            if (u9m.which && u9m.which >= 2 || u9m.button && u9m.button >= 2) {
                return;
            }
            x9m = this.currentPanel.chart;
            if (u9m.clientX >= this.left && u9m.clientX < this.right && u9m.clientY >= this.top && u9m.clientY <= this.bottom) {
                if (this.repositioningDrawing) {
                    return;
                }
                for (var d9m = 0; d9m < this.drawingObjects.length; d9m++) {
                    m9m = this.drawingObjects[d9m];
                    if (m9m.highlighted) {
                        if (this.cloneDrawing) {
                            G9m = H.drawingTools[m9m.name];
                            q9m = new G9m();
                            q9m.reconstruct(this, m9m.serialize());
                            this.drawingObjects.push(q9m);
                            this.repositioningDrawing = q9m;
                            q9m.repositioner = m9m.repositioner;
                            return;
                        }
                        this.repositioningDrawing = m9m;
                        return;
                    }
                }
                if ((this.layout.chartType == "baseline_delta" || this.layout.chartType == "baseline_delta_mountain") && x9m.baseline.userLevel !== !!0) {
                    g9m = this.valueFromPixelUntransform(this.cy - 5, this.currentPanel);
                    j9m = this.valueFromPixelUntransform(this.cy + 5, this.currentPanel);
                    O4z.o3f(17);
                    var S9e = O4z.S3f(17, 7);
                    a9m = this.chart.right - parseInt(getComputedStyle(this.controls.baselineHandle).width, S9e);
                    if (x9m.baseline.actualLevel < g9m && x9m.baseline.actualLevel > j9m && this.cx > a9m) {
                        O4z.o3f(19);
                        t5B = O4z.S3f(1693054208, "781454516");
                        F5B = 92413008;
                        c5B =  + "2";
                        for (var P5B = 1; O4z.s2B(P5B.toString(), P5B.toString().length, 15810) !== t5B; P5B++) {
                            this.repositioningBaseline = {
                                lastDraw: Date.now()
                            };
                            c5B += 2;
                        }
                        if (O4z.s2B(c5B.toString(), c5B.toString().length, 57821) !== F5B) {
                            this.repositioningBaseline = {
                                lastDraw: Date.now()
                            };
                        }
                        this.repositioningBaseline = {
                            lastDraw: Date.now()
                        };
                        return;
                    }
                }
                this.drawingClick(this.currentPanel, this.cx, this.cy);
                if (this.activeDrawing && this.activeDrawing.dragToDraw) {
                    return;
                }
            }
            this.grabbingScreen = !![];
            this.yToleranceBroken = ![];
            if (!u9m) {
                u9m = event;
            }
            this.grabStartX = u9m.clientX;
            this.grabStartY = u9m.clientY;
            this.grabStartScrollX = x9m.scroll;
            this.grabStartScrollY = x9m.panel.yAxis.scroll;
            this.grabStartCandleWidth = this.layout.candleWidth;
            this.grabStartZoom = this.whichYAxis(this.currentPanel).zoom;
            setTimeout((function (h9m) {
                    return function () {
                        h9m.grabbingHand();
                    };
                })(this), "100" ^ 0);
            this.swipeStart(x9m);
            if (this.longHoldTime) {
                this.startLongHoldTimer();
            }
            this.runAppend(H7F, arguments);
        };
        H.prototype.startLongHoldTimer = function () {
            O4z.a4z();
            var O9m;
            O9m = this;
            this.cancelLongHold = !{};
            if (this.longHoldTimeout) {
                clearTimeout(this.longHoldTimeout);
            }
            this.longHoldTimeout = setTimeout(function () {
                var O7F;
                O7F = "lon";
                O7F += "gho";
                O7F += "l";
                O7F += "d";
                if (O9m.cancelLongHold) {
                    return;
                }
                O9m.dispatch(O7F, {
                    stx: O9m,
                    panel: O9m.currentPanel,
                    x: O9m.cx,
                    y: O9m.cy
                });
                O9m.longHoldTookEffect = !"";
            }, this.longHoldTime);
        };
        H.prototype.changeVectorType = function (N9m) {
            O4z.i4z();
            this.currentVectorParameters.vectorType = N9m;
            if (H.drawingLine) {
                this.undo();
            }
            this.setCrosshairColors();
            if (H.insideChart) {
                this.doDisplayCrosshairs();
            }
        };
        H.prototype.rightClickOverlay = function (B9m, X9m) {
            O4z.i4z();
            var v9m;
            if (this.runPrepend("rightClickOverlay", arguments)) {
                return;
            }
            v9m = this.overlays[B9m];
            if (v9m.editFunction) {
                v9m.editFunction(X9m);
            } else {
                this.removeOverlay(B9m);
            }
            this.runAppend("rightClickOverlay", arguments);
        };
        H.prototype.removeOverlay = function (z9m) {
            var G7F,
            r7m,
            U9m,
            l7m;
            G7F = "layou";
            G7F += "t";
            if (this.runPrepend("removeOverlay", arguments)) {
                return;
            }
            for (var w7m in this.overlays) {
                U9m = this.overlays[w7m];
                if (U9m.inputs.Field && U9m.inputs.Field.indexOf(z9m) != -1) {
                    this.removeOverlay(U9m.name);
                } else if (U9m.name == z9m) {
                    r7m = U9m;
                }
            }
            l7m = this.layout.studies[z9m];
            J.deleteRHS(J.Studies.studyPanelMap, l7m);
            if (r7m) {
                this.cleanupRemovedStudy(r7m);
            }
            delete this.overlays[z9m];
            this.displaySticky();
            this.createDataSet();
            this.changeOccurred(G7F);
            this.runAppend("removeOverlay", arguments);
        };
        H.prototype.addSeries = function (S7m, n7m, H7m) {
            var h7F,
            y7m,
            t7m,
            Z7m,
            F7m,
            s7m,
            k7m,
            n0F,
            a0F,
            S0F;
            h7F = "a";
            h7F += "ddSeries";
            if (this.runPrepend(h7F, arguments)) {
                return;
            }
            if (!n7m) {
                n7m = {};
            }
            if (!n7m.chartName) {
                n7m.chartName = this.chart.name;
            }
            if (!n7m.symbolObject) {
                n7m.symbolObject = {
                    symbol: S7m
                };
            }
            y7m = {
                parameters: J.clone(n7m),
                yValueCache: [],
                display: S7m
            };
            if (("display" in y7m.parameters)) {
                y7m.display = y7m.parameters.display;
            }
            if (y7m.parameters.isComparison) {
                y7m.parameters.shareYAxis = !![];
            }
            if (!y7m.parameters.chartType && y7m.parameters.color) {
                y7m.parameters.chartType = "line";
            }
            if (y7m.parameters.chartType && y7m.parameters.chartType != "mountain") {
                y7m.parameters.chartType = "line";
            }
            if (!y7m.parameters.panel) {
                y7m.parameters.panel = this.chart.panel.name;
            }
            t7m = this.charts[n7m.chartName];
            Z7m = this;
            if (t7m) {
                t7m.series[S7m] = y7m;
            }
            if (n7m.isComparison) {
                Z7m.setComparison(!![], t7m);
            }
            function M7m(p7m, R7m) {
                var D7m;
                O4z.a4z();
                if (R7m.parameters.color) {
                    D7m = p7m.getSeriesRenderer("_generic_series");
                    if (!D7m) {
                        D7m = p7m.setSeriesRenderer(new J.Renderer.Lines({
                                    params: {
                                        panel: R7m.parameters.panel,
                                        type: "legacy",
                                        name: "_generic_series",
                                        overChart: !""
                                    }
                                }));
                    }
                    D7m.attachSeries(S7m, R7m.parameters).ready();
                }
            }
            F7m = !!"";
            if (n7m.data && !n7m.data.useDefaultQuoteFeed) {
                if (this.masterData) {
                    J7m(this); ;
                }
            } else {
                if (this.quoteDriver) {
                    s7m = this.quoteDriver;
                    k7m = s7m.makeParams(S7m, n7m.symbolObject, this.chart);
                    function P7m(o7m) {
                        O4z.i4z();
                        if (!o7m.error && o7m.error !== 0) {
                            n7m.data = o7m.quotes;
                            J7m(Z7m);
                            M7m(Z7m, y7m);
                        }
                        if (!Z7m.currentlyImporting) {
                            Z7m.dispatch("symbolChange", {
                                stx: Z7m,
                                symbol: k7m.symbol,
                                symbolObject: k7m.symbolObject
                            });
                        }
                        if (H7m) {
                            H7m(o7m.error, y7m);
                        }
                        Z7m.runAppend("addSeries", arguments);
                    }
                    n0F = -1145286381;
                    a0F = 707157895;
                    S0F = 2;
                    for (var d0F =  + "1"; O4z.h2B(d0F.toString(), d0F.toString().length, 27232) !== n0F; d0F++) {
                        k7m.startDate = this.chart.masterData[0].DT;
                        k7m.endDate = this.chart.masterData[this.chart.masterData.length - ("1" ^ 0)].DT;
                        if (n7m.symbolObject) {
                            k7m.symbolObject = n7m.symbolObject;
                        }
                        F7m = !![];
                        S0F += 2;
                    }
                    if (O4z.s2B(S0F.toString(), S0F.toString().length, "51071" << 2106198880) !== a0F) {
                        k7m.startDate = this.chart.masterData[5].DT;
                        k7m.endDate = this.chart.masterData[this.chart.masterData.length / ("2" << 1238034240)].DT;
                        if (n7m.symbolObject) {
                            k7m.symbolObject = n7m.symbolObject;
                        }
                        F7m = !!"";
                    }
                    if (k7m.stx.isEquationChart(k7m.symbol)) {
                        J.fetchEquationChart(k7m, P7m);
                    } else {
                        s7m.quoteFeed.fetch(k7m, P7m);
                    }
                } else {
                    y7m.addSeriesData = J7m;
                }
            }
            if (!F7m) {
                M7m(Z7m, y7m);
                if (H7m) {
                    H7m(null, y7m);
                }
                this.runAppend("addSeries", arguments);
            }
            function J7m(e7m) {
                var Y7m,
                E7m,
                W7m,
                C7m,
                s7F,
                R7F,
                o7F;
                Y7m = 0;
                E7m = 0;
                while (n7m.data && Y7m < e7m.masterData.length && E7m < n7m.data.length) {
                    s7F = "u";
                    s7F += "ndefine";
                    s7F += "d";
                    W7m = n7m.data[E7m];
                    C7m = e7m.masterData[Y7m];
                    if (!W7m.DT || typeof W7m.DT == s7F) {
                        W7m.DT = J.strToDateTime(W7m.Date);
                    }
                    if (W7m.DT.getTime() == C7m.DT.getTime()) {
                        R7F = "un";
                        R7F += "d";
                        R7F += "efin";
                        R7F += "ed";
                        if (typeof W7m.Value != "undefined") {
                            C7m[S7m] = W7m.Value;
                        } else if (e7m.layout.adj && typeof W7m.Adj_Close != R7F) {
                            C7m[S7m] = W7m.Adj_Close;
                        } else {
                            C7m[S7m] = W7m.Close;
                        }
                        E7m++;
                        Y7m++;
                        continue;
                    }
                    if (W7m.DT < C7m.DT) {
                        if (n7m.forceData) {
                            e7m.masterData.splice(Y7m, 0, {
                                DT: W7m.DT
                            });
                            continue;
                        }
                        E7m++;
                    } else {
                        Y7m++;
                    }
                }
                if (n7m.forceData && Y7m >= e7m.masterData.length) {
                    while (n7m.data && E7m < n7m.data.length) {
                        o7F = "und";
                        o7F += "efi";
                        o7F += "ne";
                        o7F += "d";
                        W7m = n7m.data[E7m];
                        if (!W7m.DT || typeof W7m.DT == "undefined") {
                            W7m.DT = J.strToDateTime(W7m.Date);
                        }
                        C7m = {
                            DT: W7m.DT
                        };
                        if (typeof W7m.Value != o7F) {
                            C7m[S7m] = W7m.Value;
                        } else if (e7m.layout.adj && typeof W7m.Adj_Close != "undefined") {
                            C7m[S7m] = W7m.Adj_Close;
                        } else {
                            C7m[S7m] = W7m.Close;
                        }
                        e7m.masterData.push(C7m);
                        E7m++;
                    }
                }
            }
            return y7m;
        };
        H.prototype.isEquationChart = function (I7m) {
            if (!this.allowEquations || !J.computeEquationChart) {
                return !!0;
            }
            if (I7m && I7m["0" * 1] == "=") {
                return !!1;
            }
            return !{};
        };
        H.prototype.deleteSeries = function (T7m, A7m) {
            if (this.runPrepend("deleteSeries", arguments)) {
                return;
            }
            O4z.i4z();
            if (!A7m) {
                A7m = this.chart;
            }
            delete A7m.series[T7m];
            if (this.quoteDriver) {
                this.quoteDriver.updateSubscriptions();
            }
            this.runAppend("deleteSeries", arguments);
        };
        H.prototype.removeSeries = function (L7m, f7m) {
            O4z.a4z();
            var t7F,
            p7F,
            c7m,
            V7m,
            b7m,
            Q7m;
            t7F = "remove-s";
            t7F += "e";
            t7F += "ries";
            p7F = "symbo";
            p7F += "lChange";
            if (this.runPrepend("removeSeries", arguments)) {
                return;
            }
            if (!f7m) {
                f7m = this.chart;
            }
            for (var i7m in f7m.seriesRenderers) {
                V7m = f7m.seriesRenderers[i7m];
                for (var K7m = V7m.seriesParams.length - 1; K7m >= ("0" & 2147483647); K7m--) {
                    b7m = V7m.seriesParams[K7m];
                    if (!b7m.permanent && b7m.field === L7m) {
                        c7m = b7m.symbolObject;
                        V7m.removeSeries(L7m);
                    }
                }
            }
            this.deleteSeries(L7m, f7m);
            Q7m = ![];
            for (var u7m in f7m.series) {
                if (f7m.series[u7m].parameters.isComparison) {
                    Q7m = !![];
                }
            }
            if (!Q7m) {
                this.setComparison(!"1", f7m);
            }
            this.createDataSet();
            this.draw();
            this.dispatch(p7F, {
                stx: this,
                symbol: L7m,
                symbolObject: c7m,
                action: t7F
            });
            this.runAppend("removeSeries", arguments);
        };
        H.prototype.rendererAction = function (m7m, q7m) {
            var x7m;
            if (this.runPrepend("rendererAction", arguments)) {
                return;
            }
            for (var d7m in m7m.seriesRenderers) {
                x7m = m7m.seriesRenderers[d7m];
                if (x7m.params.overChart && q7m == "underlay")
                    continue;
                if (!x7m.params.overChart && q7m == "overlay")
                    continue;
                if (!this.panels[x7m.params.panel])
                    continue;
                if (this.panels[x7m.params.panel].chart !== m7m)
                    continue;
                if (q7m == "calculate") {
                    x7m.performCalculations();
                } else {
                    x7m.draw();
                    if (x7m.cb) {
                        x7m.cb(x7m.colors);
                    }
                }
            }
            O4z.i4z();
            this.runAppend("rendererAction", arguments);
        };
        H.prototype.drawSeries = function (z7m, R3m, p3m) {
            var X7F,
            F7F,
            k3m,
            L3m,
            X7m,
            a7F,
            e7F,
            P7F,
            V7F,
            c7F,
            G7m,
            v7m,
            w3m,
            W3m,
            V3m,
            o3m,
            J3m,
            O7m,
            K3m,
            C3m,
            E3m,
            b3m,
            F3m,
            Z3m,
            s3m,
            g7m,
            j7m,
            e3m,
            Q3m,
            B7m,
            I3m,
            r3m,
            H3m,
            y3m,
            t3m,
            M3m,
            a7m,
            h7m,
            c3m,
            A3m,
            S3m,
            T3m,
            n7F,
            l3m,
            L7F,
            u3m,
            x3m,
            m3m,
            i3m,
            D3m,
            U7m,
            M7F,
            j7F,
            Y7F,
            J7F,
            E7F,
            z7F,
            Q7F,
            S7F,
            f3m;
            X7F = "dra";
            X7F += "wSeries";
            F7F = "dr";
            F7F += "aw";
            F7F += "Seri";
            F7F += "es";
            if (this.runPrepend(F7F, arguments)) {
                return;
            }
            k3m = z7m.dataSegment;
            L3m = {};
            X7m = null;
            if (!R3m) {
                R3m = z7m.series;
            }
            for (var n3m in R3m) {
                a7F = "mou";
                a7F += "n";
                a7F += "ta";
                a7F += "in";
                e7F = "s";
                e7F += "t";
                e7F += "r";
                e7F += "oke";
                P7F = "g";
                P7F += "a";
                P7F += "p";
                V7F = "g";
                V7F += "a";
                V7F += "p";
                c7F = "l";
                c7F += "i";
                c7F += "n";
                c7F += "e";
                X7m = R3m[n3m];
                G7m = X7m.parameters;
                if (!G7m.chartType)
                    continue;
                v7m = z7m.panel;
                if (G7m.panel) {
                    v7m = this.panels[G7m.panel];
                }
                if (!v7m)
                    continue;
                w3m = p3m ? p3m : v7m.yAxis;
                W3m = [G7m.minimum, G7m.maximum];
                if (!G7m.minimum && G7m.minimum !== 0 || !G7m.maximum && G7m.maximum !== 0) {
                    V3m = J.minMax(k3m, n3m);
                    if (!G7m.minimum && G7m.minimum !== "0" >> 50602496) {
                        W3m[0] = V3m[0];
                    }
                    if (!G7m.maximum && G7m.maximum !== 0) {
                        W3m[1] = V3m[1];
                    }
                }
                o3m = W3m[ + "0"];
                J3m = w3m.top;
                O7m = w3m.bottom;
                O4z.o3f(17);
                K3m = O4z.J3f(O7m, J3m);
                C3m = G7m.marginTop;
                E3m = G7m.marginBottom;
                if (C3m) {
                    J3m = C3m > 1 ? J3m + C3m : J3m + K3m * C3m;
                }
                if (E3m) {
                    O7m = E3m > 1 ? O7m - E3m : O7m - K3m * E3m;
                }
                O4z.o3f(97);
                var X9e = O4z.J3f(3, 18, 12, 269);
                b3m = (O7m - J3m) / (W3m[X9e] - o3m);
                F3m = !{};
                Z3m = null;
                s3m = null;
                g7m = null;
                j7m = null;
                e3m = null;
                Q3m = null;
                B7m = this.layout.candleWidth;
                I3m = this.chart.context;
                r3m = G7m.type == "step" || G7m.subtype == "step";
                H3m = G7m.color;
                if (!H3m) {
                    H3m = this.defaultColor;
                }
                y3m = G7m.width;
                if (!y3m || isNaN(y3m) || y3m < "1" - 0) {
                    y3m = 1;
                }
                if (X7m.highlight || X7m.parameters.highlight) {
                    y3m *= 2;
                }
                this.startClip(v7m.name);
                seriesPlotter = new J.Plotter();
                seriesPlotter.newSeries(c7F, "stroke", H3m, 1, y3m);
                if (G7m.gaps && G7m.gaps.color) {
                    seriesPlotter.newSeries(V7F, "stroke", G7m.gaps.color, 1, y3m);
                } else {
                    seriesPlotter.newSeries(P7F, e7F, H3m, 1, y3m);
                }
                X7m.yValueCache = new Array(k3m.length);
                t3m = X7m.yValueCache;
                M3m = null;
                a7m = null;
                h7m = [];
                c3m = X7m.parameters.shareYAxis && !p3m;
                A3m = X7m.parameters.shareYAxis || p3m;
                O4z.o3f(36);
                var d9e = O4z.S3f(16, 15, 0);
                O4z.o3f(17);
                var T9e = O4z.J3f(6, 5);
                S3m = v7m.left - (r3m ? d9e : 0.5) * B7m + this.micropixels - T9e;
                T3m = S3m;
                for (var N7m = 0; N7m < k3m.length; N7m++) {
                    n7F = "li";
                    n7F += "n";
                    n7F += "e";
                    O4z.o3f(23);
                    S3m += O4z.J3f(B7m, 2);
                    if (r3m) {
                        O4z.s3f(23);
                        S3m += O4z.S3f(B7m, 2);
                    }
                    B7m = this.layout.candleWidth;
                    if (!r3m) {
                        O4z.s3f(34);
                        S3m += O4z.S3f("2", B7m);
                    }
                    if (g7m !== null && j7m !== null) {
                        if (!a7m || G7m.gaps) {
                            h7m.push([g7m, j7m]);
                        }
                    }
                    l3m = k3m[N7m];
                    if (!l3m)
                        continue;
                    if (l3m.candleWidth) {
                        if (!r3m) {
                            O4z.s3f(98);
                            var K0e = O4z.S3f(14, 15, 1, 1, 1);
                            S3m += (l3m.candleWidth - B7m) / K0e;
                        }
                        B7m = l3m.candleWidth;
                    }
                    if (l3m.transform && c3m) {
                        l3m = l3m.transform;
                    }
                    s3m = l3m[n3m];
                    if (!s3m && s3m !== 0) {
                        if (r3m || G7m.gaps) {
                            t3m[N7m] = j7m; ;
                        }
                        if (a7m === !{}) {
                            if (r3m) {
                                g7m += B7m;
                                seriesPlotter.lineTo("line", g7m, j7m);
                            }
                            seriesPlotter.moveTo("gap", g7m, j7m);
                        }
                        a7m = !![];
                        if (g7m && !G7m.gaps) {
                            h7m.push([g7m, O7m]);
                        }
                        continue;
                    }
                    if (!r3m && Z3m && Z3m != N7m - 1) {
                        e3m = g7m;
                        Q3m = j7m;
                    } else {
                        e3m = null;
                    }
                    g7m = S3m;
                    if (g7m <= v7m.right) {
                        M3m = l3m;
                    }
                    if (this.extendLastTick && N7m == k3m.length - 1) {
                        O4z.s3f(23);
                        g7m += O4z.S3f(B7m, 2);
                    }
                    if (r3m && F3m) {
                        if (a7m && G7m.gaps && G7m.gaps.pattern) {
                            seriesPlotter.dashedLineTo("gap", g7m, j7m, G7m.gaps.pattern);
                        } else if (a7m && !G7m.gaps) {
                            h7m.push([g7m, O7m]);
                            seriesPlotter.moveTo("gap", g7m, j7m);
                        } else if (!a7m && G7m.pattern) {
                            seriesPlotter.dashedLineTo("line", g7m, j7m, G7m.pattern);
                        } else {
                            L7F = "li";
                            L7F += "n";
                            L7F += "e";
                            seriesPlotter.lineTo(a7m ? "gap" : L7F, g7m, j7m);
                        }
                        h7m.push([g7m, j7m]);
                    }
                    if (A3m) {
                        j7m = this.pixelFromPrice(s3m, v7m, w3m);
                    } else {
                        O4z.s3f(99);
                        j7m = O4z.S3f(O7m, s3m, b3m, o3m);
                    }
                    if (e3m !== null) {
                        u3m = {
                            x0: e3m,
                            x1: g7m,
                            y0: Q3m,
                            y1: j7m
                        };
                        for (; Z3m != N7m; Z3m++) {
                            O4z.o3f(100);
                            var W0e = O4z.S3f(1, 10, 2, 6);
                            x3m = v7m.left + Math.floor(S3m + (Z3m - N7m + 0.5) * B7m) + this.micropixels - W0e;
                            m3m = J.yIntersection(u3m, x3m);
                            t3m[Z3m] = m3m;
                        }
                    }
                    t3m[N7m] = j7m;
                    if (N7m && h7m.length && F3m && !t3m[N7m - 1] && t3m[N7m - 1] !== 0) {
                        for (var Y3m = N7m - 1; Y3m >= 0; Y3m--) {
                            if (t3m[Y3m])
                                break;
                            O4z.s3f(61);
                            var b0e = O4z.J3f(0, 17, 17, 1);
                            t3m[Y3m] = h7m[h7m.length - b0e][ + "1"];
                        }
                    }
                    if (!F3m) {
                        F3m = !!1;
                        i3m = z7m.dataSet.length - z7m.scroll;
                        if (i3m <=  + "0") {
                            seriesPlotter.moveTo(a7m ? "gap" : "line", g7m, j7m);
                        } else {
                            D3m = z7m.dataSet[i3m];
                            if (D3m.transform && c3m) {
                                D3m = D3m.transform;
                            }
                            U7m = D3m[n3m];
                            if (A3m) {
                                U7m = this.pixelFromPrice(U7m, v7m, w3m);
                            } else {
                                O4z.o3f(99);
                                U7m = O4z.J3f(O7m, U7m, b3m, o3m);
                            }
                            U7m = Math.min(Math.max(U7m, J3m), O7m);
                            if (isNaN(U7m)) {
                                M7F = "ga";
                                M7F += "p";
                                seriesPlotter.moveTo(a7m ? M7F : "line", g7m, j7m);
                            } else {
                                j7F = "ga";
                                j7F += "p";
                                seriesPlotter.moveTo(a7m ? j7F : "line", T3m, U7m);
                                if (r3m) {
                                    if (a7m) {
                                        Y7F = "g";
                                        Y7F += "a";
                                        Y7F += "p";
                                        J7F = "g";
                                        J7F += "a";
                                        J7F += "p";
                                        if (G7m.gaps) {
                                            seriesPlotter.lineTo(J7F, g7m, U7m);
                                        } else {
                                            seriesPlotter.moveTo(Y7F, g7m, U7m);
                                        }
                                    } else {
                                        seriesPlotter.lineTo("line", g7m, U7m);
                                    }
                                }
                                if (!a7m || G7m.gaps) {
                                    if (r3m) {
                                        h7m.unshift([g7m, U7m]);
                                    }
                                    h7m.unshift([T3m, U7m]);
                                }
                                if (a7m && G7m.gaps && G7m.gaps.pattern) {
                                    seriesPlotter.dashedLineTo("gap", g7m, j7m, G7m.gaps.pattern);
                                } else if (a7m && !G7m.gaps) {
                                    E7F = "g";
                                    E7F += "a";
                                    E7F += "p";
                                    h7m.unshift([g7m, O7m]);
                                    h7m.unshift([T3m, O7m]);
                                    seriesPlotter.moveTo(E7F, g7m, j7m);
                                } else if (!a7m && G7m.pattern) {
                                    z7F = "l";
                                    z7F += "ine";
                                    seriesPlotter.dashedLineTo(z7F, g7m, j7m, G7m.pattern);
                                } else {
                                    seriesPlotter.lineTo(a7m ? "gap" : "line", g7m, j7m);
                                }
                            }
                        }
                    } else {
                        if (a7m && G7m.gaps && G7m.gaps.pattern) {
                            seriesPlotter.dashedLineTo("gap", g7m, j7m, G7m.gaps.pattern);
                        } else if (a7m && !G7m.gaps) {
                            h7m.push([g7m, O7m]);
                            seriesPlotter.moveTo("gap", g7m, j7m);
                        } else if (!a7m && G7m.pattern) {
                            seriesPlotter.dashedLineTo("line", g7m, j7m, G7m.pattern);
                            if (r3m && N7m == k3m.length -  + "1") {
                                O4z.o3f(0);
                                seriesPlotter.dashedLineTo("line", O4z.J3f(g7m, B7m), j7m, G7m.pattern);
                            }
                        } else {
                            Q7F = "l";
                            Q7F += "in";
                            Q7F += "e";
                            seriesPlotter.lineTo(a7m ? "gap" : Q7F, g7m, j7m);
                            if (r3m && N7m == k3m.length -  + "1" && !a7m) {
                                O4z.o3f(0);
                                seriesPlotter.lineTo("line", O4z.J3f(g7m, B7m), j7m);
                            }
                        }
                    }
                    Z3m = N7m;
                    if (a7m) {
                        seriesPlotter.moveTo(n7F, g7m, j7m);
                    }
                    a7m = ![];
                }
                if (a7m) {
                    O4z.s3f(101);
                    var q0e = O4z.J3f(7, 17, 15, 4);
                    g7m = v7m.left + Math.floor(S3m + B7m + this.micropixels) - q0e;
                    if (this.extendLastTick) {
                        O4z.o3f(69);
                        g7m += O4z.S3f(B7m, 0, "2");
                    }
                    if (G7m.gaps && G7m.gaps.pattern) {
                        if (F3m) {
                            seriesPlotter.dashedLineTo("gap", g7m, j7m, G7m.gaps.pattern);
                        }
                    } else if (G7m.gaps) {
                        seriesPlotter.lineTo("gap", g7m, j7m);
                    }
                }
                if (X7m.parameters.chartType == a7F && h7m.length) {
                    S7F = "fi";
                    S7F += "ll";
                    h7m.push([g7m, a7m && !G7m.gaps ? O7m : j7m]);
                    if (!G7m.fillStyle) {
                        G7m.fillStyle = H3m;
                        if (!G7m.fillOpacity) {
                            G7m.fillOpacity = 0.3;
                        }
                    }
                    seriesPlotter.newSeries("mountain", S7F, G7m.fillStyle, G7m.fillOpacity);
                    for (var P3m = 0; P3m < h7m.length; P3m++) {
                        seriesPlotter[P3m ? "lineTo" : "moveTo"]("mountain", h7m[P3m][0], Math.min(O7m, h7m[P3m][1]));
                    }
                    seriesPlotter.lineTo("mountain", g7m, O7m);
                    seriesPlotter.lineTo("mountain", h7m[0][0], O7m);
                    seriesPlotter.draw(I3m, "mountain");
                }
                seriesPlotter.draw(I3m, "gap");
                seriesPlotter.draw(I3m, "line");
                this.endClip();
                if (A3m && M3m) {
                    if (w3m.priceFormatter) {
                        txt = w3m.priceFormatter(this, v7m, M3m[n3m], w3m);
                    } else {
                        txt = this.formatYAxisPrice(M3m[n3m], v7m, null, w3m);
                    }
                    this.yAxisLabels.push({
                        src: "series",
                        "args": [v7m, txt, this.pixelFromPrice(M3m[n3m], v7m, w3m), H3m, null, null, w3m]
                    });
                }
                f3m = X7m.parameters.display;
                if (!f3m) {
                    f3m = X7m.display;
                }
                L3m[n3m] = {
                    color: H3m,
                    display: f3m
                }; ;
            }
            if (z7m.legend && X7m && X7m.useChartLegend) {
                if (z7m.legendRenderer) {
                    z7m.legendRenderer(this, {
                        "chart": z7m,
                        "legendColorMap": L3m,
                        "coordinates": {
                            x: z7m.legend.x,
                            y: z7m.legend.y + z7m.panel.yAxis.top
                        }
                    });
                }
            }
            this.runAppend(X7F, arguments);
        };
        H.prototype.isDailyInterval = function (q3m) {
            var d7F;
            O4z.i4z();
            d7F = "mont";
            d7F += "h";
            if (q3m == "day") {
                return !0;
            }
            if (q3m == "week") {
                return !0;
            }
            if (q3m == d7F) {
                return !!{};
            }
            return !{};
        };
        H.prototype.setPeriodicityV2 = function (O3m, g3m, G3m, j3m) {
            var b1F,
            W1F,
            K1F,
            T7F,
            y6m,
            q9F,
            i9F,
            Z9F,
            z3m,
            r6m,
            N3m,
            X3m,
            d3m,
            w6m,
            h3m,
            v3m,
            U3m,
            l6m,
            n6m;
            b1F = "setPerio";
            b1F += "d";
            b1F += "icityV2";
            W1F = "t";
            W1F += "ick";
            K1F = "ye";
            K1F += "a";
            K1F += "r";
            T7F = "setPeriodi";
            T7F += "cityV";
            T7F += "2";
            if (this.runPrepend(T7F, arguments)) {
                return;
            }
            if (typeof G3m === "function") {
                j3m = G3m;
                G3m = null;
            }
            y6m = !"1";
            if (!g3m) {
                return;
            }
            if (!O3m) {
                return;
            }
            delete this.layout.setSpan;
            if (g3m == K1F) {
                q9F = 1811851049;
                i9F = -878648612;
                Z9F = 2;
                for (var A9F = 1; O4z.h2B(A9F.toString(), A9F.toString().length, 66460) !== q9F; A9F++) {
                    g3m = "month";
                    Z9F +=  + "2";
                }
                if (O4z.s2B(Z9F.toString(), Z9F.toString().length, "7681" << 1566970464) !== i9F) {
                    g3m = "";
                }
                if (!O3m) {
                    O3m = 1;
                }
                O4z.o3f(10);
                O3m = O4z.S3f(O3m, 12);
            }
            z3m = this.isDailyInterval(g3m);
            r6m = this.isDailyInterval(this.layout.interval);
            if (z3m) {
                G3m = null;
            } else if (g3m == W1F) {
                G3m = null;
            } else if (!G3m) {
                G3m = "minute";
            }
            N3m = !!0;
            if (this.chart.symbol) {
                if (this.dontRoll || !r6m) {
                    if (this.layout.interval != g3m) {
                        N3m = !0;
                    }
                } else {
                    if (z3m != r6m) {
                        N3m = !"";
                    }
                }
                if (G3m != this.layout.timeUnit) {
                    N3m = !!"1";
                };
            }
            this.layout.periodicity = O3m;
            this.layout.interval = g3m;
            this.layout.timeUnit = G3m;
            if (N3m) {
                this.changeOccurred("layout");
                if (this.quoteDriver) {
                    for (var a3m in this.charts) {
                        if (this.charts[a3m].symbol) {
                            if (this.displayInitialized) {
                                this.quoteDriver.newChart({
                                    symbol: this.charts[a3m].symbol,
                                    symbolObject: this.charts[a3m].symbolObject,
                                    chart: this.charts[a3m]
                                }, j3m);
                            } else {
                                this.newChart(this.charts[a3m].symbol, null, this.charts[a3m], j3m);
                            }
                        }
                    }
                    return;
                } else if (this.dataCallback) {
                    this.dataCallback();
                    if (j3m) {
                        j3m(null);
                    }
                    return;
                } else {
                    console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");
                    return;
                }
            }
            for (X3m in this.charts) {
                d3m = this.charts[X3m];
                h3m = Math.round(d3m.maxTicks / 2);
                this.setCandleWidth(this.layout.candleWidth, d3m);
                v3m = !![];
                U3m = !!"";
                if (d3m.scroll <= d3m.maxTicks) {
                    v3m = !{};
                } else if (d3m.dataSegment && !d3m.dataSegment[h3m]) {
                    v3m = ![];
                    U3m = d3m.scroll - d3m.dataSet.length; ;
                }
                if (v3m && d3m.dataSegment && d3m.dataSegment.length > 0) {
                    if (d3m.maxTicks < (Math.round(this.chart.width / this.layout.candleWidth - ("0.499" - 0)) - 1) / 2) {
                        h3m = d3m.dataSegment.length - ("1" & 2147483647);
                    }
                    if (h3m >= d3m.dataSegment.length) {
                        w6m = d3m.dataSegment[d3m.dataSegment.length - "1" * 1].DT;
                        O4z.o3f(83);
                        var i0e = O4z.J3f(7, 19, 18, 9);
                        h3m = d3m.dataSegment.length - i0e;
                    } else {
                        w6m = d3m.dataSegment[h3m].DT;
                    }
                }
                this.createDataSet();
                if (v3m) {
                    if (d3m.dataSegment && d3m.dataSegment.length > 0) {
                        for (var B3m = d3m.dataSet.length - 1; B3m >= 0; B3m--) {
                            l6m = d3m.dataSet[B3m].DT;
                            if (l6m.getTime() < w6m.getTime()) {
                                d3m.scroll = d3m.dataSet.length - B3m + h3m;
                                break;
                            }
                        }
                    }
                } else if (!U3m) {
                    n6m = Math.round(this.preferences.whitespace / this.layout.candleWidth);
                    d3m.scroll = d3m.maxTicks - n6m; ;
                } else {
                    d3m.scroll = d3m.dataSet.length + U3m; ;
                }
            }
            if (this.displayInitialized) {
                this.draw();
            }
            this.changeOccurred("layout");
            O4z.a4z();
            if (this.quoteDriver) {
                for (X3m in this.charts) {
                    d3m = this.charts[X3m];
                    if (d3m.symbol && d3m.moreAvailable) {
                        this.quoteDriver.checkLoadMore(d3m);
                    }
                }
            }
            if (j3m) {
                j3m(null);
            }
            this.runAppend(b1F, arguments);
        };
        H.prototype.drawVectors = function () {
            O4z.a4z();
            var Z6m,
            k6m,
            S6m,
            H6m,
            t6m;
            if (this.vectorsShowing) {
                return;
            }
            if (this.runPrepend("drawVectors", arguments)) {
                return;
            }
            this.vectorsShowing = !0;
            if (!this.chart.hideDrawings) {
                Z6m = {};
                for (S6m = 0; S6m < this.drawingObjects.length; S6m++) {
                    H6m = this.drawingObjects[S6m];
                    k6m = H6m.panelName;
                    if (!this.panels[H6m.panelName])
                        continue;
                    if (!Z6m[k6m]) {
                        Z6m[k6m] = [];
                    }
                    Z6m[k6m].push(H6m);
                }
                for (k6m in Z6m) {
                    this.startClip(k6m);
                    t6m = Z6m[k6m];
                    for (S6m = 0; S6m < t6m.length; S6m++) {
                        t6m[S6m].render(this.chart.context);
                    }
                    this.endClip();
                }
            }
            this.runAppend("drawVectors", arguments);
        };
        H.prototype.consolidatedQuote = function (J6m, P6m, W6m, C6m, p6m, E6m, R6m) {
            var u1F,
            q1F,
            Y6m,
            M6m,
            F6m,
            s6m,
            D6m;
            u1F = "ti";
            function I6m(x6m, q6m, d6m, G6m, m6m) {
                var Z1F,
                i6m,
                c6m,
                u6m;
                Z1F = "sec";
                Z1F += "on";
                Z1F += "d";
                O4z.o3f(10);
                i6m = O4z.S3f(G6m, d6m);
                c6m = new Date(J6m[x6m].DT);
                if (m6m === "millisecond") {
                    c6m.setMilliseconds(c6m.getMilliseconds() + i6m);
                } else if (m6m === Z1F) {
                    c6m.setSeconds(c6m.getSeconds() + i6m);
                } else {
                    c6m.setMinutes(c6m.getMinutes() + i6m);
                }
                u6m = J6m[q6m].DT;
                if (R6m) {
                    if (J6m[x6m].DT.getMinutes() % i6m) {
                        if (u6m.getMinutes() % i6m === 0) {
                            return !![];
                        }
                    }
                }
                if (u6m.getTime() >= c6m.getTime()) {
                    return !!1;
                }
                O4z.i4z();
                return !{};
            }
            u1F += "ck";
            q1F = "consolidate";
            q1F += "d";
            q1F += "Quot";
            function o6m(b6m, Q6m) {
                var i1F,
                V6m,
                K6m;
                i1F = "m";
                i1F += "o";
                i1F += "nth";
                V6m = J6m[b6m - "1" * 1].DT;
                K6m = J6m[b6m].DT;
                if (Q6m == "week") {
                    if (K6m.getDay() < V6m.getDay()) {
                        return !!"1";
                    }
                } else if (Q6m == i1F) {
                    if (K6m.getMonth() != V6m.getMonth()) {
                        return !!{};
                    }
                } else {
                    if (K6m.getDay() != V6m.getDay()) {
                        return !!1;
                    }
                }
                return ![];
            }
            function e6m(L6m, A6m) {
                var T6m;
                T6m = 1;
                if (L6m.layout.adj && J6m[A6m].Adj_Close) {
                    T6m = J6m[A6m].Adj_Close / J6m[A6m].Close;
                }
                if (("High" in J6m[A6m]))
                    if (J6m[A6m].High * T6m > M6m.High) {
                        M6m.High = J6m[A6m].High * T6m;
                    }
                if (("Low" in J6m[A6m]))
                    if (J6m[A6m].Low * T6m < M6m.Low) {
                        M6m.Low = J6m[A6m].Low * T6m;
                    }
                M6m.Volume += J6m[A6m].Volume;
                if (("Close" in J6m[A6m]) && J6m[A6m].Close !== null) {
                    M6m.Close = J6m[A6m].Close * T6m;
                }
                O4z.i4z();
                M6m.ratio = T6m;
                for (var f6m in J6m[A6m]) {
                    if (!M6m[f6m]) {
                        M6m[f6m] = J6m[A6m][f6m];
                    }
                }
            }
            q1F += "e";
            if (P6m <  + "0") {
                return null;
            }
            Y6m = [J6m, P6m, W6m, C6m, E6m, R6m];
            if (this.runPrepend(q1F, Y6m)) {
                return null;
            }
            if (!E6m && this.dontRoll) {
                E6m = !0;
            }
            M6m = J6m[P6m];
            F6m = P6m;
            if ((C6m == "week" || C6m == "month") && !E6m) {
                for (s6m = 1; s6m <= W6m; s6m++) {
                    while (F6m + 1 < J6m.length && !o6m(F6m +  + "1", C6m)) {
                        F6m++;
                        e6m(this, F6m);
                    }
                    if (s6m != W6m) {
                        F6m++;
                        if (F6m < J6m.length) {
                            e6m(this, F6m);
                        }
                    }
                }
            } else if (!this.isDailyInterval(C6m) && C6m != u1F && W6m > 1) {
                for (s6m = 1; s6m < W6m; s6m++) {
                    O4z.s3f(0);
                    F6m = O4z.J3f(P6m, s6m);
                    if (F6m < J6m.length && I6m(P6m, F6m, W6m, C6m, p6m)) {
                        F6m--;
                        break;
                    }
                    if (F6m >= 0 && F6m < J6m.length) {
                        e6m(this, F6m);
                    }
                }
            } else {
                for (s6m = 1; s6m < W6m; s6m++) {
                    O4z.o3f(0);
                    F6m = O4z.J3f(P6m, s6m);
                    if (F6m >= 0 && F6m < J6m.length) {
                        e6m(this, F6m);
                    }
                }
            }
            for (s6m in this.plugins) {
                D6m = this.plugins[s6m];
                if (D6m.consolidate) {
                    D6m.consolidate(J6m, P6m, F6m, M6m);
                }
            }
            this.runAppend("consolidatedQuote", Y6m);
            return {
                "quote": M6m,
                "position": F6m + 1
            };
        };
        H.NONE =  + "0";
        H.CLOSEUP = 1;
        H.CLOSEDOWN =  + "2";
        H.CLOSEEVEN = 4;
        H.CANDLEUP = 8;
        H.CANDLEDOWN =  + "16";
        H.CANDLEEVEN = 32;
        H.prototype.displayChart = function (j6m) {
            var E1F,
            o1F,
            y1F,
            S0m,
            O6m,
            h6m,
            g6m,
            U1F,
            l1F,
            A1F,
            D1F,
            w1F,
            r0m,
            K8B,
            W8B,
            b8B,
            w0m,
            l0m,
            n0m,
            k1F,
            C1F,
            f1F,
            J0m,
            I1F,
            x1F,
            m1F,
            k0m,
            Z0m,
            t0m,
            N1F,
            s0m,
            M0m,
            P0m,
            v1F,
            U6m,
            B6m,
            B1F,
            r1F,
            a6m,
            h1F,
            G1F,
            g1F,
            v6m,
            O1F,
            H1F,
            X6m,
            z6m,
            H0m,
            R1F,
            s1F,
            j1F,
            M1F,
            L1F,
            e1F,
            t1F,
            p1F,
            P1F,
            V1F,
            c1F,
            F1F,
            J1F,
            Y1F;
            E1F = "di";
            E1F += "splay";
            E1F += "C";
            E1F += "hart";
            o1F = "baseline_delta_mountai";
            o1F += "n";
            y1F = "b";
            y1F += "a";
            y1F += "r";
            S0m = this.layout.candleWidth - j6m.tmpWidth < "2" * 1 && j6m.tmpWidth <= 3;
            if (this.runPrepend("displayChart", arguments)) {
                return;
            }
            this.chart.baseLegendColors = [];
            O6m = this.layout.chartType;
            h6m = null;
            if (j6m.customChart) {
                if (j6m.customChart.chartType) {
                    O6m = j6m.customChart.chartType;
                }
                if (j6m.customChart.colorFunction) {
                    h6m = j6m.customChart.colorFunction;
                }
            }
            this.controls.baselineHandle.style.display = "none";
            g6m = j6m.panel;
            if (this.layout.aggregationType == "kagi") {
                U1F = "stx_kagi";
                U1F += "_down";
                l1F = "s";
                l1F += "tx_kagi";
                l1F += "_up";
                A1F = "s";
                A1F += "t";
                A1F += "x";
                A1F += "_kagi_down";
                this.drawKagiSquareWave(g6m, "stx_kagi_up", A1F);
                this.chart.baseLegendColors.push(this.getCanvasColor(l1F));
                this.chart.baseLegendColors.push(this.getCanvasColor(U1F));
            } else if (this.layout.aggregationType == "pandf") {
                this.drawPointFigureChart(g6m, "stx_pandf_up", 6740 !== 5676 ? "X" : "6640" << 1622849344 > 9849 ? (!!{},  + "9.21e+3") : !!"");
                this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_up"));
                this.drawPointFigureChart(g6m, "stx_pandf_down", "O");
                this.chart.baseLegendColors.push(this.getCanvasColor("stx_pandf_down"));
            } else if (O6m == "line") {
                D1F = "stx";
                D1F += "_line_chart";
                this.drawLineChart(g6m, D1F);
            } else if (O6m == "mountain") {
                this.startClip(g6m.name);
                this.chart.baseLegendColors = null;
                this.drawMountainChart(g6m);
                this.endClip();
            } else if (O6m == "colored_mountain") {
                w1F = "stx_";
                w1F += "lin";
                w1F += "e_";
                w1F += "up";
                this.startClip(g6m.name);
                r0m = this.getCanvasColor(w1F);
                K8B =  + "105212065";
                O4z.o3f(58);
                W8B = O4z.J3f("1811823687", 564271109);
                b8B = 2;
                for (var i8B = 1; O4z.s2B(i8B.toString(), i8B.toString().length, 13971) !== K8B; i8B++) {
                    w0m = this.getCanvasColor("");
                    b8B += 2;
                }
                if (O4z.h2B(b8B.toString(), b8B.toString().length, 70333) !== W8B) {
                    w0m = this.getCanvasColor("stx_line_down");
                }
                l0m = this.getCanvasColor("stx_line_chart");
                if (!h6m) {
                    h6m = function (C0m, W0m, E0m) {
                        if (W0m.Close > W0m.iqPrevClose) {
                            return r0m;
                        } else if (W0m.Close < W0m.iqPrevClose) {
                            return w0m;
                        } else {
                            return l0m;
                        }
                        return null;
                    };
                }
                n0m = this.drawMountainChart(g6m, "stx_colored_mountain_chart", h6m);
                for (var y0m in n0m) {
                    this.chart.baseLegendColors.push(y0m);
                }
                this.endClip();
            } else if (O6m == "wave") {
                this.drawWaveChart(g6m);
            } else if (O6m == y1F) {
                this.startClip(g6m.name);
                this.drawBarChartHighPerformance(g6m, "stx_bar_chart");
                this.endClip();
            } else if (O6m == "colored_line") {
                k1F = "st";
                k1F += "x_lin";
                k1F += "e_chart";
                C1F = "stx";
                C1F += "_l";
                C1F += "ine_down";
                this.startClip(g6m.name);
                r0m = this.getCanvasColor("stx_line_up");
                w0m = this.getCanvasColor(C1F);
                l0m = this.getCanvasColor("stx_line_chart");
                if (!h6m) {
                    h6m = function (Y0m, e0m, D0m) {
                        if (e0m.Close > e0m.iqPrevClose) {
                            return r0m;
                        } else if (e0m.Close < e0m.iqPrevClose) {
                            return w0m;
                        } else {
                            return l0m;
                        }
                        return null;
                    };
                }
                n0m = this.drawLineChart(g6m, k1F, h6m);
                for (var y0m in n0m) {
                    this.chart.baseLegendColors.push(y0m);
                }
                this.endClip();
            } else if (O6m == "colored_bar") {
                this.startClip(g6m.name);
                if (h6m) {
                    f1F = "stx_b";
                    f1F += "ar_chart";
                    J0m = this.drawBarChart(g6m, f1F, h6m);
                    for (var F0m in J0m) {
                        this.chart.baseLegendColors.push(F0m);
                    }
                } else {
                    this.drawBarChartHighPerformance(g6m, "stx_bar_up", H.CLOSEUP);
                    this.drawBarChartHighPerformance(g6m, "stx_bar_down", H.CLOSEDOWN);
                    this.drawBarChartHighPerformance(g6m, "stx_bar_even", H.CLOSEEVEN);
                    this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_up"));
                    this.chart.baseLegendColors.push(this.getCanvasColor("stx_bar_down"));
                }
                this.endClip();
            } else if (O6m == "hollow_candle" || O6m == "volume_candle") {
                this.startClip(g6m.name);
                if (h6m) {
                    if (!this.noWicksOnCandles[this.layout.aggregationType]) {
                        this.drawShadows(g6m, h6m);
                    }
                    this.drawCandles(g6m, h6m, !{});
                    this.drawCandles(g6m, h6m, !!1); ;
                } else {
                    I1F = "transpa";
                    I1F += "rent";
                    x1F = "stx_hollo";
                    x1F += "w_candle_ev";
                    x1F += "en";
                    if (!this.noWicksOnCandles[this.layout.aggregationType]) {
                        m1F = "stx_hollow_candl";
                        m1F += "e_down";
                        this.drawShadowsHighPerformance(g6m, "stx_hollow_candle_up", H.CLOSEUP);
                        this.drawShadowsHighPerformance(g6m, m1F, H.CLOSEDOWN);
                        this.drawShadowsHighPerformance(g6m, "stx_hollow_candle_even", H.CLOSEEVEN);
                    }
                    k0m = this.getCanvasColor("stx_hollow_candle_up");
                    Z0m = this.getCanvasColor("stx_hollow_candle_down");
                    t0m = this.getCanvasColor(x1F);
                    this.drawCandlesHighPerformance(g6m, k0m, I1F, H.CLOSEUP | H.CANDLEDOWN);
                    this.drawCandlesHighPerformance(g6m, Z0m, "transparent", H.CLOSEDOWN | H.CANDLEDOWN);
                    this.drawCandlesHighPerformance(g6m, t0m, "transparent", H.CLOSEEVEN | H.CANDLEDOWN);
                    this.drawCandlesHighPerformance(g6m, this.containerColor, k0m, H.CLOSEUP | H.CANDLEUP);
                    this.drawCandlesHighPerformance(g6m, this.containerColor, Z0m, H.CLOSEDOWN | H.CANDLEUP);
                    this.drawCandlesHighPerformance(g6m, this.containerColor, t0m, H.CLOSEEVEN | H.CANDLEUP);
                    this.chart.baseLegendColors.push(k0m);
                    this.chart.baseLegendColors.push(Z0m);
                }
                this.endClip();
            } else if (O6m == "candle") {
                N1F = "stx_can";
                N1F += "dle_shadow_down";
                this.startClip(g6m.name);
                s0m = this.getCanvasColor("stx_candle_shadow_up");
                M0m = this.getCanvasColor(N1F);
                O4z.o3f(102);
                P0m = O4z.J3f(s0m, M0m);
                if (h6m) {
                    if (!this.noWicksOnCandles[this.layout.aggregationType]) {
                        this.drawShadows(g6m, h6m);
                    }
                    this.drawCandles(g6m, h6m, ![]);
                    if (!S0m) {
                        this.drawCandles(g6m, h6m, !![]);
                    };
                } else {
                    if (!this.noWicksOnCandles[this.layout.aggregationType]) {
                        if (P0m) {
                            this.drawShadowsHighPerformance(g6m, "stx_candle_shadow_up", H.CANDLEUP);
                            this.drawShadowsHighPerformance(g6m, "stx_candle_shadow_down", H.CANDLEDOWN);
                            this.drawShadowsHighPerformance(g6m, "stx_candle_shadow", H.CANDLEEVEN);
                        } else {
                            v1F = "stx_candl";
                            v1F += "e_s";
                            v1F += "ha";
                            v1F += "dow";
                            this.drawShadowsHighPerformance(g6m, v1F);
                        }
                    }
                    U6m = this.canvasStyle("stx_candle_up");
                    B6m = U6m["border-left-color"];
                    if (!B6m) {
                        B6m = U6m.borderLeftColor;
                    }
                    if (S0m) {
                        B6m = null;
                    }
                    this.drawCandlesHighPerformance(g6m, this.getCanvasColor("stx_candle_up"), B6m, H.CANDLEUP);
                    this.chart.baseLegendColors.push(U6m.color);
                    U6m = this.canvasStyle("stx_candle_down");
                    B6m = U6m["border-left-color"];
                    if (!B6m) {
                        B6m = U6m.borderLeftColor;
                    }
                    if (S0m) {
                        B6m = null;
                    }
                    this.drawCandlesHighPerformance(g6m, this.getCanvasColor("stx_candle_down"), B6m, H.CANDLEDOWN);
                    this.chart.baseLegendColors.push(U6m.color);
                }
                this.endClip();
            } else if (O6m == "baseline_delta") {
                B1F = "stx";
                B1F += "_b";
                B1F += "aseline_trace";
                r1F = "opac";
                r1F += "ity";
                this.startClip(g6m.name);
                this.setStyle("stx_baseline_trace", r1F, 0);
                this.drawLineChart(g6m, B1F);
                a6m = j6m.baseline.actualLevel;
                if (a6m !== null) {
                    h1F = "do";
                    h1F += "tte";
                    h1F += "d";
                    G1F = "1";
                    G1F += ".";
                    G1F += "1";
                    g1F = "stx_basel";
                    g1F += "ine_down";
                    a6m = this.pixelFromPriceTransform(a6m, j6m.panel);
                    v6m = {
                        "over": "stx_baseline_up",
                        "under": g1F
                    };
                    for (var N6m in v6m) {
                        O1F = "transpa";
                        O1F += "re";
                        O1F += "n";
                        O1F += "t";
                        H1F = "c";
                        H1F += "hart";
                        X6m = {
                            panelName: H1F,
                            band: "Close",
                            threshold: j6m.baseline.actualLevel,
                            color: this.getCanvasColor(v6m[N6m]),
                            direction: N6m == "over" ? 1 : -1,
                            edgeHighlight: this.getCanvasColor(v6m[N6m]),
                            edgeParameters: {
                                pattern: "solid",
                                lineWidth: parseInt(this.canvasStyle(v6m[N6m]).width, 10) +  + "0.1",
                                opacity: 1
                            }
                        };
                        z6m = X6m.color;
                        if (z6m && z6m != O1F) {
                            H0m = j6m.context.createLinearGradient(0, N6m == "over" ? 0 : 2 * a6m, 0, a6m);
                            H0m.addColorStop(0, J.hexToRgba(z6m, 60));
                            H0m.addColorStop(1, J.hexToRgba(z6m, 10));
                            X6m.color = H0m;
                            X6m.opacity = 1;
                        }
                        J.Studies.preparePeakValleyFill(this, j6m.dataSegment, X6m);
                        this.chart.baseLegendColors.push(z6m);
                    }
                    this.plotLine( + "0", 1, a6m, a6m, this.containerColor, "line", j6m.context, !!{}, {
                        pattern: "solid",
                        lineWidth: G1F,
                        opacity: 1
                    });
                    this.plotLine(0, 1, a6m, a6m, this.getCanvasColor("stx_baseline"), "line", j6m.context, !!{}, {
                        pattern: h1F,
                        lineWidth: "2.1",
                        opacity:  + "0.5"
                    });
                    if (this.chart.baseline.userLevel !== !!"") {
                        R1F = "p";
                        R1F += "x";
                        s1F = "p";
                        s1F += "x";
                        O4z.o3f(76);
                        var Z0e = O4z.J3f(1, 20, 9);
                        O4z.o3f(56);
                        var u0e = O4z.S3f(4, 22, 6, 10, 8);
                        this.controls.baselineHandle.style.top = a6m - parseInt(getComputedStyle(this.controls.baselineHandle).height, Z0e) / u0e + s1F;
                        this.controls.baselineHandle.style.left = this.chart.right - parseInt(getComputedStyle(this.controls.baselineHandle).width,  + "10") + R1F;
                        this.controls.baselineHandle.style.display = "block";
                    }
                }
                this.endClip();
            } else if (O6m == o1F) {
                a6m = j6m.baseline.actualLevel;
                if (a6m !== null) {
                    j1F = "2";
                    j1F += ".";
                    j1F += "1";
                    M1F = "do";
                    M1F += "tted";
                    L1F = "stx_base";
                    L1F += "li";
                    L1F += "n";
                    L1F += "e";
                    e1F = "sol";
                    e1F += "id";
                    t1F = "stx_baseline_dow";
                    t1F += "n";
                    p1F = "stx_b";
                    p1F += "aselin";
                    p1F += "e_trace";
                    this.startClip(g6m.name);
                    this.drawMountainChart(g6m, "stx_baseline_delta_mountain");
                    this.endClip();
                    this.startClip(g6m.name);
                    this.setStyle("stx_baseline_trace", "opacity", 0);
                    this.drawLineChart(g6m, p1F);
                    a6m = this.pixelFromPriceTransform(a6m, j6m.panel);
                    v6m = {
                        "over": "stx_baseline_up",
                        "under": t1F
                    };
                    for (var N6m in v6m) {
                        P1F = "tran";
                        P1F += "sparent";
                        V1F = "so";
                        V1F += "lid";
                        c1F = "Cl";
                        c1F += "os";
                        c1F += "e";
                        F1F = "ch";
                        F1F += "a";
                        F1F += "r";
                        F1F += "t";
                        X6m = {
                            panelName: F1F,
                            band: c1F,
                            threshold: j6m.baseline.actualLevel,
                            color: this.getCanvasColor(v6m[N6m]),
                            direction: N6m == "over" ? 1 : -1,
                            edgeHighlight: this.getCanvasColor(v6m[N6m]),
                            edgeParameters: {
                                pattern: V1F,
                                lineWidth: parseInt(this.canvasStyle(v6m[N6m]).width, "10" - 0) + 0.1,
                                opacity: 1
                            }
                        };
                        this.chart.baseLegendColors.push(X6m.color);
                        X6m.color = P1F;
                        J.Studies.preparePeakValleyFill(this, j6m.dataSegment, X6m);
                    }
                    O4z.s3f(19);
                    this.plotLine(O4z.J3f(1114207712, "0"), O4z.J3f(739668288, "1"), a6m, a6m, this.containerColor, "line", j6m.context, !0, {
                        pattern: e1F,
                        lineWidth: "1.1",
                        opacity: 1
                    });
                    this.plotLine(0, 1, a6m, a6m, this.getCanvasColor(L1F), "line", j6m.context, !!{}, {
                        pattern: M1F,
                        lineWidth: j1F,
                        opacity: 0.5
                    });
                    if (this.chart.baseline.userLevel !== !!0) {
                        J1F = "p";
                        J1F += "x";
                        O4z.s3f(17);
                        var A0e = O4z.S3f(30, 20);
                        this.controls.baselineHandle.style.top = a6m - parseInt(getComputedStyle(this.controls.baselineHandle).height, A0e) / ("2" ^ 0) + "px";
                        O4z.o3f(38);
                        var l0e = O4z.S3f(17, 7);
                        this.controls.baselineHandle.style.left = this.chart.right - parseInt(getComputedStyle(this.controls.baselineHandle).width, l0e) + J1F;
                        this.controls.baselineHandle.style.display = "block";
                    }
                    this.endClip();
                }
            } else if (O6m == "scatterplot") {
                this.startClip(g6m.name);
                this.scatter(g6m);
                this.endClip();
            } else if (O6m) {
                Y1F = "l";
                Y1F += "i";
                Y1F += "n";
                Y1F += "e";
                O4z.o3f(6);
                console.log(O4z.S3f('". Defaulting to Line Chart.', 'Invalid chart layout.chartType: "', O6m));
                this.layout.chartType = Y1F;
                this.drawLineChart(g6m, "stx_line_chart");
            } else {
                this.chart.baseLegendColors = null;
            }
            this.runAppend(E1F, arguments);
        };
        H.prototype.calculateATR = function (I0m, o0m) {
            var A0m,
            p0m,
            T0m,
            f0m;
            if (!o0m) {
                o0m = 20;
            }
            A0m = 0;
            O4z.a4z();
            for (var R0m = 1; R0m < I0m.dataSet.length; R0m++) {
                p0m = I0m.dataSet[R0m];
                T0m = I0m.dataSet[R0m - 1].Close;
                f0m = Math.max(p0m.High - p0m.Low, Math.abs(p0m.High - T0m), Math.abs(p0m.Low - T0m));
                A0m += f0m;
                if (R0m > o0m) {
                    A0m -= I0m.dataSet[R0m - o0m].trueRange;
                }
                p0m.trueRange = f0m;
                O4z.o3f(23);
                p0m.atr = O4z.J3f(A0m, o0m);
            }
        };
        H.prototype.calculateMedianPrice = function (K0m) {
            var L0m;
            O4z.a4z();
            for (var V0m = 0; V0m < K0m.dataSet.length; ++V0m) {
                L0m = K0m.dataSet[V0m];
                O4z.o3f(38);
                var U0e = O4z.J3f(20, 18);
                L0m["hl/2"] = (L0m.High + L0m.Low) / U0e;
            }
        };
        H.prototype.calculateTypicalPrice = function (c0m) {
            O4z.a4z();
            var b0m;
            for (var Q0m = 0; Q0m < c0m.dataSet.length; ++Q0m) {
                b0m = c0m.dataSet[Q0m];
                O4z.s3f(9);
                var D0e = O4z.S3f(19, 17, 1);
                b0m["hlc/3"] = (b0m.High + b0m.Low + b0m.Close) / D0e;
            }
        };
        H.prototype.calculateWeightedClose = function (x0m) {
            var i0m,
            z1F;
            for (var u0m = 0; u0m < x0m.dataSet.length; ++u0m) {
                z1F = "hl";
                z1F += "cc";
                z1F += "/4";
                i0m = x0m.dataSet[u0m];
                O4z.s3f(37);
                var w0e = O4z.J3f(30, 8, 20);
                O4z.s3f(2);
                var y0e = O4z.S3f(1, 3, 1);
                i0m[z1F] = (i0m.High + i0m.Low + w0e * i0m.Close) / y0e;
            }
        };
        H.prototype.calculateOHLC4 = function (d0m) {
            O4z.i4z();
            var m0m;
            for (var q0m = 0; q0m < d0m.dataSet.length; ++q0m) {
                m0m = d0m.dataSet[q0m];
                O4z.s3f(16);
                var C0e = O4z.J3f(18, 32, 8, 2);
                m0m["ohlc/4"] = (m0m.Open + m0m.High + m0m.Low + m0m.Close) / C0e;
            }
        };
        H.prototype.currentQuote = function () {
            var g0m,
            I9F,
            N9F,
            v9F;
            g0m = null;
            if (!this.chart.dataSet) {
                return null;
            }
            for (var G0m = this.chart.dataSet.length - 1; G0m >= 0; G0m--) {
                if (this.chart.dataSet[G0m]) {
                    return this.chart.dataSet[G0m];
                }
            }
            I9F =  -  + "1479993032";
            N9F = 23916656;
            v9F = 2;
            for (var B9F = 1; O4z.h2B(B9F.toString(), B9F.toString().length, 51295) !== I9F; B9F++) {
                return null;
            }
            if (O4z.s2B(v9F.toString(), v9F.toString().length, "46375" - 0) !== N9F) {
                return 1;
            }
        };
        H.prototype.correctIfOffEdge = function (N0m) {
            O4z.i4z();
            var j0m,
            a0m,
            h0m;
            if (this.runPrepend("correctIfOffEdge", arguments)) {
                return;
            }
            for (var O0m in this.charts) {
                j0m = this.charts[O0m];
                O4z.o3f(17);
                var k0e = O4z.J3f(1321873604, 4);
                a0m = this.minimumLeftBars + ("1" >> k0e);
                if (j0m.allowScrollPast) {
                    h0m = j0m.maxTicks - a0m;
                    if (j0m.maxTicks - h0m > j0m.dataSet.length) {
                        h0m = j0m.maxTicks - j0m.dataSet.length;
                    }
                    if (j0m.scroll - h0m > j0m.dataSet.length) {
                        j0m.scroll = j0m.dataSet.length + h0m;
                    }
                    if (j0m.scroll <= a0m) {
                        j0m.scroll = a0m;
                        this.micropixels =  + "0";
                    }
                } else {
                    if (j0m.scroll < a0m) {
                        j0m.scroll = a0m;
                    }
                    if (j0m.scroll > j0m.dataSet.length) {
                        j0m.scroll = j0m.dataSet.length;
                    }
                };
            }
            this.runAppend("correctIfOffEdge", arguments);
        };
        H.prototype.createDataSegment = function (w2m) {
            var n1F,
            Q1F,
            v0m,
            X0m,
            l2m,
            z0m,
            n2m;
            n1F = "cre";
            n1F += "at";
            n1F += "eDataSegmen";
            n1F += "t";
            Q1F = "createD";
            Q1F += "a";
            Q1F += "taSegmen";
            Q1F += "t";
            if (this.runPrepend(Q1F, arguments)) {
                return;
            }
            for (var y2m in this.charts) {
                v0m = this.charts[y2m];
                if (w2m) {
                    v0m = w2m;
                }
                v0m.baseline.actualLevel = v0m.baseline.userLevel ? v0m.baseline.userLevel : v0m.baseline.defaultLevel;
                v0m.dataSegment = [];
                O4z.s3f(103);
                var f0e = O4z.S3f(6, 14, 5, 4, 0);
                X0m = v0m.dataSet.length - v0m.scroll - f0e;
                for (var U0m = -1; U0m < v0m.scroll && U0m < v0m.maxTicks; U0m++) {
                    X0m++;
                    if (U0m == -1 && !v0m.baseline.includeInDataSegment)
                        continue;
                    if (X0m < v0m.dataSet.length && X0m >= 0) {
                        if (v0m.dataSet[X0m].candleWidth) {
                            v0m.dataSet[X0m].candleWidth = null;
                            v0m.dataSet[X0m].leftOffset = null;
                        }
                        v0m.dataSegment.push(v0m.dataSet[X0m]);
                        if (v0m.baseline.actualLevel === null && U0m >= 0) {
                            v0m.baseline.actualLevel = v0m.dataSet[X0m].iqPrevClose;
                        }
                    } else if (X0m <  + "0") {
                        v0m.dataSegment.push(null);
                    }
                }
                if (this.layout.chartType == "volume_candle") {
                    O4z.o3f(20);
                    l2m = O4z.S3f(2147483647, "0");
                    for (var r2m = 0; r2m < v0m.dataSegment.length; r2m++) {
                        if (v0m.dataSegment[r2m]) {
                            l2m += v0m.dataSegment[r2m].Volume;
                        }
                    }
                    z0m = 0;
                    for (var B0m = 0; B0m < v0m.dataSegment.length; B0m++) {
                        if (v0m.dataSegment[B0m]) {
                            if (v0m.dataSegment[B0m].Volume) {
                                n2m = v0m.width;
                                if (v0m.scroll < v0m.maxTicks) {
                                    n2m -= this.preferences.whitespace;
                                }
                                v0m.dataSegment[B0m].candleWidth = n2m * v0m.dataSegment[B0m].Volume / l2m;
                                v0m.dataSegment[B0m].leftOffset = z0m + v0m.dataSegment[B0m].candleWidth /  + "2";
                                z0m += v0m.dataSegment[B0m].candleWidth;
                            } else {
                                v0m.dataSegment[B0m].candleWidth = this.layout.candleWidth;
                                O4z.o3f(27);
                                var m0e = O4z.J3f(9, 3, 8);
                                v0m.dataSegment[B0m].leftOffset = z0m + this.layout.candleWidth / m0e;
                                z0m += this.layout.candleWidth;
                            }
                        } else {
                            z0m += this.layout.candleWidth;
                        }
                    }
                }
                if (w2m)
                    break;
            }
            this.runAppend(n1F, arguments);
        };
        H.prototype.leftTick = function () {
            O4z.i4z();
            return this.chart.dataSet.length - this.chart.scroll;
        };
        H.prototype.getStartDateOffset = function () {
            O4z.i4z();
            for (var S2m = 0; S2m < this.chart.dataSegment.length; S2m++) {
                if (this.chart.dataSegment[S2m]) {
                    return S2m;
                }
            }
            return 0;
        };
        H.prototype.setStartDate = function (H2m) {
            var Z2m;
            O4z.a4z();
            for (var k2m = 0; k2m < this.chart.dataSet.length; k2m++) {
                Z2m = this.chart.dataSet[k2m];
                if (Z2m.DT.getTime() == H2m.getTime()) {
                    this.chart.scroll = this.chart.dataSet.length - k2m;
                    this.draw();
                    return;
                }
            }
        };
        H.prototype.updateListeners = function (F2m) {
            O4z.i4z();
            var t2m;
            for (var J2m in this.plugins) {
                t2m = this.plugins[J2m];
                if (t2m.display && t2m.listener) {
                    t2m.listener(this, F2m);
                }
            }
        };
        H.prototype.clearPixelCache = function () {
            var s2m,
            M2m;
            for (var W2m in this.panels) {
                s2m = this.panels[W2m];
                s2m.cacheHigh = null;
                s2m.cacheLow = null;
                s2m.cacheLeft = 1000000;
                s2m.cacheRight = -1;
            }
            for (var C2m in this.charts) {
                M2m = this.charts[C2m];
                if (!M2m.dataSet)
                    continue;
                for (var P2m = 0; P2m < M2m.dataSet.length; P2m++) {
                    M2m.dataSet[P2m].cache = {};
                }
            }
        };
        H.prototype.createYAxisLabel = function (T2m, b2m, D2m, I2m, Q2m, c2m, i2m) {
            var a1F,
            E2m,
            e2m,
            R2m,
            Y2m,
            A2m,
            f2m,
            p2m,
            o2m,
            L2m,
            V2m,
            u2m,
            K2m;
            a1F = "st";
            a1F += "x";
            a1F += "_ya";
            a1F += "xis";
            if (T2m.yAxis.drawPriceLabels === !!"") {
                return;
            }
            E2m = i2m ? i2m : T2m.yAxis;
            e2m = c2m ? c2m : this.chart.context;
            R2m = 3;
            Y2m = this.getCanvasFontSize("stx_yaxis") + R2m * ("2" ^ 0);
            this.canvasFont(a1F, e2m);
            A2m = E2m.displayBorder;
            if (this.axisBorders === !1) {
                A2m = !{};
            }
            if (this.axisBorders === !0) {
                A2m = !!{};
            }
            f2m = A2m ? 3 : 0;
            try {
                O4z.o3f(17);
                var x0e = O4z.S3f(22, 20);
                p2m = e2m.measureText(b2m).width + f2m + R2m * x0e;
            } catch (x2m) {
                p2m = E2m.width;
            }
            o2m = E2m.left - R2m + 3;
            O4z.s3f(6);
            L2m = O4z.S3f(f2m, o2m, R2m);
            V2m = 3;
            u2m = E2m.position === null ? T2m.chart.yAxis.position : E2m.position;
            if (u2m === "left") {
                O4z.s3f(88);
                var I0e = O4z.J3f(611183689, 1222367378, 2, 1222367359);
                o2m = E2m.left + E2m.width + R2m - ("3" << I0e);
                O4z.s3f(104);
                p2m = O4z.J3f(p2m, 1);
                L2m = o2m;
                V2m = -3;
                e2m.textAlign = "right";
            }
            if (D2m + Y2m / 2 > E2m.bottom) {
                O4z.s3f(17);
                var N0e = O4z.S3f(18, 16);
                D2m = E2m.bottom - Y2m / N0e;
            }
            if (D2m - Y2m / 2 < E2m.top) {
                O4z.o3f(105);
                var v0e = O4z.S3f(93, 17, 14, 4, 2);
                D2m = E2m.top + Y2m / v0e;
            }
            e2m.fillStyle = I2m;
            if (typeof J[this.yaxisLabelStyle] == 'undefined') {
                this.yaxisLabelStyle = "roundRectArrow"; ;
            }
            K2m = this.yaxisLabelStyle;
            if (E2m.yaxisLabelStyle) {
                K2m = E2m.yaxisLabelStyle;
            }
            O4z.o3f(106);
            O4z.i4z();
            J[K2m](e2m, o2m, O4z.S3f(D2m, 2, Y2m), p2m, Y2m, V2m, !![], !!0);
            e2m.textBaseline = "middle";
            e2m.fillStyle = Q2m ? Q2m : J.chooseForegroundColor(I2m);
            if (e2m.fillStyle == I2m) {
                if (I2m.toUpperCase() == "#FFFFFF") {
                    e2m.fillStyle = "#000000";
                } else {
                    e2m.fillStyle = "#FFFFFF";
                }
            }
            O4z.s3f(59);
            e2m.fillText(b2m, L2m, O4z.J3f("1", D2m));
            e2m.textAlign = "left";
        };
        H.prototype.createXAxisLabel = function (G2m, v2m, q2m, a2m, B2m, X2m) {
            var S1F,
            m2m,
            j2m,
            N2m,
            h2m,
            d2m,
            g2m,
            O2m;
            S1F = "t";
            S1F += "o";
            S1F += "p";
            m2m = this.chart.context;
            j2m = 2;
            N2m = "stx-float-date";
            O4z.s3f(17);
            var r0e = O4z.J3f(22, 20);
            h2m = this.getCanvasFontSize(N2m) + j2m * r0e;
            this.canvasFont(N2m, m2m);
            try {
                O4z.s3f(11);
                var B0e = O4z.S3f(2, 0, 2, 12, 6);
                d2m = m2m.measureText(v2m).width + j2m * B0e;
            } catch (U2m) {
                var W0F,
                b0F,
                q0F;
                W0F = -2128385164;
                b0F = 276190186;
                q0F =  + "2";
                for (var Z0F = 1; O4z.h2B(Z0F.toString(), Z0F.toString().length, 98582) !== W0F; Z0F++) {
                    d2m =  + "4";
                    q0F += 2;
                }
                if (O4z.h2B(q0F.toString(), q0F.toString().length, 33281) !== b0F) {
                    d2m = 0;
                }
            }
            g2m = G2m.top + G2m.height - h2m;
            if (q2m + d2m / ("2" | 0) < G2m.left || q2m - d2m / 2 > G2m.right) {
                return;
            }
            if (!X2m) {
                if (q2m + d2m / 2 > G2m.right) {
                    O4z.s3f(107);
                    var g0e = O4z.S3f(4, 4, 5, 1, 16);
                    q2m = G2m.right - d2m / g0e;
                }
                if (q2m - d2m / 2 < G2m.left) {
                    O4z.s3f(17);
                    var H0e = O4z.J3f(4, 2);
                    q2m = G2m.left + d2m / H0e;
                }
            }
            m2m.fillStyle = a2m;
            O4z.s3f(106);
            J.roundRect(m2m, O4z.S3f(q2m, 2, d2m), g2m, d2m, h2m, O4z.S3f(1964314144, "3", O4z.s3f(7)), !!{}, !!"");
            if (X2m) {
                O2m = G2m.bottom - G2m.yAxis.bottom - h2m;
                m2m.beginPath();
                O4z.o3f(17);
                m2m.moveTo(O4z.S3f(q2m, O2m), g2m);
                O4z.s3f(17);
                m2m.lineTo(q2m, O4z.J3f(g2m, O2m));
                O4z.s3f(0);
                m2m.lineTo(O4z.S3f(q2m, O2m), g2m);
                m2m.closePath();
                m2m.fill();
            }
            m2m.textBaseline = S1F;
            O4z.i4z();
            m2m.fillStyle = B2m ? B2m : J.chooseForegroundColor(a2m);
            if (m2m.fillStyle == a2m) {
                if (a2m.toUpperCase() == "#FFFFFF") {
                    m2m.fillStyle = "#000000";
                } else {
                    m2m.fillStyle = "#FFFFFF";
                }
            }
            O4z.s3f(108);
            m2m.fillText(v2m, O4z.J3f(q2m, d2m, "2", j2m), O4z.J3f(g2m, j2m, O4z.s3f(0)));
        };
        H.prototype.drawCurrentHR = function () {
            O4z.i4z();
            var W4F,
            k4m,
            H4m,
            X1F,
            r4m,
            z2m,
            l4m,
            n4m,
            y4m,
            w4m,
            t4m,
            s4m,
            M4m,
            T1F,
            d1F,
            J4m,
            S4m,
            Z4m,
            K4F;
            W4F = "d";
            W4F += "rawC";
            W4F += "urrentHR";
            if (this.runPrepend("drawCurrentHR", arguments)) {
                return;
            }
            for (var F4m in this.charts) {
                X1F = "dataSe";
                X1F += "t";
                r4m = this.charts[F4m];
                z2m = r4m.panel;
                l4m = z2m.yAxis;
                if (l4m.drawCurrentPriceLabel === !!"")
                    continue;
                if (r4m.customChart && r4m.customChart.chartType == "none")
                    continue;
                n4m = l4m.whichSet;
                if (!n4m) {
                    n4m = X1F;
                }
                y4m = r4m[n4m].length;
                if (n4m == "dataSegment") {
                    while (y4m > (r4m.width - this.micropixels + this.layout.candleWidth / 2 + 1) / this.layout.candleWidth) {
                        y4m--;
                    }
                }
                if (y4m) {
                    O4z.o3f(17);
                    w4m = r4m[n4m][O4z.S3f(y4m, 1)];
                    t4m = w4m.Close;
                    s4m = w4m.Close;
                    if (r4m[n4m].length >=  + "2") {
                        O4z.o3f(17);
                        M4m = r4m[n4m][O4z.S3f(y4m, 2)];
                        t4m = M4m.Close;
                    }
                    if (s4m < t4m) {
                        k4m = this.canvasStyle("stx_current_hr_down").backgroundColor;
                        H4m = this.canvasStyle("stx_current_hr_down").color;
                    } else {
                        T1F = "stx_curre";
                        T1F += "nt_hr_up";
                        d1F = "st";
                        d1F += "x_c";
                        d1F += "urr";
                        d1F += "ent_hr_up";
                        k4m = this.canvasStyle(d1F).backgroundColor;
                        H4m = this.canvasStyle(T1F).color;
                    }
                    if (w4m.transform) {
                        w4m = w4m.transform;
                    }
                    S4m = Math.max(z2m.yAxis.printDecimalPlaces, z2m.chart.decimalPlaces);
                    if (l4m.maxDecimalPlaces || l4m.maxDecimalPlaces === 0) {
                        S4m = Math.min(S4m, l4m.maxDecimalPlaces);
                    }
                    if (l4m.priceFormatter) {
                        J4m = l4m.priceFormatter(this, z2m, w4m.Close, S4m);
                    } else {
                        J4m = this.formatYAxisPrice(w4m.Close, z2m, S4m);
                    }
                    Z4m = this.pixelFromPrice(w4m.Close, z2m);
                    this.createYAxisLabel(z2m, J4m, Z4m, k4m, H4m);
                    if (this.preferences.currentPriceLine === !!{}
                         && this.isHome()) {
                        K4F = "l";
                        K4F += "i";
                        K4F += "n";
                        K4F += "e";
                        z2m.chart.context.globalCompositeOperation = "destination-over";
                        this.plotLine(z2m.left, z2m.right, Z4m, Z4m, k4m, K4F, z2m.chart.context, z2m, {
                            pattern: "dashed",
                            lineWidth: "1" * 1,
                            opacity: 0.8
                        });
                        z2m.chart.context.globalCompositeOperation = "source-over";
                    }
                }
            }
            this.runAppend(W4F, arguments);
        };
        H.prototype.getDefaultColor = function () {
            var P4m,
            W4m,
            C4m,
            b4F,
            q4F,
            E4m,
            e4m;
            this.defaultColor = "#000000";
            P4m = null;
            O4z.i4z();
            W4m = this.chart.container;
            while (!P4m || J.isTransparent(P4m)) {
                C4m = getComputedStyle(W4m);
                if (!C4m) {
                    return;
                }
                P4m = C4m.backgroundColor;
                if (J.isTransparent(P4m)) {
                    P4m = "transparent";
                }
                W4m = W4m.parentNode;
                if (!W4m || !W4m.tagName)
                    break;
            }
            if (P4m) {
                b4F = "trans";
                b4F += "par";
                b4F += "ent";
                if (P4m == b4F) {
                    P4m = "#FFFFFF";
                }
                this.containerColor = P4m;
                if (!J.isTransparent(P4m)) {
                    q4F = "#";
                    q4F += "0000";
                    q4F += "0";
                    q4F += "0";
                    E4m = J.hsv(P4m);
                    e4m = E4m[2];
                    if (e4m >  + "0.65") {
                        this.defaultColor = q4F;
                    } else {
                        this.defaultColor = "#FFFFFF";
                    }
                } else {
                    this.defaultColor = "#000000";
                }
            } else {
                this.containerColor = "#FFFFFF";
            }
        };
        H.prototype.startAsyncAction = function () {
            if (!this.pendingAsyncs) {
                this.pendingAsyncs = [];
            }
            this.pendingAsyncs.push(!![]);
        };
        H.prototype.registerChartDrawnCallback = function (Y4m) {
            if (!this.asyncCallbacks) {
                this.asyncCallbacks = [];
            }
            O4z.a4z();
            this.asyncCallbacks.push(Y4m);
            return {
                fc: Y4m
            };
        };
        H.prototype.unregisterChartDrawnCallback = function (R4m) {
            for (var D4m = 0; D4m < this.asyncCallbacks.length; D4m++) {
                if (this.asyncCallbacks[D4m] == R4m.fc) {
                    this.asyncCallbacks.splice(D4m,  + "1");
                    return;
                }
            }
        };
        H.prototype.makeAsyncCallbacks = function () {
            if (!this.asyncCallbacks) {
                return;
            }
            if (!this.pendingAsyncs || !this.pendingAsyncs.length) {
                for (var p4m = 0; p4m < this.asyncCallbacks.length; p4m++) {
                    this.asyncCallbacks[p4m]();
                }
            }
        };
        H.prototype.completeAsyncAction = function () {
            O4z.i4z();
            this.pendingAsyncs.pop();
            this.makeAsyncCallbacks();
        };
        H.prototype.draw = function () {
            var T4m,
            o4m,
            A4m,
            I4m,
            i4F,
            V4m,
            b5B,
            q5B,
            i5B;
            this.debug();
            if (!this.chart.canvas) {
                return;
            }
            if (!this.chart.dataSet) {
                return;
            }
            if (!this.chart.canvasHeight) {
                return;
            }
            O4z.o3f(36);
            var O0e = O4z.J3f(7, 5, 0);
            this.offset = this.layout.candleWidth * this.candleWidthPercent / O0e;
            J.clearCanvas(this.chart.canvas, this);
            if (this.runPrepend("draw", arguments)) {
                return;
            }
            if (!this.xaxisHeight) {
                O4z.o3f(3);
                var G0e = O4z.S3f(5, 0, 5, 5);
                this.xaxisHeight = this.getCanvasFontSize("stx_xaxis") + G0e;
                if (this.chart.xAxis.displayBorder || this.axisBorders) {
                    this.xaxisHeight += 3;
                }
            }
            this.getDefaultColor();
            this.vectorsShowing = ![];
            this.drawPanels();
            this.yAxisLabels = [];
            for (A4m in this.charts) {
                i4F = "un";
                i4F += "d";
                i4F += "e";
                i4F += "rlay";
                o4m = this.charts[A4m];
                this.correctIfOffEdge();
                this.createDataSegment();
                V4m = this.createXAxis(o4m);
                this.initializeDisplay(o4m);
                this.rendererAction(o4m, "calculate");
                this.renderYAxis(o4m);
                this.drawXAxis(o4m, V4m);
                o4m.tmpWidth = Math.floor(this.layout.candleWidth * this.candleWidthPercent);
                if (o4m.tmpWidth % 2 === "0" * 1) {
                    o4m.tmpWidth += 1;
                    if (o4m.tmpWidth > this.layout.candleWidth) {
                        o4m.tmpWidth -= 2;
                    }
                }
                if (o4m.tmpWidth < 0.5) {
                    o4m.tmpWidth = 0.5;
                }
                for (T4m in this.plugins) {
                    I4m = this.plugins[T4m];
                    if (I4m.display) {
                        if (I4m.drawUnder) {
                            I4m.drawUnder(this, o4m);
                        }
                    }
                }
                this.rendererAction(o4m, i4F);
                J.Studies.displayStudies(this, o4m, !"");
                this.displayChart(o4m);
                J.Studies.displayStudies(this, o4m, !!0);
                this.rendererAction(o4m, "overlay");
            }
            for (A4m in this.charts) {
                o4m = this.charts[A4m];
                for (T4m in this.plugins) {
                    I4m = this.plugins[T4m];
                    if (I4m.display) {
                        if (I4m.drawOver) {
                            I4m.drawOver(this, o4m);
                        }
                    }
                }
            }
            for (var L4m in this.panels) {
                if (!this.panels[L4m].hidden) {
                    this.plotYAxisText(this.panels[L4m]);
                }
            }
            for (var f4m = 0; f4m < this.yAxisLabels.length; f4m++) {
                this.createYAxisLabel.apply(this, this.yAxisLabels[f4m].args);
            }
            this.createCrosshairs();
            this.drawVectors();
            this.drawCurrentHR();
            this.displayInitialized = !0;
            if (this.controls.home) {
                this.controls.home.style.display = this.isHome() ? "none" : "block";
            }
            this.positionMarkers();
            for (A4m in this.charts) {
                o4m = this.charts[A4m];
                if (this.quoteDriver) {
                    this.quoteDriver.checkLoadMore(o4m);
                }
            }
            b5B = 598529241;
            O4z.s3f(20);
            q5B = O4z.J3f(2147483647, "1749456338");
            i5B = 2;
            for (var u5B = 1; O4z.h2B(u5B.toString(), u5B.toString().length, 55916) !== b5B; u5B++) {
                this.runAppend("", arguments);
                this.makeAsyncCallbacks();
                i5B += 2;
            }
            if (O4z.s2B(i5B.toString(), i5B.toString().length, 27861) !== q5B) {
                this.runAppend("", arguments);
                this.makeAsyncCallbacks();
            }
            this.runAppend("draw", arguments);
            this.makeAsyncCallbacks();
        };
        H.prototype.adjustBackingStore = function (K4m, b4m) {
            var u4m,
            Q4m,
            c4m,
            i4m;
            this.devicePixelRatio = window.devicePixelRatio || 1;
            if (this.devicePixelRatio <  + "1.0") {
                this.devicePixelRatio = 1.0;
            }
            u4m = b4m.webkitBackingStorePixelRatio || b4m.mozBackingStorePixelRatio || b4m.msBackingStorePixelRatio || b4m.oBackingStorePixelRatio || b4m.backingStorePixelRatio || "1" & 2147483647;
            Q4m = this.devicePixelRatio / u4m;
            if (!J.isAndroid || J.is_chrome) {
                c4m = K4m.width;
                i4m = K4m.height;
                O4z.s3f(10);
                K4m.width = O4z.J3f(c4m, Q4m);
                O4z.s3f(10);
                K4m.height = O4z.J3f(i4m, Q4m);
                O4z.s3f(0);
                K4m.style.width = O4z.S3f(c4m, 'px');
                O4z.s3f(0);
                K4m.style.height = O4z.S3f(i4m, 'px');
                b4m.scale(Q4m, Q4m);
                this.adjustedDisplayPixelRatio = Q4m;
            }
        };
        H.prototype.resizeCanvas = function () {
            var q4m,
            G4m,
            g4m,
            m4m,
            x4m,
            h4m,
            d4m,
            j4m;
            if (!this.chart.panel) {
                this.chart.panel = this.panels.chart;
            }
            q4m = this.chart.canvas;
            G4m = this.chart.context;
            if (q4m && G4m) {
                this.chart.tempCanvas.height = q4m.height = this.chart.container.clientHeight;
                this.chart.tempCanvas.width = q4m.width = this.chart.container.clientWidth;
                this.adjustBackingStore(q4m, G4m);
                this.adjustBackingStore(this.chart.tempCanvas, this.chart.tempCanvas.context);
                this.floatCanvas.height = this.chart.container.clientHeight;
                this.floatCanvas.width = this.chart.container.clientWidth;
                this.adjustBackingStore(this.floatCanvas, this.floatCanvas.context);
            }
            g4m = this.container.getBoundingClientRect();
            this.top = g4m.top;
            this.left = g4m.left;
            this.canvasWidth = this.chart.canvasWidth = this.chart.container.clientWidth;
            this.right = this.left + this.canvasWidth;
            this.height = this.chart.container.clientHeight;
            this.width = this.right - this.left;
            if (this.width === 0 && !this.container.dimensionlessCanvas) {
                console.log("warning: zero width chart. Check CSS for chart container.");
            }
            this.bottom = this.top + this.height;
            this.calculateYAxisPositions();
            this.chart.canvasRight = this.right;
            this.chart.canvasHeight = this.height;
            m4m = this.layout.candleWidth;
            if (typeof m4m == "undefined") {
                m4m = 8;
            }
            for (var a4m in this.charts) {
                x4m = this.charts[a4m];
                if (this.layout.span) {
                    this.setCandleWidth(this.getSpanCandleWidth(this.layout.span), x4m);
                } else {
                    this.setCandleWidth(m4m, x4m);
                    if (x4m.scroll < x4m.width / m4m) {
                        x4m.scroll = Math.floor(x4m.width / m4m);
                        h4m = Math.round(this.preferences.whitespace / this.layout.candleWidth);
                        x4m.scroll -= h4m;
                    }
                }
                d4m = 10;
                try {
                    j4m = G4m.measureText("10:00").width *  + "2";
                } catch (O4m) {
                    j4m = 100;
                }
                while (d4m > 1) {
                    if (this.chart.width / j4m > d4m)
                        break;
                    d4m /= 1.5;
                }
                x4m.xAxis.autoComputedTickSizePixels = Math.round(this.chart.width / d4m);
                if (x4m.xAxis.autoComputedTickSizePixels < 1) {
                    x4m.xAxis.autoComputedTickSizePixels = 1;
                }
            }
        };
        H.prototype.setCandleWidth = function (N4m, v4m) {
            if (!v4m) {
                v4m = this.chart;
            }
            if (N4m < this.minimumCandleWidth) {
                N4m = this.minimumCandleWidth;
            }
            this.layout.candleWidth = N4m;
            v4m.maxTicks = Math.round(this.chart.width / N4m) + ("1" & 2147483647);
        };
        H.prototype.resizeChart = function (B4m) {
            var Z4F,
            X4m;
            Z4F = "resize";
            Z4F += "Ch";
            Z4F += "art";
            if (this.runPrepend("resizeChart", arguments)) {
                return;
            }
            if (B4m !== !{}) {
                B4m = !0;
            }
            if (B4m) {
                this.preAdjustScroll();
            }
            X4m = this.chart.canvasHeight;
            this.resizeCanvas();
            if (B4m) {
                this.postAdjustScroll();
            }
            if (this.displayInitialized) {
                this.adjustPanelPositions();
                this.draw(); ;
            } else if (this.chart.canvasHeight !== 0 && X4m === 0) {
                this.adjustPanelPositions();
                this.draw();
            }
            this.positionCrosshairsAtPointer();
            this.doDisplayCrosshairs();
            this.runAppend(Z4F, arguments);
        };
        H.prototype.newChart = function (l1m, y1m, U4m, n1m, z4m) {
            var u0F,
            A0F,
            l0F,
            k1m,
            Z1m,
            H1m,
            t1m,
            r1m,
            S1m,
            w1m,
            J1m,
            A4F;
            if (!U4m) {
                U4m = this.chart;
            }
            if (!z4m) {
                z4m = {};
            }
            if (z4m.periodicity) {
                u0F = -65174063;
                A0F = 116600463;
                l0F = 2;
                for (var D0F = 1; O4z.h2B(D0F.toString(), D0F.toString().length, 84071) !== u0F; D0F++) {
                    if (z4m.periodicity.interval) {
                        this.layout.interval = z4m.periodicity.interval;
                    }
                    if (z4m.periodicity.period) {
                        this.layout.periodicity = z4m.periodicity.period;
                    }
                    if (z4m.periodicity.periodicity) {
                        this.layout.periodicity = z4m.periodicity.periodicity;
                    }
                    this.layout.timeUnit = z4m.periodicity.timeUnit;
                    l0F += 2;
                }
                if (O4z.s2B(l0F.toString(), l0F.toString().length, 24782) !== A0F) {
                    if (z4m.periodicity.interval) {
                        this.layout.interval = z4m.periodicity.interval;
                    }
                    if (z4m.periodicity.period) {
                        this.layout.periodicity = z4m.periodicity.period;
                    }
                    if (z4m.periodicity.periodicity) {
                        this.layout.periodicity = z4m.periodicity.periodicity;
                    }
                    this.layout.timeUnit = z4m.periodicity.timeUnit;
                }
            }
            O4z.i4z();
            k1m = U4m.symbol;
            Z1m = J.clone(U4m.symbolObject);
            H1m = U4m.market;
            if (!l1m) {
                U4m.symbol = null;
                U4m.symbolObject = {
                    symbol: null
                };
            } else if (typeof l1m == 'object') {
                U4m.symbol = l1m.symbol;
                U4m.symbolObject = l1m;
            } else {
                U4m.symbol = l1m;
                U4m.symbolObject.symbol = l1m;
            }
            if (this.marketFactory) {
                t1m = this.marketFactory(U4m.symbolObject);
                this.setMarket(t1m, U4m);
            }
            r1m = this;
            if (!y1m && this.quoteDriver) {
                S1m = function (F1m) {
                    var u4F;
                    u4F = "orp";
                    u4F += "ha";
                    u4F += "ned";
                    if (F1m && F1m != u4F) {
                        U4m.symbol = k1m;
                        U4m.symbolObject = Z1m;
                        U4m.market = H1m;
                    }
                    if (!r1m.currentlyImporting) {
                        r1m.dispatch("symbolChange", {
                            stx: r1m,
                            symbol: r1m.chart.symbol,
                            symbolObject: r1m.chart.symbolObject
                        });
                    }
                    if (n1m) {
                        n1m(F1m);
                    }
                };
                w1m = z4m.span;
                if (!w1m && this.layout) {
                    w1m = this.layout.setSpan;
                }
                if (w1m && w1m.base) {
                    J1m = w1m.multiplier || 1;
                    this.chart.masterData = null;
                    this.displayInitialized = !!"";
                    this.setSpan({
                        maintainPeriodicity: z4m.periodicity ? !!1 : !!0,
                        multiplier: J1m,
                        base: w1m.base,
                        symbol: U4m.symbol
                    }, S1m);
                } else {
                    this.quoteDriver.newChart({
                        symbol: U4m.symbol,
                        symbolObject: U4m.symbolObject,
                        chart: U4m,
                        initializeChart: !!"1"
                    }, function (s1m) {
                        if (!s1m) {
                            r1m.adjustPanelPositions();
                            r1m.quoteDriver.updateSubscriptions();
                            if (z4m.stretchToFillScreen) {
                                r1m.fillScreen();
                            }
                        }
                        S1m.apply(r1m, arguments);
                    });
                }
            } else {
                if (!y1m) {
                    A4F = "Warning: No masterData s";
                    A4F += "pecified and no Quot";
                    A4F += "eFeed c";
                    A4F += "onfigured";
                    console.log(A4F);
                }
                if (!U4m.symbol) {
                    U4m.symbol = "";
                }
                this.setMasterData(y1m, U4m);
                this.createDataSet();
                this.initializeChart();
                if (z4m.span && z4m.span.multiplier && z4m.span.base) {
                    this.setSpan({
                        maintainPeriodicity: !![],
                        multiplier: z4m.span.multiplier,
                        base: z4m.span.base
                    });
                } else if (z4m.stretchToFillScreen) {
                    this.fillScreen();
                } else {
                    this.draw();
                }
                this.adjustPanelPositions();
                if (n1m) {
                    n1m();
                }
            }
        };
        H.prototype.fillScreen = function () {
            var W1m,
            M1m,
            P1m,
            C1m;
            W1m = this.layout.candleWidth;
            M1m = this.chart.width - this.preferences.whitespace;
            P1m = this.chart.dataSet.length;
            if (P1m * W1m >= M1m) {
                this.draw();
                return;
            }
            O4z.o3f(23);
            C1m = O4z.S3f(M1m, P1m);
            this.setCandleWidth(C1m, this.chart);
            this.home({
                maintainWhitespace: !![]
            });
        };
        H.prototype.setMasterData = function (D1m, e1m) {
            var o1m,
            Y1m,
            l4F,
            E1m,
            U4F,
            R1m,
            p1m;
            if (!e1m) {
                e1m = this.chart;
            }
            if (this.marketFactory) {
                o1m = this.marketFactory(e1m.symbolObject);
                this.setMarket(o1m, e1m);
            }
            e1m.masterData = D1m;
            if (e1m.name == "chart") {
                this.masterData = D1m;
            }
            for (Y1m = 0; D1m && Y1m < D1m.length; Y1m++) {
                l4F = "n";
                l4F += "umber";
                if (this.transformMasterDataQuote) {
                    D1m[Y1m] = this.transformMasterDataQuote(D1m[Y1m]);
                }
                E1m = D1m[Y1m];
                if (E1m.DT) {
                    E1m.DT = new Date(E1m.DT);
                    E1m.Date = J.yyyymmddhhmmssmmm(E1m.DT);
                } else if (E1m.Date) {
                    E1m.DT = J.strToDateTime(E1m.Date);
                } else {
                    console.log('setMasterData : Missing DT and Date on masterData object');
                }
                if (E1m.Volume && typeof E1m.Volume !== "number") {
                    E1m.Volume = parseInt(E1m.Volume, 10);
                }
                if (typeof E1m.Close == l4F) { ;
                } else {
                    U4F = " Value ";
                    U4F += "= ";
                    console.log('setMasterData : Close is missing or not a number. Use parseFloat() if your data server provides strings. MasterData Index= ' + Y1m + U4F + E1m.Close);
                }
                if (E1m.High === null) {
                    delete E1m.High;
                }
                if (E1m.Low === null) {
                    delete E1m.Low;
                }
                if (E1m.Open === null) {
                    delete E1m.Open;
                }
            }
            e1m.decimalPlaces = this.callbacks.calculateTradingDecimalPlaces({
                stx: this,
                chart: e1m,
                symbol: e1m.symbolObject.symbol,
                symbolObject: e1m.symbolObject
            });
            if (!H.isDailyInterval(this.layout.interval)) {
                this.setDisplayDates(D1m);
            }
            this.chart.roundit = Math.pow(10, e1m.decimalPlaces);
            for (Y1m in this.plugins) {
                R1m = this.plugins[Y1m];
                if (R1m.display) {
                    if (R1m.setMasterData) {
                        R1m.setMasterData(this, e1m);
                    }
                }
            }
            for (var I1m in this.chart.series) {
                p1m = this.chart.series[I1m];
                if (p1m.addSeriesData) {
                    p1m.addSeriesData(this);
                }
            }
        };
        H.prototype.getSymbols = function () {
            var A1m,
            f1m,
            V1m,
            L1m,
            u1m,
            b1m;
            O4z.a4z();
            A1m = [];
            for (var x1m in this.charts) {
                V1m = this.charts[x1m];
                A1m.push({
                    symbol: V1m.symbol,
                    symbolObject: V1m.symbolObject,
                    periodicity: this.layout.periodicity,
                    interval: this.layout.interval,
                    timeUnit: this.layout.timeUnit,
                    setSpan: this.layout.setSpan
                });
                for (var K1m in V1m.series) {
                    L1m = V1m.series[K1m];
                    if (!L1m.parameters.data || !L1m.parameters.data.useDefaultQuoteFeed)
                        continue;
                    f1m = {
                        symbol: K1m,
                        symbolObject: L1m.symbolObject,
                        periodicity: this.layout.periodicity,
                        interval: this.layout.interval,
                        timeUnit: this.layout.timeUnit,
                        setSpan: this.layout.setSpan
                    };
                    if (arguments[0] === "include-parameters") {
                        f1m.parameters = L1m.parameters;
                    }
                    if (!f1m.symbolObject) {
                        f1m.symbolObject = L1m.parameters.symbolObject || ({
                            symbol: K1m
                        });
                    }
                    A1m.push(f1m);
                }
            }
            for (var c1m in this.panels) {
                if (this.panels[c1m].studyQuotes) {
                    for (var i1m in this.panels[c1m].studyQuotes) {
                        f1m = {
                            symbol: i1m,
                            symbolObject: {
                                symbol: i1m
                            },
                            periodicity: this.layout.periodicity,
                            interval: this.layout.interval,
                            timeUnit: this.layout.timeUnit,
                            setSpan: this.layout.setSpan
                        };
                        A1m.push(f1m);
                    }
                }
            }
            for (var T1m = A1m.length - 1; T1m >= 0; T1m--) {
                u1m = A1m[T1m].symbol;
                if (this.isEquationChart(u1m)) {
                    b1m = J.formatEquation(u1m);
                    if (b1m) {
                        for (var Q1m = "0" - 0; Q1m < b1m.symbols.length; Q1m++) {
                            f1m = {
                                symbol: b1m.symbols[Q1m],
                                symbolObject: A1m[T1m].symbolObject,
                                periodicity: A1m[T1m].periodicity,
                                interval: A1m[T1m].interval,
                                timeUnit: A1m[T1m].timeUnit,
                                setSpan: A1m[T1m].setSpan
                            };
                            A1m.push(f1m);
                        }
                        A1m.splice(T1m, 1);
                    }
                }
            }
            return A1m;
        };
        H.prototype.setDisplayDate = function (G1m) {
            var m1m,
            d1m,
            q1m;
            m1m = G1m.DT;
            O4z.s3f(66);
            var h0e = O4z.S3f(1005, 1, 999, 1003, 2);
            d1m = m1m.getSeconds() * h0e + m1m.getMilliseconds();
            if (this.dataZone) {
                q1m = new M.Date(m1m.getFullYear(), m1m.getMonth(), m1m.getDate(), m1m.getHours(), m1m.getMinutes(), this.dataZone);
                m1m = new Date(q1m.getTime() + d1m);
            }
            if (this.displayZone) {
                q1m = new M.Date(m1m.getTime(), this.displayZone);
                m1m = new Date(q1m.getFullYear(), q1m.getMonth(), q1m.getDate(), q1m.getHours(), q1m.getMinutes());
                m1m = new Date(m1m.getTime() + d1m);
            }
            G1m.displayDate = m1m;
        };
        H.prototype.setDisplayDates = function (j1m) {
            var a1m;
            if (!j1m) {
                return;
            }
            for (var g1m =  + "0"; g1m < j1m.length; g1m++) {
                a1m = j1m[g1m];
                if (a1m.DT) {
                    this.setDisplayDate(a1m);
                }
            }
        };
        H.prototype.streamTrade = function (w5m, N1m, l5m, B1m) {
            var r5m,
            O1m,
            X1m,
            U1m,
            z1m,
            n5m,
            h1m,
            k5m,
            t5m,
            Z5m,
            v1m,
            J5m,
            y5m,
            F5m,
            H5m,
            s5m,
            S5m;
            r5m = this.chart;
            if (!B1m) {
                B1m = {};
            }
            if (B1m.chart) {
                r5m = B1m.chart;
            }
            O1m = null;
            X1m = null;
            U1m = null;
            z1m = 0;
            if (typeof w5m == "object") {
                O1m = w5m.last;
                X1m = w5m.bid;
                U1m = w5m.ask;
                z1m = w5m.volume;
                if (typeof N1m != "undefined") {
                    N1m = new Date(N1m);
                }
            } else {
                O1m = arguments[0];
                z1m = arguments[1];
                if (typeof N1m != "undefined") {
                    O4z.s3f(8);
                    N1m = new Date(arguments[O4z.S3f(0, "2")]);
                }
                l5m = arguments[3];
            }
            n5m = r5m.masterData;
            if (!N1m || N1m == 'Invalid Date') {
                N1m = this.convertToDataZone(new Date());
            }
            if (!n5m || !n5m.length || this.layout.interval == "tick") {
                h1m = {
                    Date: J.yyyymmddhhmmssmmm(N1m),
                    DT: N1m,
                    Open: O1m,
                    Close: O1m,
                    High: O1m,
                    Low: O1m,
                    Volume: z1m,
                    Bid: X1m,
                    Ask: U1m
                };
                this.appendMasterData([h1m], r5m, B1m);
            } else {
                h1m = J.clone(n5m[n5m.length - ("1" & 2147483647)]);
                k5m = new J.Market({});
                t5m = {
                    'begin': h1m.DT,
                    'interval': this.layout.interval,
                    'periodicity': this.layout.periodicity,
                    'timeUnit': this.layout.timeUnit,
                    'inZone': this.dataZone,
                    'outZone': this.dataZone
                };
                Z5m = k5m.newIterator(t5m);
                v1m = Z5m.next();
                if (N1m < v1m) {
                    if (l5m) {
                        if (O1m || O1m === 0) {
                            h1m[l5m] = O1m; ;
                        }
                    } else {
                        if (O1m || O1m === 0) {
                            h1m.Close = O1m;
                            if (O1m > h1m.High || h1m.High === null) {
                                h1m.High = O1m;
                            }
                            if (O1m < h1m.Low || h1m.Low === null) {
                                h1m.Low = O1m;
                            }
                            if (h1m.Open === null) {
                                h1m.Open = O1m;
                            };
                        }
                        if (z1m) {
                            h1m.Volume += z1m;
                        }
                        if (X1m || X1m === 0) {
                            h1m.Bid = X1m;
                        }
                        if (U1m || U1m ===  + "0") {
                            h1m.Ask = U1m;
                        }
                    }
                    J5m = J.clone(B1m);
                    if (typeof h1m.Adj_Close != "undefined") {
                        h1m.Adj_Close = h1m.Close;
                    }
                    this.appendMasterData([h1m], r5m, J5m);
                } else {
                    y5m = [];
                    F5m = {
                        'begin': N1m,
                        'interval': this.layout.interval,
                        'periodicity': this.layout.periodicity,
                        'timeUnit': this.layout.timeUnit,
                        'inZone': this.dataZone,
                        'outZone': this.dataZone
                    };
                    H5m = k5m.newIterator(F5m);
                    H5m.next();
                    N1m = H5m.previous();
                    while (v1m < N1m && this.streamParameters.fillGaps) {
                        s5m = {
                            Date: J.yyyymmddhhmmssmmm(v1m),
                            DT: v1m,
                            Close: h1m.Close,
                            Open: h1m.Close,
                            High: h1m.Close,
                            Low: h1m.Close,
                            Volume: 0,
                            Bid: h1m.Bid,
                            Ask: h1m.Ask
                        };
                        y5m.push(s5m);
                        v1m = Z5m.next();
                    }
                    if (l5m) {
                        S5m = this.currentQuote();
                        h1m = {
                            Date: J.yyyymmddhhmmssmmm(v1m),
                            DT: v1m,
                            Close: S5m.Close,
                            Volume: 0,
                            Bid: S5m.Bid,
                            Ask: S5m.Ask
                        };
                        h1m[l5m] = O1m;
                    } else {
                        h1m = {
                            Date: J.yyyymmddhhmmssmmm(v1m),
                            DT: v1m,
                            Open: O1m,
                            Close: O1m,
                            High: O1m,
                            Low: O1m,
                            Volume: z1m,
                            Bid: X1m,
                            Ask: U1m
                        };
                    }
                    y5m.push(h1m);
                    this.appendMasterData(y5m, r5m, B1m);
                }
            }
        };
        H.prototype.appendMasterData = function (C5m, Y5m, D5m) {
            var p5m,
            P5m,
            M5m,
            D4F,
            o5m,
            E5m,
            f5m,
            e5m,
            R5m;
            if (!D5m) {
                D5m = {};
            }
            if (!Y5m) {
                Y5m = this.chart;
            }
            if (C5m.constructor == Object) {
                C5m = [C5m];
            }
            if (this.runPrepend("appendMasterData", [C5m, Y5m, D5m])) {
                return;
            }
            if (!C5m || !C5m.length) {
                return;
            }
            p5m = C5m[0].DT;
            if (!p5m) {
                p5m = J.strToDateTime(C5m[0].Date);
            }
            P5m = Y5m.masterData;
            if (!P5m || !P5m.length) {
                P5m = Y5m.masterData = J.clone(C5m);
                for (M5m = "0" >> 1204665792; M5m < P5m.length; M5m++) {
                    D4F = "nu";
                    D4F += "mber";
                    if (P5m[M5m].DT) {
                        P5m[M5m].Date = J.yyyymmddhhmmssmmm(P5m[M5m].DT);
                    } else {
                        P5m[M5m].DT = J.strToDateTime(P5m[M5m].Date);
                    }
                    if (P5m[M5m].Volume && typeof P5m[M5m].Volume !== D4F) {
                        P5m[M5m].Volume = parseInt(P5m[M5m].Volume, "10" ^ 0);
                    }
                    if (!H.isDailyInterval(this.layout.interval)) {
                        this.setDisplayDate(P5m[M5m]);
                    }
                }
            } else {
                O4z.o3f(93);
                var s0e = O4z.S3f(2, 29432739840, 20, 7, 27593193589);
                M5m = P5m.length - ("1" << s0e);
                while (M5m >= 0) {
                    o5m = P5m[M5m].DT;
                    if (!o5m) {
                        o5m = J.strToDateTime(P5m[M5m].Date);
                    }
                    if (o5m.getTime() <= p5m.getTime()) {
                        E5m =  + "0";
                        if (o5m.getTime() < p5m.getTime()) {
                            E5m = 1;
                        }
                        for (var W5m = 0; W5m < C5m.length; W5m++) {
                            if (!E5m) {
                                if (typeof P5m[M5m + W5m] != "undefined") {
                                    if (!C5m[W5m].Volume && P5m[M5m + W5m].Volume) {
                                        C5m[W5m].Volume = P5m[M5m + W5m].Volume;
                                    }
                                    if (!D5m.allowReplaceOHL) {
                                        if (P5m[M5m + W5m].Open) {
                                            C5m[W5m].Open = P5m[M5m + W5m].Open;
                                        }
                                        if (P5m[M5m + W5m].High > C5m[W5m].High) {
                                            C5m[W5m].High = P5m[M5m + W5m].High;
                                        }
                                        if (P5m[M5m + W5m].Low && P5m[M5m + W5m].Low < C5m[W5m].Low) {
                                            C5m[W5m].Low = P5m[M5m + W5m].Low;
                                        }
                                    };
                                }
                                for (var A5m in this.chart.series) {
                                    if (typeof C5m[W5m][A5m] == "undefined" && typeof P5m[M5m + W5m] != "undefined") {
                                        O4z.s3f(0);
                                        C5m[W5m][A5m] = P5m[O4z.S3f(M5m, W5m)][A5m];
                                    }
                                }
                                for (var T5m in this.panels) {
                                    if (this.panels[T5m].studyQuotes) {
                                        for (var I5m in this.panels[T5m].studyQuotes) {
                                            if (!this.panels[T5m].studyQuotes[I5m])
                                                continue;
                                            if (typeof C5m[W5m][I5m] == "undefined" && typeof P5m[M5m + W5m] != "undefined") {
                                                O4z.o3f(0);
                                                C5m[W5m][I5m] = P5m[O4z.J3f(M5m, W5m)][I5m];
                                            }
                                        }
                                    }
                                }
                            }
                            O4z.s3f(6);
                            P5m[O4z.S3f(E5m, M5m, W5m)] = C5m[W5m];
                            if (P5m[M5m + W5m + E5m].DT) {
                                P5m[M5m + W5m + E5m].Date = J.yyyymmddhhmmssmmm(P5m[M5m + W5m + E5m].DT);
                            } else {
                                P5m[M5m + W5m + E5m].DT = J.strToDateTime(P5m[M5m + W5m + E5m].Date);
                            }
                            if (P5m[M5m + W5m + E5m].Volume && typeof P5m[M5m + W5m + E5m].Volume !== "number") {
                                P5m[M5m + W5m + E5m].Volume = parseInt(P5m[M5m + W5m + E5m].Volume, 10);
                            }
                            if (!H.isDailyInterval(this.layout.interval)) {
                                this.setDisplayDate(this.masterData[M5m + W5m + E5m]);
                            };
                        }
                        break;
                    }
                    M5m--;
                }
                for (M5m in this.plugins) {
                    f5m = this.plugins[M5m];
                    if (f5m.display) {
                        if (f5m.appendMasterData) {
                            f5m.appendMasterData(this, C5m, Y5m);
                        }
                    }
                }
            }
            if (!this.masterData || !this.masterData.length) {
                this.masterData = P5m;
            }
            if (!D5m.noCreateDataSet) {
                e5m = this.streamParameters;
                if (++e5m.count > e5m.maxTicks || D5m.bypassGovernor) {
                    clearTimeout(e5m.timeout);
                    this.createDataSet();
                    this.draw();
                    this.updateChartAccessories();
                    e5m.count = 0;
                    e5m.timeout = -1; ;
                } else {
                    R5m = this;
                    if (e5m.timeout == -1) {
                        e5m.timeout = setTimeout(function () {
                            R5m.createDataSet();
                            R5m.draw();
                            R5m.updateChartAccessories();
                            R5m.streamParameters.count = 0;
                            O4z.a4z();
                            R5m.streamParameters.timeout = -1;
                        }, e5m.maxWait);
                    }
                }
            }
            this.runAppend("appendMasterData", arguments);
        };
        H.prototype.displayAll = function (L5m, c5m) {
            O4z.i4z();
            var w4F,
            V5m,
            K5m,
            s9F,
            R9F,
            o9F,
            y4F;
            function Q5m() {
                K5m.quoteDriver.loadAll(V5m, b5m);
            }
            w4F = "mo";
            w4F += "nth";
            V5m = this.chart;
            function b5m() {
                var i5m;
                if (!V5m.masterData.length) {
                    return;
                }
                i5m = J.clone(L5m);
                i5m.dtLeft = V5m.masterData["0" & 2147483647].DT;
                i5m.dtRight = V5m.masterData[V5m.masterData.length - 1].DT;
                if (L5m.maintainPeriodicity) {
                    i5m.periodicity = {};
                    i5m.periodicity.interval = K5m.layout.interval;
                    i5m.periodicity.period = K5m.layout.periodicity;
                }
                K5m.setRange(i5m, function (u5m) {
                    O4z.i4z();
                    if (!L5m.maintainPeriodicity) {
                        K5m.layout.setSpan = {
                            base: L5m.base,
                            multiplier: L5m.multiplier
                        };
                        K5m.changeOccurred("layout");
                    }
                    if (c5m) {
                        c5m(u5m);
                    }
                });
            }
            if (L5m && L5m.chart) {
                V5m = L5m.chart;
            }
            K5m = this;
            if (!this.quoteDriver) {
                b5m();
                return;
            }
            if (this.dontRoll && this.layout.interval != w4F) {
                s9F = -630082859;
                R9F = -293130764;
                o9F = 2;
                for (var t9F = 1; O4z.h2B(t9F.toString(), t9F.toString().length, 66111) !== s9F; t9F++) {
                    this.setPeriodicityV2(1, "month", Q5m);
                    O4z.s3f(8);
                    o9F += O4z.J3f(0, "2");
                }
                if (O4z.h2B(o9F.toString(), o9F.toString().length, 32657) !== R9F) {
                    this.setPeriodicityV2(9, "", Q5m);
                }
            } else if (!H.isDailyInterval(this.layout.interval)) {
                y4F = "d";
                y4F += "a";
                y4F += "y";
                O4z.o3f(58);
                this.setPeriodicityV2(O4z.J3f("1", 0), y4F, Q5m);
            } else {
                if (V5m.moreAvailable) {
                    Q5m();
                } else {
                    b5m();
                }
            }
        };
        H.prototype.setRange = function (x5m, g5m) {
            O4z.i4z();
            var r8x,
            m5m,
            j5m,
            a5m,
            t8x,
            d5m,
            l8x,
            v4F,
            N4F,
            q5m,
            G5m,
            h5m,
            y8x,
            S8x,
            v5m,
            k8x,
            I4F,
            x4F,
            m4F,
            f4F,
            k4F,
            B5m,
            Z8x,
            O5m,
            J8x,
            H8x,
            F8x,
            s8x,
            X5m,
            B4F,
            r4F,
            U5m;
            if (J.isEmpty(x5m)) {
                x5m = {
                    dtLeft: arguments[0],
                    dtRight: arguments[1],
                    padding: arguments[2],
                    chart: arguments[3],
                    goIntoFuture: ![]
                };
                g5m = arguments[4];
            }
            if (!x5m.chart) {
                x5m.chart = this.chart;
            }
            function w8x() {
                var P8x,
                W8x,
                C8x;
                if (!m5m.dataSet || m5m.dataSet.length === ("0" | 0)) {
                    if (g5m) {
                        g5m();
                    }
                    return;
                }
                P8x = 0;
                W8x = 0;
                if (j5m.getTime() >= m5m.dataSet[0].DT.getTime() || x5m.goIntoPast) {
                    P8x = d5m.tickFromDate(j5m, m5m, null, !!"1");
                } else {
                    P8x = 0;
                }
                if (a5m.getTime() <= m5m.dataSet[m5m.dataSet.length - 1].DT.getTime() || x5m.goIntoFuture) {
                    W8x = d5m.tickFromDate(a5m, m5m);
                } else {
                    W8x = m5m.dataSet.length -  + "1";
                }
                O4z.s3f(36);
                C8x = O4z.S3f(1, P8x, W8x);
                if (C8x < 1) {
                    if (g5m) {
                        g5m();
                    }
                    return;
                }
                d5m.setCandleWidth((d5m.chart.width - x5m.padding) / C8x, m5m);
                O4z.s3f(89);
                var R0e = O4z.S3f(125, 14, 9);
                m5m.scroll = m5m.dataSet.length - P8x + R0e;
                d5m.micropixels = 0;
                d5m.draw();
                d5m.changeOccurred("layout");
                if (g5m) {
                    g5m();
                }
            }
            if (typeof x5m.padding == "undefined") {
                x5m.padding = this.preferences.whitespace;
            }
            function n8x(E8x) {
                var v8B,
                r8B,
                B8B;
                if (E8x) {
                    d5m.chart.scroll = F8x;
                    d5m.layout.candleWidth = s8x;
                    if (g5m) {
                        g5m(E8x);
                    }
                    return;
                }
                v8B = 497733068;
                r8B = -1206184092;
                O4z.o3f(8);
                B8B = O4z.S3f(0, "2");
                for (var H8B = 1; O4z.s2B(H8B.toString(), H8B.toString().length, 55591) !== v8B; H8B++) {
                    l8x--;
                    O4z.o3f(19);
                    B8B += O4z.J3f(440925344, "2");
                }
                O4z.a4z();
                if (O4z.s2B(B8B.toString(), B8B.toString().length, 3677) !== r8B) {
                    l8x--;
                }
                l8x++;
                if (l8x > "10" << 728215296) {
                    console.log("STXChart.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");
                    w8x();
                    return;
                }
                if (m5m.moreAvailable && m5m.masterData[0].DT > j5m) {
                    d5m.quoteDriver.checkLoadMore(m5m, !!{}, !{}, function (e8x) {
                        if (!e8x) {
                            n8x();
                        }
                    });
                } else {
                    w8x();
                }
            }
            function M8x(o8x, I8x, R8x, p8x, A8x) {
                var Y8x,
                D8x,
                C4F;
                Y8x = 0;
                O4z.s3f(17);
                D8x = O4z.J3f(o8x, I8x);
                if (H.isDailyInterval(R8x)) {
                    C4F = "w";
                    C4F += "e";
                    C4F += "e";
                    C4F += "k";
                    if (R8x == "month") {
                        Y8x = D8x / J.MONTH / p8x;
                    } else if (R8x == C4F) {
                        Y8x = D8x / J.WEEK / p8x;
                    } else {
                        Y8x = D8x / J.DAY / p8x;
                    }
                } else {
                    if (!isNaN(R8x)) {
                        Y8x = D8x / (J.MINUTE * R8x) / p8x;
                    } else {
                        if (R8x == "millisecond") {
                            O4z.s3f(23);
                            Y8x = O4z.J3f(D8x, p8x);
                        } else if (R8x == "second") {
                            Y8x = D8x / J.SECOND / p8x;
                        } else if (R8x == "hour") {
                            Y8x = D8x / J.HOUR / p8x;
                        } else {
                            Y8x = D8x / J.MINUTE / p8x;
                        }
                    }
                }
                O4z.a4z();
                return Math.round(Y8x); ;
            }
            r8x = !"1";
            m5m = x5m.chart;
            j5m = x5m.dtLeft;
            a5m = this.convertToDataZone(new Date());
            if (x5m.dtRight) {
                a5m = x5m.dtRight;
            }
            if (!j5m) {
                t8x = this.standardMarketIterator(a5m, null, m5m);
                j5m = t8x.previous(m5m.maxTicks);
                if (!x5m.periodicity) {
                    r8x = !![];
                }
            }
            d5m = this;
            l8x = 0;
            if (this.quoteDriver) {
                v4F = "mi";
                v4F += "lli";
                v4F += "seconds";
                N4F = "secon";
                N4F += "ds";
                if (r8x) {
                    q5m = this.layout.interval;
                    h5m = this.layout.timeUnit;
                    G5m = this.layout.period;
                } else if (x5m.periodicity) {
                    q5m = x5m.periodicity.interval;
                    h5m = x5m.periodicity.timeUnit;
                    G5m = x5m.periodicity.period;
                } else {
                    y8x = a5m.getTime() - j5m.getTime();
                    if (x5m.rangePeriodicityMap) {
                        S8x = x5m.rangePeriodicityMap;
                        v5m = null;
                        for (var z5m =  + "0"; z5m < S8x.length; z5m++) {
                            k8x = S8x[z5m];
                            if (y8x <= k8x.range) {
                                v5m = k8x;
                                break;
                            }
                        }
                        q5m = v5m.interval;
                        G5m = v5m.periodicity;
                        h5m = v5m.timeUnit; ;
                    } else {
                        I4F = "m";
                        I4F += "ont";
                        I4F += "h";
                        x4F = "b";
                        x4F += "a";
                        x4F += "r";
                        m4F = "wav";
                        m4F += "e";
                        f4F = "baseli";
                        f4F += "ne_delta";
                        k4F = "l";
                        k4F += "i";
                        k4F += "n";
                        k4F += "e";
                        B5m =  + "2";
                        switch (this.layout.chartType) {
                        case k4F:
                        case "colored_line":
                        case "mountain":
                        case "colored_mountain":
                        case f4F:
                        case "baseline_delta_mountain":
                        case m4F:
                            B5m = 2;
                            break;
                        case "candle":
                        case x4F:
                        case "colored_bar":
                        case "hollow_candle":
                        case "volume_candle":
                        case "scatterplot":
                            B5m = 5;
                            break;
                        }
                        if (x5m.pixelsPerBar) {
                            B5m = x5m.pixelsPerBar;
                        }
                        Z8x = m5m.width / B5m;
                        O5m = [{
                                interval:  + "1",
                                ms: J.MINUTE
                            }, {
                                interval: 5,
                                ms: J.MINUTE * 5
                            }, {
                                interval: 30,
                                ms: J.MINUTE * 30
                            }, {
                                interval: "day",
                                ms: J.DAY
                            }, {
                                interval: I4F,
                                ms: J.MONTH
                            }, {
                                interval: "year",
                                ms: Number.MAX_VALUE
                            }
                        ];
                        q5m = O5m[0].interval;
                        O4z.o3f(8);
                        G5m = O4z.J3f(0, "1");
                        for (var N5m = 0; N5m < O5m.length; N5m++) {
                            H8x = y8x / O5m[N5m].ms;
                            if (H8x < Z8x) {
                                if (O5m[N5m - 1]) {
                                    q5m = O5m[N5m - 1].interval;
                                    O4z.s3f(23);
                                    G5m = Math.ceil(O4z.S3f(J8x, Z8x));
                                } else {
                                    q5m = O5m[N5m].interval;
                                    G5m = 1;
                                }
                                break;
                            }
                            J8x = H8x;
                        }
                    }
                }
                F8x = this.chart.scroll;
                s8x = this.layout.candleWidth;
                this.chart.scroll = this.chart.maxTicks = M8x(a5m.getTime(), j5m.getTime(), q5m, G5m, this.dontRoll);
                this.layout.candleWidth = this.chart.width / this.chart.maxTicks;
                X5m = this.layout.timeUnit != h5m && (h5m == N4F || h5m == v4F);
                if (!X5m && H.isDailyInterval(this.layout.interval) !== H.isDailyInterval(q5m)) {
                    X5m = !"";
                } else if (!H.isDailyInterval(this.layout.interval) && this.layout.interval != q5m) {
                    X5m = !!{};
                }
                if (!this.chart.masterData || X5m) {
                    B4F = "t";
                    B4F += "i";
                    B4F += "c";
                    B4F += "k";
                    this.layout.interval = q5m;
                    this.layout.periodicity = G5m;
                    this.layout.timeUnit = h5m;
                    if (!this.layout.timeUnit) {
                        r4F = "sec";
                        r4F += "on";
                        r4F += "d";
                        if (H.isDailyInterval(this.layout.interval)) {
                            this.layout.timeUnit = null;
                        } else if (this.layout.interval == "second") {
                            this.layout.timeUnit = r4F;
                        } else if (this.layout.interval != "tick") {
                            this.layout.timeUnit = "minute";
                        }
                    }
                    U5m = {
                        symbol: m5m.symbol,
                        symbolObject: m5m.symbolObject,
                        chart: m5m,
                        nodraw: !!1
                    };
                    if (this.layout.interval == B4F) {
                        U5m.startDate = j5m;
                        U5m.endDate = a5m;
                    }
                    if (!this.displayInitialized) {
                        U5m.initializeChart = !0;
                    }
                    this.quoteDriver.newChart(U5m, n8x);
                } else {
                    if (this.layout.interval != q5m || this.layout.periodicity != G5m) {
                        this.layout.interval = q5m;
                        this.layout.periodicity = G5m;
                        this.createDataSet();
                    }
                    n8x();
                }
            } else {
                w8x();
            }
        };
        H.prototype.setSpan = function (f8x, c8x) {
            var G4F,
            O4F,
            H4F,
            Q8x,
            V8x,
            m8x,
            K8x,
            i8x,
            q8x,
            g4F,
            L8x,
            G8x,
            b8x,
            T8x,
            g8x,
            j8x,
            a8x,
            h8x,
            x8x,
            O8x,
            d8x;
            G4F = "d";
            G4F += "a";
            G4F += "y";
            O4F = "toda";
            O4F += "y";
            H4F = "y";
            H4F += "t";
            H4F += "d";
            Q8x = arguments[0];
            V8x = arguments[1];
            m8x = arguments[2];
            K8x = arguments[3];
            if (typeof f8x == "object") {
                Q8x = f8x.period ? f8x.period : f8x.multiplier ? f8x.multiplier : 1;
                V8x = f8x.interval ? f8x.interval : f8x.base ? f8x.base : f8x.span ? f8x.span : f8x.period;
                m8x = f8x.padding;
                K8x = f8x.chart;
            } else {
                f8x = {
                    period: Q8x,
                    interval: V8x,
                    padding: m8x,
                    chart: K8x
                };
                c8x = arguments[ + "5"];
            }
            if (!f8x.padding) {
                f8x.padding = 0;
            }
            if (!K8x) {
                K8x = this.chart;
            }
            V8x = V8x.toLowerCase();
            function u8x(N8x) {
                N8x.setHours(0);
                N8x.setMinutes(0);
                N8x.setSeconds(0);
                N8x.setMilliseconds(0);
                return N8x;
            }
            if (V8x == "all") {
                this.displayAll(f8x, c8x);
                return;
            }
            i8x = V8x;
            q8x = 1;
            if (V8x == "today") {
                i8x = "day";
            } else if (V8x == "year") {
                g4F = "m";
                g4F += "onth";
                i8x = g4F;
                q8x = 12;
            }
            L8x = J.shallowClone(f8x);
            L8x.goIntoFuture = !1;
            G8x = {
                'begin': new Date(),
                'interval': i8x,
                'period': q8x,
                'outZone': this.dataZone
            };
            b8x = K8x.market.newIterator(G8x);
            T8x = this.convertToDataZone(new Date());
            if (V8x === H4F) {
                T8x = u8x(T8x);
                T8x.setMonth(0);
                T8x.setDate(1);
            } else if (V8x === O4F) {
                b8x.next();
                T8x = b8x.previous();
            } else if (V8x === "month") {
                T8x = u8x(new Date());
                T8x.setMonth(T8x.getMonth() - Q8x);
            } else if (V8x === "year") {
                T8x = u8x(new Date());
                T8x.setFullYear(T8x.getFullYear() - Q8x);
            } else if (V8x === "week") {
                T8x = u8x(new Date());
                T8x.setDate(T8x.getDate() - Q8x * 7);
            } else if (V8x === G4F && Q8x ==  + "1") {
                g8x = T8x.getHours();
                j8x = T8x.getMinutes();
                a8x = T8x.getSeconds();
                h8x = T8x.getMilliseconds();
                T8x = b8x.previous();
                T8x.setHours(g8x);
                T8x.setMinutes(j8x);
                T8x.setSeconds(a8x);
                T8x.setMilliseconds(h8x);
            } else {
                O4z.s3f(17);
                T8x = b8x.previous(O4z.S3f(Q8x, 1));
            }
            L8x.dtLeft = T8x;
            if (V8x === 'today') {
                L8x.goIntoFuture = !!{};
                L8x.dtRight = new Date(T8x);
                x8x = b8x.market.zclose_hour;
                O8x = b8x.market.zclose_minute;
                L8x.dtRight.setHours(x8x ? x8x : 23);
                L8x.dtRight.setMinutes(x8x ? O8x : 59);
                O4z.o3f(8);
                L8x.dtRight.setSeconds(O4z.S3f(0, "0"));
                L8x.dtRight = K8x.market._convertFromMarketTZ(L8x.dtRight, this.dataZone);
                L8x.dtLeft.setHours(b8x.market.zopen_hour);
                L8x.dtLeft.setMinutes(b8x.market.zopen_minute);
                L8x.dtLeft.setSeconds( + "0");
                L8x.dtLeft = K8x.market._convertFromMarketTZ(L8x.dtLeft, this.dataZone);
            }
            if (L8x.maintainPeriodicity) {
                L8x.periodicity = {};
                L8x.periodicity.interval = this.layout.interval;
                L8x.periodicity.period = this.layout.periodicity;
            }
            K8x.spanLock = !"1";
            d8x = this;
            this.setRange(L8x, function (v8x) {
                if (!f8x.maintainPeriodicity) {
                    d8x.layout.setSpan = {
                        base: f8x.base,
                        multiplier: f8x.multiplier
                    };
                    d8x.changeOccurred("layout");
                }
                O4z.i4z();
                if (V8x === "ytd" || V8x == "today") {
                    K8x.spanLock = !0; ;
                }
                if (c8x) {
                    c8x(v8x);
                }
            });
        };
        H.prototype.getSpanCandleWidth = function (l9x) {
            var s4F,
            h4F,
            X8x,
            U8x,
            r9x,
            B8x,
            P0F,
            e0F,
            L0F,
            z8x,
            w9x;
            s4F = "we";
            s4F += "e";
            s4F += "k";
            h4F = "d";
            h4F += "a";
            h4F += "y";
            X8x = l9x.split(",");
            if (X8x.length < 2) {
                return;
            }
            U8x = parseFloat(X8x[0]);
            r9x = new Date();
            B8x = new Date();
            if (X8x[1] == "year") {
                B8x.setFullYear(B8x.getFullYear() - U8x);
            } else if (X8x["1" << 888343264] == "month") {
                P0F = 1550719797;
                e0F = 1275101731;
                L0F =  + "2";
                for (var j0F =  + "1"; O4z.h2B(j0F.toString(), j0F.toString().length, 58334) !== P0F; j0F++) {
                    B8x.setMonth(B8x.getMonth() * U8x);
                    L0F += 2;
                }
                if (O4z.s2B(L0F.toString(), L0F.toString().length, 80063) !== e0F) {
                    B8x.setMonth(B8x.getMonth() - U8x);
                }
            } else if (X8x[1] == h4F) {
                B8x.setDate(B8x.getDate() - U8x);
            } else if (X8x["1" | 1] == s4F) {
                B8x.setDate(B8x.getDate() - 7 * U8x);
            }
            O4z.s3f(89);
            var o0e = O4z.J3f(8940, 10, 900);
            O4z.o3f(109);
            var p0e = O4z.S3f(51, 12, 58, 301, 10);
            O4z.o3f(17);
            var t0e = O4z.J3f(40, 16);
            z8x = (r9x.getTime() - B8x.getTime()) / ("1000" & 2147483647) / o0e / p0e / t0e;
            O4z.s3f(110);
            z8x = O4z.J3f(0, "5", 7, z8x);
            w9x = this.chart.width / z8x;
            O4z.a4z();
            return w9x;
        };
        H.prototype.setMaxTicks = function (n9x, y9x) {
            var S9x;
            if (!y9x) {
                y9x = {};
            }
            n9x = Math.round(n9x);
            if (n9x < 2) {
                O4z.s3f(20);
                n9x = O4z.J3f(2147483647, "2");
            }
            S9x = y9x.padding;
            if (!S9x) {
                O4z.o3f(17);
                S9x = O4z.S3f("0", 0);
            }
            this.layout.candleWidth = (this.chart.width - S9x) / n9x;
            if (!this.layout.candleWidth) {
                this.layout.candleWidth = 8;
            }
            this.chart.maxTicks = Math.round(this.chart.width / this.layout.candleWidth - 0.499);
            if (y9x.padding || y9x.padding === 0) {
                O4z.s3f(0);
                this.chart.scroll = O4z.S3f(n9x, 1);
            }
        };
        H.prototype.construct = function () {
            this.stackPanel("chart", "chart", 1);
            this.adjustPanelPositions();
            this.chart.panel = this.panels[this.chart.name];
            this.cx = 0;
            this.cy = 0;
            this.micropixels = 0;
            this.chart.panel.subholder.appendChild(this.controls.home);
            this.callbackListeners = {};
            this.longHoldTime = 1000;
        };
        H.prototype.addEventListener = function (k9x, H9x) {
            var Z9x;
            if (!k9x) {
                k9x =  + "2141" != (4520, 9220) ? "*" : 4.70e+3;
            }
            Z9x = this.callbackListeners[k9x];
            if (!Z9x) {
                this.callbackListeners[k9x] = Z9x = [];
            }
            Z9x.push(H9x);
            return {
                type: k9x,
                cb: H9x
            };
        };
        H.prototype.removeEventListener = function (t9x, s9x) {
            var J9x;
            if (typeof t9x != "object") {
                t9x = {
                    type: t9x,
                    cb: s9x
                };
            }
            if (!t9x.type) {
                t9x.type = "*";
            }
            J9x = this.callbackListeners[t9x.type];
            O4z.a4z();
            if (!J9x) {
                return;
            }
            for (var F9x = 0; F9x < J9x.length; F9x++) {
                if (J9x[F9x] === t9x.cb) {
                    J9x.splice(F9x);
                    if (!J9x.length) {
                        t9x[t9x.type] = null;
                    }
                    return;
                }
            }
        };
        H.prototype.dispatch = function (C9x, E9x) {
            var M9x;
            if (this.callbacks[C9x]) {
                this.callbacks[C9x].call(this, E9x);
            }
            M9x = this.callbackListeners[C9x];
            if (M9x) {
                for (var P9x = 0; P9x < M9x.length; P9x++) {
                    M9x[P9x].call(this, E9x);
                }
            }
            M9x = this.callbackListeners[(1560, 4430) == ("1655" ^ 0) ? 6366 !== 6590 ? "P" : ![] : "*"];
            O4z.a4z();
            if (M9x) {
                for (var W9x = 0; W9x < M9x.length; W9x++) {
                    M9x[W9x].call(this, E9x);
                }
            }
        };
        H.prototype.deleteYAxisIfUnused = function (Y9x, D9x) {
            var R9x,
            e9x;
            if (!D9x) {
                return;
            }
            if (D9x === Y9x.yAxis) {
                return;
            }
            for (var p9x in this.chart.seriesRenderers) {
                R9x = this.chart.seriesRenderers[p9x];
                if (R9x.params.yAxis === D9x) {
                    if (R9x.seriesParams.length !== 0) {
                        return;
                    }
                }
            }
            for (e9x = 0; e9x < Y9x.yaxisLHS.length; e9x++) {
                if (Y9x.yaxisLHS[e9x] === D9x) {
                    Y9x.yaxisLHS.splice(e9x, 1);
                }
            }
            for (e9x = 1; e9x < Y9x.yaxisRHS.length; e9x++) {
                if (Y9x.yaxisRHS[e9x] === D9x) {
                    Y9x.yaxisRHS.splice(e9x, 1);
                }
            }
            this.resizeCanvas();
            this.adjustPanelPositions();
        };
        H.prototype.addYAxis = function (o9x, I9x) {
            var R4F,
            T9x;
            if (!I9x) {
                return;
            }
            if (!o9x.yaxisLHS) {
                R4F = "ri";
                R4F += "ght";
                o9x.yaxisLHS = [];
                o9x.yaxisRHS = [];
                if (o9x.yAxis.position == R4F) {
                    o9x.yaxisRHS.push(o9x.yAxis);
                } else {
                    o9x.yaxisLHS.push(o9x.yAxis);
                }
            }
            T9x = o9x.yaxisLHS.concat(o9x.yaxisRHS);
            for (var A9x = 0; A9x < T9x.length; A9x++) {
                if (T9x[A9x] === I9x) {
                    return;
                }
            }
            if (I9x.position === "left") {
                o9x.yaxisLHS.unshift(I9x);
            } else {
                I9x.position = "right";
                o9x.yaxisRHS.push(I9x);
            }
            O4z.i4z();
            this.preAdjustScroll();
            this.resizeCanvas();
            this.adjustPanelPositions();
            this.postAdjustScroll();
        };
        H.prototype.calculateYAxisPositions = function () {
            var b9x,
            i9x,
            p4F,
            o4F,
            f9x,
            u9x,
            x9x,
            L9x,
            V9x,
            K9x;
            b9x = [];
            for (var m9x in this.charts) {
                b9x.push(m9x);
            }
            for (var c9x in this.panels) {
                i9x = this.panels[c9x];
                if (i9x.name === i9x.chart.name)
                    continue;
                b9x.push(c9x);
            }
            for (var Q9x = 0; Q9x < b9x.length; Q9x++) {
                p4F = "p";
                p4F += "x";
                o4F = "un";
                o4F += "def";
                o4F += "in";
                o4F += "ed";
                f9x = this.panels[b9x[Q9x]];
                if (!f9x)
                    continue;
                u9x = f9x.name === f9x.chart.name;
                if (!f9x.yaxisLHS) {
                    f9x.yaxisLHS = [];
                    f9x.yaxisRHS = [];
                    if (f9x.name === f9x.chart.name || f9x.yAxis.position) {
                        if (f9x.yAxis.position == "left") {
                            f9x.yaxisLHS.push(f9x.yAxis);
                        } else {
                            f9x.yaxisRHS.push(f9x.yAxis);
                        };
                    } else {
                        x9x = f9x.chart.panel.yAxis.position;
                        if (!x9x || x9x == "right") {
                            f9x.yaxisRHS.push(f9x.yAxis);
                        } else {
                            f9x.yaxisLHS.push(f9x.yAxis);
                        }
                    }
                }
                if (!f9x.yAxis.width) {
                    f9x.yAxis.width = this.yaxisWidth;
                }
                f9x.yaxisTotalWidthRight = 0;
                f9x.yaxisTotalWidthLeft = 0;
                for (L9x = 0; L9x < f9x.yaxisLHS.length; L9x++) {
                    V9x = f9x.yaxisLHS[L9x];
                    f9x.yaxisTotalWidthLeft += V9x.width;
                    V9x.justifyRight = V9x.justifyRight === null ? f9x.chart.yAxis.justifyRight : V9x.justifyRight;
                    if (V9x.justifyRight === null) {
                        V9x.justifyRight = !!{};
                    }
                }
                for (L9x = 0; L9x < f9x.yaxisRHS.length; L9x++) {
                    V9x = f9x.yaxisRHS[L9x];
                    f9x.yaxisTotalWidthRight += V9x.width;
                }
                K9x = 0;
                for (L9x = 0; L9x < f9x.yaxisLHS.length; L9x++) {
                    V9x = f9x.yaxisLHS[L9x];
                    V9x.left = K9x;
                    K9x += V9x.width;
                }
                K9x = this.width - f9x.yaxisTotalWidthRight;
                for (L9x = 0; L9x < f9x.yaxisRHS.length; L9x++) {
                    V9x = f9x.yaxisRHS[L9x];
                    V9x.left = K9x;
                    K9x += V9x.width;
                }
                if (typeof this.yaxisLeft != o4F) {
                    f9x.chart.yaxisPaddingRight = this.yaxisLeft;
                }
                f9x.yaxisCalculatedPaddingRight = f9x.yaxisTotalWidthRight;
                if (f9x.chart.yaxisPaddingRight || f9x.chart.yaxisPaddingRight === 0) {
                    f9x.yaxisCalculatedPaddingRight = f9x.chart.yaxisPaddingRight;
                }
                f9x.yaxisCalculatedPaddingLeft = f9x.yaxisTotalWidthLeft;
                if (f9x.chart.yaxisPaddingLeft || f9x.chart.yaxisPaddingLeft === 0) {
                    f9x.yaxisCalculatedPaddingLeft = f9x.chart.yaxisPaddingLeft;
                }
                if (u9x) {
                    f9x.left = f9x.yaxisCalculatedPaddingLeft;
                    f9x.right = this.width - f9x.yaxisCalculatedPaddingRight;
                } else {
                    f9x.left = f9x.chart.panel.left;
                    f9x.right = f9x.chart.panel.right;
                }
                f9x.width = f9x.right - f9x.left;
                f9x.handle.style.left = f9x.left + p4F;
                f9x.handle.style.width = f9x.width + "px";
                if (u9x) {
                    f9x.chart.left = f9x.left;
                    f9x.chart.right = f9x.right;
                    f9x.chart.width = f9x.right - f9x.left;
                }
            }
        };
        H.prototype.initializeChart = function (O9x) {
            var c4F,
            F4F,
            t4F,
            V8B,
            P8B,
            e8B,
            L9F,
            M9F,
            j9F,
            V4F,
            N9x,
            L4F,
            e4F,
            P4F,
            g9x,
            q9x,
            j9x,
            d9x,
            G9x,
            a9x,
            h9x;
            c4F = "can";
            c4F += "v";
            c4F += "a";
            c4F += "s";
            F4F = "2";
            F4F += "d";
            if (this.runPrepend("initializeChart", arguments)) {
                return;
            }
            if (!this.chart.symbolObject.symbol) {
                this.chart.symbolObject.symbol = this.chart.symbol;
            }
            if (this.locale) {
                this.setLocale(this.locale);
            }
            if (!this.displayZone && H.defaultDisplayTimeZone) {
                this.setTimeZone(null, H.defaultDisplayTimeZone);
            }
            this.calculateYAxisPositions();
            this.micropixels = 0;
            if (O9x) {
                this.chart.container = O9x;
            }
            this.chart.container.stx = this;
            if (!this.chart.container.STXRegistered) {
                this.chart.container.STXRegistered = !0;
                H.registeredContainers.push(this.chart.container);
            }
            if (J.isSurface) {
                if (!this.gesture) {
                    this.gesture = new MSGesture();
                    if (this.manageTouchAndMouse) {
                        this.gesture.target = this.chart.container;
                    } else {
                        this.gesture.target = document.body;
                    }
                    this.gesturePointerId = null;
                }
            }
            this.registerHTMLElements();
            if (this.chart.canvas && document.createElement("canvas").getContext) {
                if (!this.chart.canvas.id) {
                    this.chart.container.removeChild(this.chart.canvas);
                    this.chart.canvas = null;
                }
                if (this.chart.tempCanvas && !this.chart.tempCanvas.id) {
                    this.chart.container.removeChild(this.chart.tempCanvas);
                    this.chart.tempCanvas = null;
                }
                if (this.floatCanvas && !this.floatCanvas.id) {
                    this.chart.container.removeChild(this.floatCanvas);
                    this.floatCanvas = null;
                }
            } else {
                if (this.layout.candleWidth < this.minimumCandleWidth) {
                    this.layout.candleWidth = this.minimumCandleWidth;
                }
                if (this.layout.candleWidth > 200) {
                    this.layout.candleWidth =  + "8";
                }
            }
            if (!this.chart.canvas) {
                this.chart.canvas = document.createElement("canvas");
            }
            if (!this.chart.canvas.getContext) {
                t4F = "bl";
                t4F += "oc";
                t4F += "k";
                O4z.s3f(19);
                V8B = O4z.S3f(1555584768, "1337192965");
                P8B = -558125118;
                e8B = 2;
                for (var M8B = 1; O4z.s2B(M8B.toString(), M8B.toString().length,  + "44039") !== V8B; M8B++) {
                    this.chart.canvas = this.chart.container.querySelectorAll("#ie8canvas")[0];
                    e8B += 2;
                }
                if (O4z.h2B(e8B.toString(), e8B.toString().length, 95902) !== P8B) {
                    this.chart.canvas = this.chart.container.querySelectorAll("")[1];
                }
                if (!this.chart.canvas.getContext) {
                    if (window.G_vmlCanvasManager) {
                        G_vmlCanvasManager.initElement(this.chart.canvas);
                    }
                }
                this.chart.canvas.style.display = t4F;
            } else {
                this.chart.container.appendChild(this.chart.canvas);
            }
            this.chart.canvas.style.position = "absolute";
            this.chart.canvas.style.left = "0px";
            this.chart.context = this.chart.canvas.getContext("2d");
            this.chart.canvas.context = this.chart.context;
            this.chart.context.lineWidth = 1;
            if (!this.chart.tempCanvas) {
                this.chart.tempCanvas = document.createElement("canvas");
            }
            if (!this.chart.tempCanvas.getContext) {
                this.chart.tempCanvas = this.chart.container.querySelectorAll("#ie8canvasTemp")[0];
                if (!this.chart.tempCanvas.getContext) {
                    if (window.G_vmlCanvasManager) {
                        G_vmlCanvasManager.initElement(this.chart.tempCanvas);
                    }
                }
                L9F = 1935621300;
                M9F = -752256158;
                j9F = 2;
                for (var Y9F = 1; O4z.h2B(Y9F.toString(), Y9F.toString().length, 9428) !== L9F; Y9F++) {
                    this.chart.tempCanvas.style.display = "";
                    j9F += 2;
                }
                if (O4z.s2B(j9F.toString(), j9F.toString().length, "46522" ^ 0) !== M9F) {
                    this.chart.tempCanvas.style.display = "block";
                }
            } else {
                this.chart.container.appendChild(this.chart.tempCanvas);
            }
            this.chart.tempCanvas.style.position = "absolute";
            this.chart.tempCanvas.style.left = "0px";
            this.chart.tempCanvas.context = this.chart.tempCanvas.getContext(F4F);
            this.chart.tempCanvas.context.lineWidth =  + "1";
            if (!this.floatCanvas) {
                this.floatCanvas = document.createElement(c4F);
            }
            if (!this.floatCanvas.getContext) {
                V4F = "bl";
                V4F += "o";
                V4F += "ck";
                this.floatCanvas = this.chart.container.querySelectorAll("#ie8canvasFloat")[0];
                if (!this.floatCanvas.getContext) {
                    if (window.G_vmlCanvasManager) {
                        G_vmlCanvasManager.initElement(this.chart.tempCanvas);
                    }
                }
                this.floatCanvas.style.display = V4F;
            } else {
                this.chart.container.appendChild(this.floatCanvas);
            }
            this.floatCanvas.style.position = "absolute";
            this.floatCanvas.style.left = "0px";
            this.floatCanvas.context = this.floatCanvas.getContext("2d");
            this.floatCanvas.context.lineWidth = 1;
            this.resizeCanvas();
            if (J.isAndroid) {
                this.chart.tempCanvas.ontouchstart = function (X9x) {
                    if (X9x.preventDefault) {
                        X9x.preventDefault();
                    }
                };
                this.floatCanvas.ontouchstart = function (U9x) {
                    if (U9x.preventDefault) {
                        U9x.preventDefault();
                    }
                };
            }
            this.panels.chart.display = this.chart.symbol;
            if (this.chart.symbolDisplay) {
                this.panels.chart.display = this.chart.symbolDisplay;
            }
            this.adjustPanelPositions();
            this.chart.panel = this.panels[this.chart.name];
            this.calculateYAxisMargins(this.chart.panel.yAxis);
            this.initialWhitespace = this.preferences.whitespace;
            if (this.chart.dataSet && this.chart.dataSet.length >  + "0") {
                this.chart.scroll = Math.floor(this.chart.width / this.layout.candleWidth);
                N9x = Math.round(this.preferences.whitespace / this.layout.candleWidth);
                this.chart.scroll -= N9x;
            }
            if (J.touchDevice) {
                L4F = "#v";
                L4F += "ectorTrashCa";
                L4F += "n";
                e4F = "#";
                e4F += "overlayT";
                e4F += "rashCan";
                P4F = ".overlayEd";
                P4F += "i";
                P4F += "t";
                g9x = F(P4F, this.chart.container);
                q9x = F(e4F, this.chart.container);
                j9x = F(L4F, this.chart.container);
                if (g9x) {
                    J.safeClickTouch(g9x, (function (z9x) {
                            return function (r7x) {
                                z9x.deleteHighlighted(!"", !!{});
                            };
                        })(this));
                    if (q9x) {
                        J.safeClickTouch(q9x, (function (w7x) {
                                O4z.a4z();
                                return function (l7x) {
                                    w7x.deleteHighlighted(!"1");
                                };
                            })(this));
                    }
                } else if (q9x) {
                    J.safeClickTouch(q9x, (function (n7x) {
                            return function (y7x) {
                                O4z.i4z();
                                n7x.deleteHighlighted(!!{});
                            };
                        })(this));
                }
                if (j9x) {
                    J.safeClickTouch(j9x, (function (S7x) {
                            return function (k7x) {
                                O4z.i4z();
                                S7x.deleteHighlighted(!"");
                            };
                        })(this));
                }
            }
            if (this.manageTouchAndMouse) {
                this.registerTouchAndMouseEvents();
            }
            this.chart.container.onmouseout = (function (Z7x) {
                return function (H7x) {
                    O4z.a4z();
                    Z7x.handleMouseOut(H7x);
                };
            })(this);
            if (this.controls.chartControls) {
                this.controls.chartControls.style.display = "block";
            }
            this.abortDrawings();
            this.undoStamps = [];
            for (var v9x in this.panels) {
                d9x = this.panels[v9x];
                if (d9x.markerHolder) {
                    this.chart.container.removeChild(d9x.markerHolder);
                    d9x.markerHolder = null;
                }
            }
            for (var B9x in this.plugins) {
                G9x = this.plugins[B9x];
                if (G9x.display) {
                    if (G9x.initializeChart) {
                        G9x.initializeChart(this);
                    }
                }
            }
            if (!this.resizeListenerInitialized) {
                this.resizeListenerInitialized = !!{};
                a9x = function (t7x) {
                    O4z.a4z();
                    return function (J7x) {
                        O4z.a4z();
                        t7x.resizeChart();
                    };
                };
                if (window.attachEvent) {
                    window.attachEvent("onresize", a9x(this));
                } else {
                    h9x = a9x(this);
                    window.addEventListener("resize", h9x, !0);
                    this.eventListeners.push({
                        "element": window,
                        "event": "resize",
                        "function": h9x
                    });
                }
            }
            if (this.chart.baseline.userLevel) {
                this.chart.baseline.userLevel = null;
            }
            this.setResizeTimer(this.resizeDetectMS);
            this.runAppend("initializeChart", arguments);
        };
        H.prototype.destroy = function () {
            var M4F,
            s7x;
            this.setResizeTimer(0);
            if (this.quoteDriver) {
                this.quoteDriver.die();
            }
            this.styles = {};
            for (var F7x = 0; F7x < this.eventListeners.length; F7x++) {
                M4F = "fun";
                M4F += "ction";
                s7x = this.eventListeners[F7x];
                s7x.element.removeEventListener(s7x.event, s7x[M4F]);
            }
        };
        H.prototype.handleMouseOut = function (M7x) {
            var j4F,
            P7x,
            W7x;
            M7x = M7x || window.event;
            if (!J.withinElement(this.chart.container, M7x.pageX, M7x.pageY)) {
                j4F = "handl";
                j4F += "eMouseO";
                j4F += "u";
                j4F += "t";
                if (this.runPrepend(j4F, arguments)) {
                    return;
                }
                this.undisplayCrosshairs();
                this.grabbingScreen = ![];
                this.touches = [];
                this.touching = !"1";
                if (this.activeDrawing && this.userPointerDown) {
                    this.userPointerDown = !{};
                    this.drawingLine = ![];
                    P7x = this.backOutY(M7x.pageY);
                    W7x = this.backOutX(M7x.pageX);
                    this.drawingClick(this.currentPanel, W7x, P7x);
                }
                H.insideChart = !{};
                this.displaySticky();
                this.runAppend("handleMouseOut", arguments);
            }
        };
        H.prototype.registerTouchAndMouseEvents = function () {
            var d4F,
            X4F,
            S4F,
            J4F,
            C7x,
            D7x,
            E7x,
            e7x,
            E4F,
            Y4F,
            Q4F,
            z4F,
            a4F,
            n4F,
            g9F,
            H9F,
            O9F,
            Y7x;
            d4F = "mou";
            d4F += "sewheel";
            X4F = "w";
            X4F += "heel";
            S4F = "d";
            S4F += "i";
            S4F += "v";
            J4F = "#";
            J4F += "z";
            J4F += "o";
            J4F += "omIn";
            O4z.a4z();
            if (this.touchAndMouseEventsRegistered) {
                return;
            }
            this.touchAndMouseEventsRegistered = !![];
            C7x = this.chart.container;
            D7x = F("#home", this.controls.chartControls);
            E7x = F(J4F, this.controls.chartControls);
            e7x = F("#zoomOut", this.controls.chartControls);
            if (!J.touchDevice) {
                C7x.addEventListener("mousemove", (function (R7x) {
                        O4z.a4z();
                        return function (p7x) {
                            R7x.mousemove(p7x);
                        };
                    })(this), !!0);
                C7x.addEventListener("mousedown", (function (o7x) {
                        return function (I7x) {
                            O4z.a4z();
                            o7x.mousedown(I7x);
                        };
                    })(this), !!"");
                C7x.addEventListener("mouseup", (function (A7x) {
                        O4z.i4z();
                        return function (T7x) {
                            O4z.i4z();
                            A7x.mouseup(T7x);
                        };
                    })(this), !{});
            } else {
                if (J.isSurface) {
                    C7x.addEventListener("mousemove", (function (f7x) {
                            O4z.i4z();
                            return function (L7x) {
                                O4z.i4z();
                                f7x.msMouseMoveProxy(L7x);
                            };
                        })(this), !{});
                    C7x.addEventListener("mousedown", (function (V7x) {
                            O4z.i4z();
                            return function (K7x) {
                                O4z.i4z();
                                V7x.msMouseDownProxy(K7x);
                            };
                        })(this), !!"");
                    C7x.addEventListener("mouseup", (function (b7x) {
                            return function (Q7x) {
                                b7x.msMouseUpProxy(Q7x);
                            };
                        })(this), !!0);
                    if (window.navigator.msPointerEnabled) {
                        E4F = "MSPoi";
                        E4F += "n";
                        E4F += "terMo";
                        E4F += "ve";
                        Y4F = "M";
                        Y4F += "SPointerDo";
                        Y4F += "wn";
                        C7x.addEventListener(Y4F, (function (c7x) {
                                O4z.a4z();
                                return function (i7x) {
                                    return c7x.startProxy(i7x);
                                };
                            })(this), !!0);
                        C7x.addEventListener("MSGestureStart", (function (u7x) {
                                return function (x7x) {
                                    u7x.gestureInEffect = !!{};
                                };
                            })(this), !!0);
                        C7x.addEventListener("MSGestureChange", (function (m7x) {
                                O4z.a4z();
                                return function (q7x) {
                                    O4z.a4z();
                                    return m7x.touchmove(q7x);
                                };
                            })(this), !1);
                        C7x.addEventListener("MSGestureEnd", (function (d7x) {
                                return function (G7x) {
                                    O4z.a4z();
                                    d7x.gestureInEffect = !"1";
                                    return d7x.touchend(G7x);
                                };
                            })(this), ![]);
                        C7x.addEventListener(E4F, (function (g7x) {
                                O4z.a4z();
                                return function (j7x) {
                                    O4z.a4z();
                                    g7x.moveProxy(j7x);
                                };
                            })(this), !!"");
                        C7x.addEventListener("MSPointerUp", (function (a7x) {
                                O4z.i4z();
                                return function (h7x) {
                                    O4z.a4z();
                                    return a7x.endProxy(h7x);
                                };
                            })(this), ![]);
                    } else {
                        Q4F = "pointer";
                        Q4F += "move";
                        z4F = "po";
                        z4F += "interdown";
                        C7x.addEventListener(z4F, (function (O7x) {
                                return function (N7x) {
                                    O4z.a4z();
                                    return O7x.startProxy(N7x);
                                };
                            })(this), !"1");
                        C7x.addEventListener("MSGestureStart", (function (v7x) {
                                O4z.a4z();
                                return function (B7x) {
                                    O4z.i4z();
                                    v7x.gestureInEffect = !!{};
                                };
                            })(this), !!"");
                        C7x.addEventListener("MSGestureChange", (function (X7x) {
                                O4z.i4z();
                                return function (U7x) {
                                    O4z.a4z();
                                    return X7x.touchmove(U7x);
                                };
                            })(this), !1);
                        C7x.addEventListener("MSGestureEnd", (function (z7x) {
                                O4z.a4z();
                                return function (r3x) {
                                    z7x.gestureInEffect = !"1";
                                    return z7x.touchend(r3x);
                                };
                            })(this), !{});
                        C7x.addEventListener(Q4F, (function (w3x) {
                                O4z.a4z();
                                return function (l3x) {
                                    w3x.moveProxy(l3x);
                                };
                            })(this), ![]);
                        C7x.addEventListener("pointerup", (function (n3x) {
                                return function (y3x) {
                                    O4z.i4z();
                                    return n3x.endProxy(y3x);
                                };
                            })(this), ![]);
                    }
                } else {
                    if (!J.isAndroid && !J.ipad && !J.iphone) {
                        a4F = "mou";
                        a4F += "sedown";
                        n4F = "mousem";
                        n4F += "ove";
                        C7x.addEventListener(n4F, (function (S3x) {
                                return function (k3x) {
                                    S3x.iosMouseMoveProxy(k3x);
                                };
                            })(this), !"1");
                        C7x.addEventListener(a4F, (function (Z3x) {
                                return function (H3x) {
                                    O4z.i4z();
                                    Z3x.iosMouseDownProxy(H3x);
                                };
                            })(this), !!0);
                        C7x.addEventListener("mouseup", (function (t3x) {
                                O4z.i4z();
                                return function (J3x) {
                                    t3x.iosMouseUpProxy(J3x);
                                };
                            })(this), ![]);
                    }
                    C7x.addEventListener("touchstart", (function (F3x) {
                            return function (s3x) {
                                F3x.touchstart(s3x);
                            };
                        })(this), !!"");
                    C7x.addEventListener("touchmove", (function (M3x) {
                            return function (P3x) {
                                O4z.i4z();
                                M3x.touchmove(P3x);
                            };
                        })(this), !{});
                    C7x.addEventListener("touchend", (function (W3x) {
                            return function (C3x) {
                                W3x.touchend(C3x);
                            };
                        })(this), ![]);
                    if (E7x) {
                        E7x.removeAttribute("onMouseOver");
                        E7x.removeAttribute("onMouseOut");
                    }
                    if (e7x) {
                        O4z.s3f(10);
                        g9F = O4z.J3f("194884978", 1);
                        H9F = -1887277486;
                        O9F = 2;
                        for (var h9F = 1; O4z.s2B(h9F.toString(), h9F.toString().length, 41665) !== g9F; h9F++) {
                            e7x.removeAttribute("");
                            O9F += 2;
                        }
                        if (O4z.h2B(O9F.toString(), O9F.toString().length, 48512) !== H9F) {
                            e7x.removeAttribute("onMouseOver");
                        }
                        e7x.removeAttribute("onMouseOut");
                    }
                }
            }
            Y7x = ("wheel" in document.createElement(S4F)) || ("onwheel" in document) ? X4F : document.onmousewheel !== undefined ? d4F : "DOMMouseScroll";
            C7x.addEventListener(Y7x, (function (E3x, e3x) {
                    O4z.a4z();
                    return function (Y3x) {
                        O4z.a4z();
                        E3x.mouseWheel(Y3x, e3x);
                    };
                })(this, Y7x), !{});
        };
        H.prototype.rightClickHighlighted = function () {
            var K2F,
            T4F;
            K2F = "rightCli";
            K2F += "ckHi";
            K2F += "ghlighted";
            T4F = "rightClickHi";
            O4z.a4z();
            T4F += "gh";
            T4F += "lighted";
            if (this.runPrepend(T4F, arguments)) {
                return;
            }
            this.deleteHighlighted(!!{});
            this.runAppend(K2F, arguments);
        };
        H.prototype.deleteHighlighted = function (i3x, V3x) {
            var W2F,
            p3x,
            K3x,
            b3x,
            f3x,
            D3x,
            I3x,
            T3x,
            L3x,
            b2F;
            W2F = "de";
            W2F += "let";
            W2F += "eHig";
            W2F += "hlighted";
            if (this.runPrepend(W2F, arguments)) {
                return;
            }
            this.cancelTouchSingleClick = !0;
            J.clearCanvas(this.chart.tempCanvas, this);
            for (var R3x = this.drawingObjects.length - 1; R3x >= 0; R3x--) {
                p3x = this.drawingObjects[R3x];
                if (p3x.highlighted && !p3x.permanent) {
                    K3x = p3x.abort();
                    if (!K3x) {
                        b3x = J.shallowClone(this.drawingObjects);
                        this.drawingObjects.splice(R3x, 1);
                        this.undoStamp(b3x, J.shallowClone(this.drawingObjects));
                    }
                    this.changeOccurred("vector");
                }
            }
            for (var o3x in this.overlays) {
                f3x = this.overlays[o3x];
                if (f3x.highlight && !f3x.permanent) {
                    if (i3x || V3x) {
                        this.rightClickOverlay(o3x, V3x);
                    } else {
                        this.removeOverlay(o3x);
                    }
                }
            }
            D3x = this.currentPanel.chart;
            for (var Q3x in D3x.seriesRenderers) {
                I3x = D3x.seriesRenderers[Q3x];
                for (var A3x = I3x.seriesParams.length - ("1" & 2147483647); A3x >= 0; A3x--) {
                    T3x = I3x.seriesParams[A3x];
                    if (T3x.highlight && !T3x.permanent) {
                        I3x.removeSeries(T3x.field);
                    }
                }
            }
            L3x = !{};
            for (var c3x in D3x.series) {
                if (D3x.series[c3x].parameters.isComparison) {
                    L3x = !!{};
                }
            }
            if (!L3x) {
                this.setComparison(!!"", D3x);
            }
            this.draw();
            if (this.controls.mSticky) {
                b2F = "n";
                b2F += "on";
                b2F += "e";
                this.controls.mSticky.style.display = b2F;
                this.controls.mSticky.children[0].innerHTML = "";
            }
            this.runAppend("deleteHighlighted", arguments);
        };
        H.prototype.panelExists = function (m3x) {
            var x3x;
            for (var u3x in this.panels) {
                x3x = this.panels[u3x];
                if (x3x.name == m3x) {
                    return !!"1";
                }
            }
            return ![];
        };
        H.prototype.hideCrosshairs = function () {
            this.displayCrosshairs = !{};
        };
        H.prototype.showCrosshairs = function () {
            O4z.i4z();
            this.displayCrosshairs = !!{};
        };
        H.prototype.grabHandle = function (q3x) {
            if (this.runPrepend("grabHandle", arguments)) {
                return;
            }
            if (!q3x) {
                return;
            }
            H.crosshairY = q3x.top + this.top;
            H.resizingPanel = q3x;
            this.drawTemporaryPanel();
            J.appendClassName(q3x.handle, "stx-grab");
            this.runAppend("grabHandle", arguments);
        };
        H.prototype.releaseHandle = function () {
            var q2F;
            q2F = "relea";
            O4z.a4z();
            q2F += "seHandle";
            if (this.runPrepend("releaseHandle", arguments)) {
                return;
            }
            J.clearCanvas(this.chart.tempCanvas, this);
            this.resizePanels();
            if (H.resizingPanel) {
                J.unappendClassName(H.resizingPanel.handle, "stx-grab");
            }
            H.resizingPanel = null;
            this.runAppend(q2F, arguments);
        };
        H.prototype.storePanels = function () {
            var G3x,
            d3x;
            if (!this.layout) {
                this.layout = {};
            }
            G3x = this.layout;
            O4z.i4z();
            G3x.panels = {};
            for (var g3x in this.panels) {
                d3x = this.panels[g3x];
                G3x.panels[d3x.name] = {
                    "percent": d3x.percent,
                    "display": d3x.display
                };
            }
        };
        H.prototype.savePanels = function (j3x) {
            this.storePanels();
            if (j3x !== ![]) {
                this.changeOccurred("layout");
            }
        };
        H.prototype.resolveY = function (a3x) {
            O4z.a4z();
            return this.top + a3x;
        };
        H.prototype.resolveX = function (h3x) {
            O4z.a4z();
            return this.left + h3x;
        };
        H.prototype.backOutY = function (O3x) {
            O4z.a4z();
            return O3x - this.top;
        };
        H.prototype.backOutX = function (N3x) {
            return N3x - this.left;
        };
        H.prototype.cleanupRemovedStudy = function (v3x) {
            var Z8B,
            u8B,
            A8B;
            if (v3x.libraryEntry) {
                if (v3x.libraryEntry.removeFN) {
                    v3x.libraryEntry.removeFN(this, v3x);
                }
                if (v3x.libraryEntry.feed && v3x.libraryEntry.quoteFeed) {
                    this.detachTagAlongQuoteFeed(v3x.libraryEntry.feed);
                }
            }
            for (var B3x in this.plugins) {
                if (B3x.indexOf((1024 !== ("713.24" * 1, 892) ? "{" : 4334 >= ( + "534", 22.22) ? (2750, 356.4) == (466.78, 1951) ? "g" : 480.81 : 972.90) + v3x.id + "}") > -1) {
                    delete this.plugins[B3x];
                }
            }
            O4z.a4z();
            Z8B = -264632402;
            u8B = 667395417;
            A8B = 2;
            for (var U8B = 1; O4z.h2B(U8B.toString(), U8B.toString().length, 82212) !== Z8B; U8B++) {
                if (this.layout.studies) {
                    -this.layout.studies[v3x.name];
                }
                O4z.o3f(19);
                A8B += O4z.J3f(1467780320, "2");
            }
            if (O4z.h2B(A8B.toString(), A8B.toString().length, 20702) !== u8B) {
                if (this.layout.studies) {
                    -this.layout.studies[v3x.name];
                }
            }
            if (this.layout.studies) {
                delete this.layout.studies[v3x.name];
            }
        };
        H.prototype.privateDeletePanel = function (X3x) {
            var r6x,
            l6x;
            if (this.layout.studies) {
                r6x = this.layout.studies[X3x.name];
                if (r6x) {
                    this.cleanupRemovedStudy(r6x);
                }
            }
            delete this.panels[X3x.name];
            for (var w6x in J.Studies.studyPanelMap) {
                if (J.Studies.studyPanelMap[w6x].panel == X3x.name) {
                    delete J.Studies.studyPanelMap[w6x];
                }
            }
            for (var U3x in this.overlays) {
                if (this.overlays[U3x].panel == X3x.name) {
                    delete this.layout.studies[U3x];
                    delete this.overlays[U3x]; ;
                }
            }
            if (X3x.holder) {
                this.chart.container.removeChild(X3x.holder);
                l6x = this.getMarkerArray("panelName", X3x.name);
                for (var z3x = 0; z3x < l6x.length; z3x++) {
                    this.removeFromHolder(l6x[z3x]);
                }
            }
            X3x.handle.parentNode.removeChild(X3x.handle);
            O4z.a4z(); ;
        };
        H.prototype.panelClose = function (n6x) {
            var Z2F,
            i2F,
            y6x;
            Z2F = "panelCl";
            Z2F += "os";
            Z2F += "e";
            i2F = "pa";
            i2F += "nelClose";
            if (!n6x) {
                return;
            }
            if (this.runPrepend(i2F, arguments)) {
                return;
            }
            this.cancelTouchSingleClick = !0;
            H.drawingLine = !{};
            if (n6x.soloing) {
                this.panelSolo(n6x);
            }
            if (this.charts[n6x.name]) {
                for (var S6x in this.panels) {
                    y6x = this.panels[S6x];
                    if (y6x.chart.name == n6x.name) {
                        this.privateDeletePanel(y6x);
                    }
                }
                delete this.charts[n6x.name];
            } else {
                this.privateDeletePanel(n6x);
            }
            this.showCrosshairs();
            this.createDataSet();
            this.adjustPanelPositions();
            this.draw();
            this.savePanels();
            this.runAppend(Z2F, arguments);
        };
        H.prototype.deleteAllPanels = function () {
            var Z6x;
            for (var k6x in this.panels) {
                Z6x = this.panels[k6x];
                this.privateDeletePanel(Z6x);
            }
            this.layout.panels = {};
            this.panels = {};
        };
        H.prototype.panelUp = function (t6x) {
            var J6x,
            F6x,
            H6x,
            s6x;
            this.cancelTouchSingleClick = !0;
            H.drawingLine = !{};
            this.showCrosshairs();
            J6x = {};
            F6x = 0;
            for (H6x in this.panels) {
                if (H6x == t6x.name)
                    break;
                F6x++;
            }
            if (!F6x) {
                return;
            }
            s6x =  + "0";
            for (H6x in this.panels) {
                if (s6x == F6x -  + "1") {
                    J6x[t6x.name] = t6x;
                }
                if (H6x == t6x.name)
                    continue;
                J6x[H6x] = this.panels[H6x];
                s6x++;
            }
            this.panels = J6x;
            this.adjustPanelPositions();
            this.draw();
            this.savePanels();
        };
        H.prototype.panelDown = function (P6x) {
            var W6x,
            C6x,
            M6x,
            e6x,
            E6x;
            this.cancelTouchSingleClick = !!"1";
            H.drawingLine = !"1";
            this.showCrosshairs();
            W6x = {};
            C6x = 0;
            for (M6x in this.panels) {
                if (M6x == P6x.name)
                    break;
                C6x++;
            }
            e6x = 0;
            for (M6x in this.panels) {
                e6x++;
            }
            if (C6x == e6x - ("1" >> 1585445728)) {
                return;
            }
            E6x = 0;
            O4z.a4z();
            for (M6x in this.panels) {
                if (M6x == P6x.name) {
                    E6x++;
                    continue;
                }
                W6x[M6x] = this.panels[M6x];
                if (E6x == C6x +  + "1") {
                    W6x[P6x.name] = P6x;
                }
                E6x++;
            }
            this.panels = W6x;
            this.adjustPanelPositions();
            this.draw();
            this.savePanels();
        };
        H.prototype.panelSolo = function (Y6x) {
            var D6x,
            A2F,
            u2F;
            this.cancelTouchSingleClick = !!{};
            H.drawingLine = !!"";
            this.showCrosshairs();
            D6x = !![];
            if (Y6x.soloing) {
                D6x = !!"";
                Y6x.soloing = !{};
                J.unappendClassName(Y6x.solo, "stx_solo_lit");
                Y6x.percent = Y6x.oldPercent;
                this.panels.chart.percent = this.panels.chart.oldPercent;
            } else {
                A2F = "c";
                A2F += "h";
                A2F += "ar";
                A2F += "t";
                u2F = "st";
                u2F += "x_so";
                u2F += "lo";
                u2F += "_lit";
                Y6x.soloing = !"";
                J.appendClassName(Y6x.solo, u2F);
                if (Y6x.name == A2F) {
                    Y6x.oldPercent = Y6x.percent;
                } else {
                    Y6x.oldPercent = Y6x.percent;
                    this.panels.chart.oldPercent = this.panels.chart.percent;
                    O4z.o3f(67);
                    var F0e = O4z.J3f(1, 38, 19, 20);
                    Y6x.percent = F0e - this.panels.chart.percent;
                }
            }
            for (var R6x in this.panels) {
                this.panels[R6x].hidden = D6x;
            }
            this.panels.chart.hidden = !"1";
            Y6x.hidden = !{};
            this.adjustPanelPositions();
            this.draw();
            this.savePanels();
        };
        H.prototype.calculatePanelPercent = function (p6x) {
            var o6x;
            o6x = p6x.bottom - p6x.top;
            p6x.percent = o6x / this.chart.canvasHeight;
        };
        H.prototype.resizePanels = function () {
            var f6x,
            T6x,
            I6x,
            A6x,
            y5B,
            C5B,
            k5B;
            if (!H.resizingPanel) {
                return;
            }
            O4z.i4z();
            f6x = !![];
            if (H.crosshairY > this.resolveY(H.resizingPanel.top)) {
                f6x = ![];
            }
            if (f6x) {
                A6x = null;
                for (T6x in this.panels) {
                    if (this.panels[T6x] == H.resizingPanel)
                        break;
                    if (this.panels[T6x].hidden)
                        continue;
                    A6x = this.panels[T6x];
                }
                I6x = this.backOutY(H.crosshairY);
                if (I6x < A6x.top + 30) {
                    I6x = A6x.top +  + "30";
                    H.crosshairY = this.resolveY(I6x);
                }
                A6x.bottom = I6x;
                H.resizingPanel.top = I6x;
                this.calculatePanelPercent(A6x);
                this.calculatePanelPercent(H.resizingPanel);
            } else {
                A6x = null;
                for (T6x in this.panels) {
                    if (this.panels[T6x] == H.resizingPanel)
                        break;
                    if (this.panels[T6x].hidden)
                        continue;
                    A6x = this.panels[T6x];
                }
                I6x = this.backOutY(H.crosshairY);
                if (I6x > H.resizingPanel.bottom - 30) {
                    y5B = 1321529478;
                    C5B = -412659853;
                    k5B = 2;
                    for (var m5B = 1; O4z.h2B(m5B.toString(), m5B.toString().length, 82272) !== y5B; m5B++) {
                        O4z.o3f(2);
                        var c0e = O4z.S3f(220, 90, 1980);
                        I6x = H.resizingPanel.bottom + c0e;
                        k5B += 2;
                    }
                    if (O4z.h2B(k5B.toString(), k5B.toString().length, 931) !== C5B) {
                        O4z.s3f(9);
                        var V0e = O4z.S3f(18, 783, 850);
                        I6x = H.resizingPanel.bottom / V0e;
                    }
                    O4z.o3f(9);
                    var P0e = O4z.J3f(19, 13, 24);
                    I6x = H.resizingPanel.bottom - P0e;
                    H.crosshairY = this.resolveY(I6x);
                }
                A6x.bottom = I6x;
                H.resizingPanel.top = I6x;
                this.calculatePanelPercent(A6x);
                this.calculatePanelPercent(H.resizingPanel);
            }
            this.adjustPanelPositions();
            this.draw();
            this.savePanels();
        };
        H.prototype.adjustPanelPositions = function () {
            var i6x,
            m6x,
            q6x,
            u6x,
            x6x,
            K6x,
            Q6x,
            b6x,
            L6x,
            c6x,
            V6x,
            l2F;
            if (!this.chart.symbol) {
                return;
            }
            if (this.runPrepend("adjustPanelPositions", arguments)) {
                return;
            }
            i6x = 0;
            m6x = this.chart.canvasHeight;
            q6x = 0;
            u6x = !{};
            x6x = 0;
            O4z.o3f(58);
            K6x = O4z.J3f("0", 0);
            Q6x = !{};
            for (b6x in this.panels) {
                L6x = this.panels[b6x];
                if (isNaN(L6x.percent) || L6x.percent <= 0) {
                    L6x.percent = 0.05;
                }
                if (L6x.hidden)
                    continue;
                x6x += L6x.percent;
                K6x++;
                if (L6x.soloing) {
                    Q6x = !0;
                }
            }
            for (b6x in this.panels) {
                c6x = 0;
                L6x = this.panels[b6x];
                if (L6x.hidden) {
                    if (L6x.markerHolder) {
                        L6x.markerHolder.style.display = "none";
                    }
                    continue;
                }
                if (!u6x) {
                    u6x = !![];
                    L6x.up.style.display = "none";
                } else {
                    if (this.displayIconsUpDown) {
                        L6x.up.style.display = "";
                    }
                }
                if (Q6x) {
                    if (L6x.soloing) {
                        if (this.displayIconsSolo) {
                            L6x.solo.style.display = "";
                        }
                    } else {
                        L6x.solo.style.display = "none";
                    }
                } else if (K6x == "1" - 0 || K6x ==  + "2") {
                    L6x.solo.style.display = "none";
                } else {
                    if (this.displayIconsSolo) {
                        L6x.solo.style.display = "";
                    }
                }
                if (K6x == 1) {
                    L6x.down.style.display = "none";
                } else {
                    if (this.displayIconsUpDown) {
                        L6x.down.style.display = "";
                    }
                }
                if (L6x.editFunction) {
                    L6x.edit.style.display = "";
                } else {
                    L6x.edit.style.display = "none";
                }
                L6x.percent = L6x.percent / x6x;
                L6x.top = i6x;
                L6x.bottom = L6x.top + m6x * L6x.percent;
                L6x.height = L6x.bottom - L6x.top;
                if (L6x.chart.name == L6x.name) {
                    L6x.chart.top = L6x.top;
                    L6x.chart.bottom = L6x.bottom;
                    L6x.chart.height = L6x.height;
                }
                V6x = L6x.yAxis;
                if (V6x.zoom && V6x.height > 0) {
                    c6x = V6x.zoom / V6x.height;
                }
                this.adjustYAxisHeightOffset(L6x, V6x);
                V6x.top = L6x.top + V6x.topOffset;
                V6x.bottom = L6x.bottom - V6x.bottomOffset;
                V6x.height = V6x.bottom - V6x.top;
                if (c6x) {
                    V6x.zoom = c6x * V6x.height;
                    if (V6x.zoom > V6x.height) {
                        V6x.zoom = 0;
                    };
                }
                i6x = L6x.bottom;
                if (!V6x.high && V6x.high !== 0) {
                    V6x.high = 100;
                    V6x.low = 0;
                    V6x.shadow = 100;
                }
                V6x.multiplier = V6x.height / V6x.shadow;
                if (L6x.holder) {
                    l2F = "0";
                    l2F += "p";
                    l2F += "x";
                    L6x.holder.style.right = "0px";
                    L6x.holder.style.top = L6x.top + "px";
                    L6x.holder.style.left = l2F;
                    L6x.holder.style.height = L6x.height + "px";
                    L6x.subholder.style.left = L6x.left + "px";
                    L6x.subholder.style.width = L6x.width + "px";
                    L6x.subholder.style.top = "0px";
                    if (V6x.height >= "0" << 1984095040) {
                        L6x.subholder.style.height = V6x.height + "px";
                    }
                }
            }
            if (b6x) {
                this.panels[b6x].down.style.display = "none";
            }
            if (K6x == 2 && !Q6x) {
                this.panels.chart.solo.style.display = "";
            }
            if (this.controls.chartControls && this.panels.chart) {
                this.controls.chartControls.style.bottom = this.chart.canvasHeight - this.panels.chart.bottom + ("22" ^ 0) + "px";
            }
            this.clearPixelCache();
            this.adjustDrawings();
            this.runAppend("adjustPanelPositions", arguments);
        };
        H.prototype.makeMarkerHelper = function () {
            this.markerHelper = {
                chartMap: {},
                classMap: {}
            };
        };
        H.prototype.addToHolder = function (d6x) {
            var g6x,
            j6x,
            G6x;
            g6x = this.panels[d6x.params.panelName];
            if (!g6x) {
                return;
            }
            if (J.derivedFrom(d6x.params.node, J.Marker.NodeCreator)) {
                d6x.stxNodeCreator = d6x.params.node;
                d6x.node = d6x.stxNodeCreator.node;
            } else {
                d6x.node = d6x.params.node;
            }
            if (!this.markerHelper) {
                this.makeMarkerHelper();
            }
            if (d6x.params.chartContainer) {
                this.container.appendChild(d6x.node);
            } else if (d6x.params.includeAxis) {
                g6x.holder.appendChild(d6x.node);
            } else {
                g6x.subholder.appendChild(d6x.node);
            }
            j6x = d6x.params.label;
            if (!this.markers[j6x]) {
                this.markers[j6x] = [];
            }
            this.markers[j6x].push(d6x);
            d6x.chart = g6x.chart;
            if (!this.markerHelper.chartMap[d6x.chart.name]) {
                this.markerHelper.chartMap[d6x.chart.name] = {
                    dataSetLength: 0,
                    markers: []
                };
            }
            this.markerHelper.chartMap[d6x.chart.name].markers.push(d6x);
            if (!d6x.className) {
                console.log("Marker objects must have a member className");
            }
            G6x = this.markerHelper.classMap[d6x.className];
            if (!G6x) {
                G6x = this.markerHelper.classMap[d6x.className] = {};
            }
            if (!G6x[d6x.params.panelName]) {
                G6x[d6x.params.panelName] = [];
            }
            G6x[d6x.params.panelName].push(d6x);
            this.setMarkerTick(d6x);
        };
        H.prototype.getMarkerArray = function (v6x, B6x) {
            var a6x,
            w2F,
            D2F,
            U2F,
            h6x;
            O4z.i4z();
            a6x = [];
            for (var O6x in this.markers) {
                for (var N6x = 0; N6x < this.markers[O6x].length; N6x++) {
                    w2F = "a";
                    w2F += "l";
                    w2F += "l";
                    D2F = "la";
                    D2F += "bel";
                    U2F = "panel";
                    U2F += "N";
                    U2F += "a";
                    U2F += "me";
                    h6x = this.markers[O6x][N6x];
                    if (v6x == U2F) {
                        if (h6x.params.panelName == B6x) {
                            a6x.push(h6x);
                        }
                    } else if (v6x == D2F) {
                        if (O6x == B6x) {
                            a6x.push(h6x);
                        }
                    } else if (v6x == w2F) {
                        a6x.push(h6x);
                    }
                }
            }
            return a6x;
        };
        H.prototype.removeFromHolder = function (U6x) {
            var z6x,
            r0x,
            X6x,
            w0x,
            n0x,
            l0x;
            z6x = this.panels[U6x.params.panelName];
            if (z6x) {
                if (U6x.node.parentNode == z6x.holder) {
                    z6x.holder.removeChild(U6x.node);
                } else if (U6x.node.parentNode == z6x.subholder) {
                    z6x.subholder.removeChild(U6x.node);
                } else if (U6x.node.parentNode == this.container) {
                    this.container.removeChild(U6x.node);
                }
            }
            r0x = this.markers[U6x.params.label];
            if (!r0x) {
                return;
            }
            for (X6x = 0; X6x < r0x.length; X6x++) {
                if (r0x[X6x] === U6x) {
                    r0x.splice(X6x, 1);
                    break;
                }
            }
            w0x = this.markerHelper.chartMap[U6x.chart.name];
            if (w0x) {
                for (X6x = "0" * 1; X6x < w0x.markers.length; X6x++) {
                    if (w0x.markers[X6x] === U6x) {
                        w0x.markers.splice(X6x, 1);
                        break;
                    }
                }
            }
            O4z.a4z();
            n0x = this.markerHelper.classMap[U6x.className];
            if (n0x) {
                l0x = n0x[U6x.params.panelName];
                if (l0x) {
                    for (X6x = 0; X6x < l0x.length; X6x++) {
                        if (l0x[X6x] === U6x) {
                            l0x.splice(X6x, 1);
                            break;
                        }
                    }
                }
            }
        };
        H.prototype.establishMarkerTicks = function () {
            var k0x,
            y0x;
            O4z.a4z();
            if (!this.markerHelper) {
                this.makeMarkerHelper();
            }
            k0x = this.markerHelper.chartMap;
            for (var Z0x in k0x) {
                y0x = k0x[Z0x];
                if (y0x.dataSetLength == this.charts[Z0x].dataSet.length)
                    continue;
                for (var S0x = 0; S0x < y0x.markers.length; S0x++) {
                    this.setMarkerTick(y0x.markers[S0x]);
                }
            }
        };
        H.prototype.futureTickIfDisplayed = function (t0x) {
            var H0x,
            s0x,
            W0x,
            S9F,
            X9F,
            d9F,
            C0x,
            E0x,
            P0x,
            J0x,
            e0x,
            M0x;
            H0x = t0x.chart;
            if (H0x.dataSet.length < 1) {
                return;
            }
            s0x = H0x.xaxis[H0x.xaxis.length - 1].DT;
            O4z.o3f(111);
            var e0e = O4z.J3f(9, 780000, 59984, 779991, 16);
            s0x = new Date(s0x.getTime() - this.timeZoneOffset * e0e);
            if (t0x.params.x > s0x) {
                return;
            }
            W0x = H0x.maxTicks - H0x.dataSegment.length;
            O4z.s3f(58);
            S9F = O4z.J3f("1391261566", 302301960);
            X9F = -136601422;
            d9F = 2;
            for (var K0F = 1; O4z.s2B(K0F.toString(), K0F.toString().length, 96295) !== S9F; K0F++) {
                C0x = H0x.dataSet.length + W0x;
                d9F += 2;
            }
            if (O4z.s2B(d9F.toString(), d9F.toString().length, 32265) !== X9F) {
                C0x = H0x.dataSet.length - W0x;
            }
            J0x = new Date(H0x.dataSet[H0x.dataSet.length - 1].DT);
            e0x = this.standardMarketIterator(J0x, null, H0x);
            M0x = t0x.params.x.getTime();
            for (var F0x = H0x.dataSet.length; F0x < C0x; F0x++) {
                E0x = J0x.getTime();
                J0x = e0x.next();
                P0x = J0x.getTime();
                if (P0x == M0x) {
                    t0x.tick = F0x;
                    return;
                } else if (P0x > M0x && E0x < M0x) {
                    O4z.o3f(112);
                    t0x.tick = Math.max(O4z.J3f("1", 1, F0x), 0);
                    return;
                }
            }
        };
        H.prototype.setMarkerTick = function (Y0x) {
            var R0x,
            I0x,
            o0x,
            p0x,
            A0x,
            T0x;
            R0x = Y0x.chart;
            if (Y0x.params.xPositioner == "master" && Y0x.params.x) {
                Y0x.tick = Math.floor(Y0x.params.x / this.layout.periodicity);
                return;
            } else if (Y0x.params.xPositioner == "date" && Y0x.params.x) {
                p0x = Y0x.params.x.getTime();
                for (var D0x = 0; D0x < R0x.dataSet.length; D0x++) {
                    A0x = R0x.dataSet[D0x];
                    o0x = A0x.DT.getTime();
                    I0x = o0x;
                    if (D0x >  + "0") {
                        I0x = R0x.dataSet[D0x - 1].DT.getTime();
                    }
                    if (o0x == p0x) {
                        Y0x.tick = D0x;
                        return;
                    } else if (o0x > p0x && I0x < p0x) {
                        O4z.s3f(17);
                        Y0x.tick = Math.max(O4z.J3f(D0x, 1),  + "0");
                        return;
                    } else if (p0x < o0x) {
                        Y0x.tick = null;
                        return;
                    }
                }
                if (R0x.dataSet.length < 1) {
                    return;
                }
                T0x = new Date(R0x.dataSet[D0x - 1].DT);
                if (T0x.getTime() < p0x) {
                    Y0x.params.future = !0;
                }
                Y0x.tick = null; ;
            }
        };
        H.prototype.positionMarkers = function () {
            var f0x;
            f0x = this;
            if (!f0x.markerHelper) {
                return;
            }
            if (this.markerDelay || this.markerDelay === 0) {
                if (!this.markerTimeout) {
                    this.markerTimeout = setTimeout(L0x, this.markerDelay);
                }
            } else {
                L0x();
            }
            O4z.i4z();
            function L0x() {
                var y2F,
                b0x,
                K0x,
                V0x,
                i0x;
                y2F = "positi";
                y2F += "onMarkers";
                if (f0x.runPrepend(y2F, arguments)) {
                    return;
                }
                f0x.markerTimeout = null;
                for (var Q0x in f0x.markerHelper.classMap) {
                    for (var c0x in f0x.markerHelper.classMap[Q0x]) {
                        b0x = f0x.markerHelper.classMap[Q0x][c0x];
                        K0x = f0x.panels[c0x];
                        if (b0x.length) {
                            V0x = {
                                stx: f0x,
                                arr: b0x,
                                panel: K0x
                            };
                            V0x.firstTick = K0x.chart.dataSet.length - K0x.chart.scroll;
                            V0x.lastTick = V0x.firstTick + K0x.chart.dataSegment.length;
                            i0x = b0x["0" * 1].constructor.placementFunction;
                            if (i0x) {
                                i0x(V0x);
                            } else {
                                f0x.defaultMarkerPlacement(V0x);
                            }
                        }
                    }
                }
                f0x.runAppend("positionMarkers", arguments);
            }
        };
        H.prototype.addChart = function (u0x, x0x) {
            x0x.name = u0x;
            O4z.a4z();
            this.charts[u0x] = x0x;
        };
        H.prototype.createPanel = function (h0x, O0x, m0x, q0x) {
            var d0x,
            G0x,
            g0x,
            a0x;
            if (this.runPrepend("createPanel", arguments)) {
                return;
            }
            if (!q0x) {
                q0x = "chart";
            }
            d0x = this.chart.canvasHeight;
            if (!m0x) {
                O4z.s3f(10);
                m0x = O4z.S3f(d0x, 0.20);
            }
            O4z.s3f(23);
            G0x = O4z.J3f(m0x, d0x);
            O4z.s3f(17);
            O4z.i4z();
            g0x = O4z.S3f(1, G0x);
            for (var j0x in this.panels) {
                a0x = this.panels[j0x];
                a0x.percent *= g0x;
            }
            this.stackPanel(h0x, O0x, G0x, q0x);
            this.adjustPanelPositions();
            this.savePanels(![]);
            this.runAppend("createPanel", arguments);
        };
        H.prototype.configurePanelControls = function (N0x) {
            var f2F,
            k2F,
            C2F,
            v0x,
            x2F,
            m2F;
            f2F = ".";
            f2F += "stx-ico";
            f2F += "-edit";
            k2F = ".stx-ic";
            k2F += "o-up";
            C2F = ".";
            C2F += "s";
            C2F += "tx-ico-clos";
            C2F += "e";
            v0x = N0x.name == N0x.chart.name;
            N0x.icons = F(".stx-panel-control", N0x.holder);
            N0x.close = N0x.icons.children[ + "4"];
            N0x.close = F(C2F, N0x.icons).parentNode;
            J.appendClassName(N0x.icons, "stx-show");
            N0x.title = F(".stx-panel-title", N0x.icons);
            N0x.up = F(k2F, N0x.icons).parentNode;
            N0x.solo = F(".stx-ico-focus", N0x.icons).parentNode;
            N0x.down = F(".stx-ico-down", N0x.icons).parentNode;
            N0x.edit = F(f2F, N0x.icons).parentNode;
            if (!this.displayIconsUpDown) {
                N0x.up.style.display = "none";
            }
            if (!this.displayIconsUpDown) {
                N0x.down.style.display = "none";
            }
            if (!this.displayIconsSolo) {
                N0x.solo.style.display = "none";
            }
            if (!this.displayIconsClose) {
                N0x.close.style.display = "none";
            }
            if (!this.displayPanelResize) {
                N0x.handle.style.display = "none";
            }
            N0x.title.innerHTML = "";
            N0x.title.appendChild(document.createTextNode(N0x.display));
            if (v0x) {
                x2F = "stx-chart";
                x2F += "-panel";
                m2F = "char";
                m2F += "t-ti";
                m2F += "tle";
                J.appendClassName(N0x.title, m2F);
                J.appendClassName(N0x.icons, x2F);
            }
            if (!J.touchDevice || J.isSurface) {
                N0x.icons.onmouseover = (function (B0x) {
                    return function (X0x) {
                        B0x.hideCrosshairs();
                    };
                })(this);
            }
            if (!J.touchDevice || J.isSurface) {
                N0x.icons.onmouseout = (function (U0x) {
                    O4z.a4z();
                    return function (z0x) {
                        O4z.a4z();
                        U0x.showCrosshairs();
                    };
                })(this);
            }
            if (!J.touchDevice || J.isSurface) {
                N0x.handle.onmouseover = (function (r2x) {
                    return function () {
                        r2x.hideCrosshairs();
                    };
                })(this);
            }
            if (!J.touchDevice || J.isSurface) {
                N0x.handle.onmouseout = (function (w2x) {
                    O4z.a4z();
                    return function () {
                        w2x.showCrosshairs();
                    };
                })(this);
            }
            if (J.touchDevice) {
                N0x.handle.ontouchstart = (function (l2x, n2x) {
                    return function (y2x) {
                        if (l2x.resizingPanel) {
                            return;
                        }
                        O4z.a4z();
                        y2x.preventDefault();
                        l2x.grabHandle(n2x);
                    };
                })(this, N0x);
                N0x.handle.ontouchend = (function (S2x) {
                    return function (k2x) {
                        k2x.preventDefault();
                        S2x.releaseHandle();
                    };
                })(this);
            }
            N0x.handle.onmousedown = (function (Z2x, H2x) {
                return function (t2x) {
                    var C9F,
                    k9F,
                    f9F;
                    if (!t2x) {
                        t2x = event;
                    }
                    C9F = -965086874;
                    k9F = -1861824419;
                    f9F =  + "2";
                    for (var x9F =  + "1"; O4z.h2B(x9F.toString(), x9F.toString().length, 96676) !== C9F; x9F++) {
                        Z2x.grabHandle(H2x);
                        f9F += 2;
                    }
                    if (O4z.h2B(f9F.toString(), f9F.toString().length, "88173" ^ 0) !== k9F) {
                        Z2x.grabHandle(H2x);
                    }
                };
            })(this, N0x);
            N0x.handle.onmouseup = (function (J2x) {
                return function (F2x) {
                    var j8B,
                    J8B,
                    Y8B;
                    if (!F2x) {
                        F2x = event;
                    }
                    O4z.a4z();
                    O4z.o3f(8);
                    j8B = -O4z.J3f(0, "1895787330");
                    J8B = 1282847621;
                    Y8B = 2;
                    for (var z8B = 1; O4z.s2B(z8B.toString(), z8B.toString().length, "16415" - 0) !== j8B; z8B++) {
                        J2x.releaseHandle();
                        Y8B += 2;
                    }
                    if (O4z.h2B(Y8B.toString(), Y8B.toString().length, 5330) !== J8B) {
                        J2x.releaseHandle();
                    }
                };
            })(this);
            J.safeClickTouch(N0x.close, (function (s2x, M2x) {
                    O4z.a4z();
                    return function () {
                        O4z.a4z();
                        s2x.panelClose(M2x);
                    };
                })(this, N0x));
            O4z.i4z();
            J.safeClickTouch(N0x.up, (function (P2x, W2x) {
                    return function () {
                        O4z.a4z();
                        P2x.panelUp(W2x);
                    };
                })(this, N0x));
            J.safeClickTouch(N0x.down, (function (C2x, E2x) {
                    return function () {
                        O4z.a4z();
                        C2x.panelDown(E2x);
                    };
                })(this, N0x));
            J.safeClickTouch(N0x.solo, (function (e2x, Y2x) {
                    return function () {
                        e2x.panelSolo(Y2x);
                    };
                })(this, N0x));
            if (N0x.name == "chart") {
                N0x.close.style.display = "none";
            };
        };
        H.prototype.stackPanel = function (A2x, p2x, L2x, o2x) {
            var I2F,
            R2x,
            I2x,
            T2x,
            D2x,
            f2x;
            I2F = "d";
            I2F += "i";
            I2F += "v";
            if (this.runPrepend("stackPanel", arguments)) {
                return;
            }
            if (!o2x) {
                o2x = "chart";
            }
            R2x = this.charts[o2x];
            O4z.o3f(113);
            I2x = O4z.S3f(p2x, o2x);
            T2x = null;
            if (I2x) {
                A2x = R2x.symbol;
                if (R2x.symbolDisplay) {
                    A2x = R2x.symbolDisplay;
                }
                T2x = R2x.yAxis;
            }
            D2x = this.panels[p2x] = new H.Panel(p2x, T2x);
            if (!I2x && R2x.yAxis) {
                D2x.yAxis.width = R2x.yAxis.width; ;
            }
            D2x.percent = L2x;
            D2x.chart = R2x;
            D2x.display = A2x;
            D2x.holder = J.newChild(this.container, "div", "stx-holder");
            D2x.subholder = J.newChild(D2x.holder, I2F, "stx-subholder");
            D2x.subholder.style.zIndex = 1;
            D2x.holder.setAttribute("cq-panel-name", p2x);
            D2x.subholder.setAttribute("cq-panel-name", p2x);
            f2x = I2x ? "stx-panel-chart" : "stx-panel-study";
            J.appendClassName(D2x.holder, f2x);
            D2x.subholder.appendChild(this.controls.iconsTemplate.cloneNode(!!"1"));
            D2x.handle = this.controls.handleTemplate.cloneNode(!!{});
            this.container.appendChild(D2x.handle);
            D2x.handle.id = null;
            D2x.handle.panel = D2x;
            this.configurePanelControls(D2x);
            this.resizeCanvas();
            this.runAppend("stackPanel", arguments);
        };
        H.prototype.setPanelEdit = function (V2x, K2x) {
            V2x.editFunction = K2x;
            J.safeClickTouch(V2x.edit, K2x);
            this.adjustPanelPositions();
        };
        H.prototype.drawPanels = function () {
            var c2x,
            v2F,
            b2x,
            N2F,
            Q2x,
            r2F;
            if (this.runPrepend("drawPanels", arguments)) {
                return;
            }
            c2x = !"1";
            for (var i2x in this.panels) {
                v2F = "se";
                v2F += "g";
                v2F += "ment";
                b2x = this.panels[i2x];
                b2x.axisDrawn = !1;
                if (b2x.title.innerHTML != b2x.display) {
                    b2x.title.innerHTML = "";
                    b2x.title.appendChild(document.createTextNode(b2x.display));
                }
                J.appendClassName(b2x.icons, "stx-show");
                if (b2x.hidden) {
                    N2F = "non";
                    N2F += "e";
                    J.unappendClassName(b2x.icons, "stx-show");
                    b2x.handle.style.display = "none";
                    b2x.holder.style.display = N2F;
                    continue;
                } else {
                    if (!this.displayIconsUpDown) {
                        b2x.up.style.display = "none";
                    }
                    if (!this.displayIconsUpDown) {
                        b2x.down.style.display = "none";
                    }
                    if (!this.displayIconsSolo) {
                        b2x.solo.style.display = "none";
                    }
                    b2x.holder.style.display = "block";
                }
                if (!c2x) {
                    b2x.handle.style.display = "none";
                    c2x = !"";
                    continue;
                }
                Q2x = b2x.top;
                Q2x = Math.round(Q2x) + 0.5;
                this.plotLine(b2x.left, b2x.right, Q2x, Q2x, this.canvasStyle("stx_panel_border"), v2F, this.chart.context, !!"", {});
                if (!this.displayPanelResize) {
                    r2F = "n";
                    r2F += "one";
                    b2x.handle.style.display = r2F;
                } else {
                    b2x.handle.style.display = "";
                }
                O4z.s3f(17);
                var L0e = O4z.J3f(19, 17);
                b2x.handle.style.top = Q2x - b2x.handle.offsetHeight / L0e + "px"; ;
            }
            this.runAppend("drawPanels", arguments);
        };
        H.prototype.touchSingleClick = function (d2x, x2x, m2x) {
            var i6F,
            Z6F,
            u6F,
            q2x,
            u2x;
            i6F = -405282525;
            Z6F =  -  + "782666600";
            u6F = 2;
            for (var l6F = 1; O4z.s2B(l6F.toString(), l6F.toString().length, 97507) !== i6F; l6F++) {
                q2x = this;
                u2x = arguments;
                u6F += 2;
            }
            if (O4z.h2B(u6F.toString(), u6F.toString().length, 66549) !== Z6F) {
                q2x = this;
                u2x = arguments;
            }
            return function () {
                (function () {
                    var g2F,
                    G2x,
                    g2x,
                    j2x,
                    G0F,
                    h0F,
                    s0F,
                    B2F;
                    g2F = "tou";
                    g2F += "chSingleC";
                    g2F += "lick";
                    if (!this.cancelTouchSingleClick) {
                        if (this.runPrepend("touchSingleClick", u2x)) {
                            return;
                        }
                        if (this.editingAnnotation) {
                            return;
                        }
                        this.clicks = {
                            s1MS:  -  + "1",
                            e1MS: -1,
                            s2MS:  -  + "1",
                            e2MS: -1
                        };
                        if (!this.displayCrosshairs) {
                            return;
                        }
                        if (!this.displayInitialized) {
                            return;
                        }
                        if (this.openDialog !== "") {
                            return;
                        }
                        if (x2x < this.left || x2x > this.right || m2x < this.top || m2x > this.bottom) {
                            return;
                        }
                        G2x = this.backOutY(H.crosshairY);
                        g2x = this.backOutX(H.crosshairX);
                        this.currentPanel = this.whichPanel(G2x);
                        if (!this.currentVectorParameters.vectorType || !J.Drawing[this.currentVectorParameters.vectorType] || !new J.Drawing[this.currentVectorParameters.vectorType]().dragToDraw) {
                            if (!this.drawingClick(this.currentPanel, g2x, G2x)) {
                                if (!this.layout.crosshair) {
                                    H.crosshairY = 0;
                                    H.crosshairX = 0;
                                    this.cx = this.backOutX(H.crosshairX);
                                    this.cy = this.backOutY(H.crosshairY);
                                    this.findHighlights();
                                    H.crosshairY = m2x;
                                    H.crosshairX = x2x;
                                    j2x = this.container.getBoundingClientRect();
                                    this.top = j2x.top;
                                    this.left = j2x.left;
                                    this.right = this.left + this.width;
                                    this.bottom = this.top + this.height;
                                    this.cx = this.backOutX(H.crosshairX);
                                    this.cy = this.backOutY(H.crosshairY);
                                    if (this.currentPanel && this.currentPanel.chart.dataSet) {
                                        this.crosshairTick = this.tickFromPixel(this.cx, this.currentPanel.chart);
                                        this.crosshairValue = this.adjustIfNecessary(this.currentPanel, this.crosshairTick, this.valueFromPixel(this.cy, this.currentPanel));
                                    }
                                    this.headsUpHR();
                                    this.findHighlights(!!"1");
                                }
                            }
                            if (!this.currentVectorParameters.vectorType) {
                                G0F = 948976513;
                                h0F = 887235625;
                                s0F = 2;
                                for (var o0F = 1; O4z.s2B(o0F.toString(), o0F.toString().length, 61062) !== G0F; o0F++) {
                                    B2F = "t";
                                    B2F += "a";
                                    B2F += "p";
                                    this.dispatch(B2F, {
                                        stx: this,
                                        panel: this.currentPanel,
                                        x: g2x,
                                        y: G2x
                                    });
                                    s0F += 2;
                                }
                                if (O4z.s2B(s0F.toString(), s0F.toString().length, "11393" * 1) !== h0F) {
                                    this.dispatch("", {
                                        stx: this,
                                        panel: this.currentPanel,
                                        x: g2x,
                                        y: G2x
                                    });
                                }
                            }
                        }
                    }
                    q2x.cancelTouchSingleClick = !{};
                    this.runAppend(g2F, u2x);
                }).apply(q2x, u2x);
            };
        };
        H.prototype.touchDoubleClick = function (N2x, h2x, O2x) {
            var O2F,
            H2F,
            a2x;
            O2F = "touchDouble";
            O2F += "C";
            O2F += "l";
            O2F += "ick";
            H2F = "t";
            H2F += "ouchDoubleClick";
            if (h2x < this.left || h2x > this.right || O2x < this.panels.chart.top || O2x > this.panels.chart.bottom) {
                return;
            }
            if (this.editingAnnotation) {
                return;
            }
            if (this.runPrepend(H2F, arguments)) {
                return;
            }
            if (H.drawingLine) {
                this.undo();
            } else {
                if (this.anyHighlighted) {
                    this.deleteHighlighted();
                } else {
                    a2x = this.currentPanel.yAxis;
                    if (a2x.scroll == (a2x.initialMarginTop - a2x.initialMarginBottom) / 2 && a2x.zoom == a2x.initialMarginTop + a2x.initialMarginBottom) {
                        this.home();
                    } else {
                        this.calculateYAxisMargins(this.currentPanel.yAxis); ;
                    }
                    this.draw();
                }
            }
            this.clicks = {
                s1MS: -1,
                e1MS: -1,
                s2MS: -1,
                e2MS: -1
            };
            this.runAppend(O2F, arguments);
        };
        H.prototype.touchmove = function (v2x) {
            var G2F,
            B2x,
            F4x,
            s4x,
            M4x,
            o4x,
            H4x,
            t4x,
            S4x,
            y4x,
            P4x,
            z2x,
            W4x,
            J4x,
            C4x,
            r4x,
            w4x,
            E4x,
            l4x,
            n4x,
            I4x,
            e4x,
            Y4x,
            k4x,
            D4x,
            A4x,
            Z4x,
            T4x,
            f4x,
            L4x,
            V4x,
            R4x,
            p4x,
            U2x,
            K4x,
            b4x;
            G2F = "tou";
            G2F += "c";
            G2F += "hmove";
            if (!this.displayInitialized) {
                return;
            }
            if (this.openDialog !== "") {
                return;
            }
            if (H.ignoreTouch === !!{}) {
                return;
            }
            B2x = [];
            if (v2x && v2x.touches && v2x.touches.length == 1) {
                if (Math.pow(this.clicks.x - v2x.touches[0].clientX, "2" - 0) + Math.pow(this.clicks.y - v2x.touches[0].clientY, 2) <=  + "16") {
                    return;
                }
            }
            if (!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != "none") {
                if (v2x && v2x.preventDefault && this.captureTouchEvents) {
                    v2x.preventDefault();
                }
                if (v2x) {
                    v2x.stopPropagation();
                }
            }
            F4x = new Date().getTime();
            if (this.clicks.s2MS == -1) {
                this.clicks.e1MS = F4x;
                if (this.clicks.e1MS - this.clicks.s1MS < 25) {
                    return;
                }
            } else {
                this.clicks.e2MS = F4x;
                if (this.clicks.e2MS - this.clicks.s2MS <  + "25") {
                    return;
                }
            }
            if (J.isSurface) {
                if (this.mouseMode) {
                    return;
                }
                if (!v2x.pointerId) {
                    v2x.pointerId = this.gesturePointerId;
                }
                if ((!this.grabbingScreen || H.resizingPanel) && !this.overrideGesture) {
                    if (v2x.detail == v2x.MSGESTURE_FLAG_INERTIA) {
                        this.gesture.stop();
                        return; ;
                    }
                }
                for (var X2x = 0; X2x < this.touches.length; X2x++) {
                    if (this.touches[X2x].pointerId == v2x.pointerId) {
                        s4x = Math.abs(this.touches[X2x].pageX - v2x.clientX);
                        M4x = Math.abs(this.touches[X2x].pageY - v2x.clientY);
                        O4z.s3f(114);
                        o4x = Math.sqrt(O4z.S3f(M4x, s4x, s4x, M4x));
                        if (!o4x) {
                            return;
                        }
                        this.clicks.e1MS = new Date().getTime();
                        if (this.clicks.e1MS - this.clicks.s1MS <  + "50") {
                            return;
                        }
                        if (this.touches[X2x].pageX == v2x.clientX && this.touches[X2x].pageY == v2x.clientY) {
                            return;
                        }
                        this.touches[X2x].pageX = v2x.clientX;
                        this.touches[X2x].pageY = v2x.clientY;
                        break;
                    }
                }
                if (X2x === 0) {
                    this.movedPrimary = !"";
                } else {
                    this.movedSecondary = !!{};
                }
                if (!this.gestureInEffect && X2x == this.touches.length) {
                    return;
                }
                this.changedTouches = [{
                        pointerId: v2x.pointerId,
                        pageX: v2x.clientX,
                        pageY: v2x.clientY
                    }
                ];
                B2x = this.touches;
                if (this.gestureInEffect && !B2x.length) {
                    B2x = this.changedTouches;
                }
            } else {
                B2x = v2x.touches;
                this.changedTouches = v2x.changedTouches;
            }
            H4x = this.crosshairXOffset;
            t4x = this.crosshairYOffset;
            if (this.activeDrawing && this.activeDrawing.name == "freeform") {
                H4x = 0;
                t4x = 0;
            }
            if (this.runPrepend(G2F, arguments)) {
                return;
            }
            if (H.resizingPanel) {
                P4x = B2x[0];
                S4x = P4x.pageX;
                y4x = P4x.pageY;
                O4z.o3f(0);
                this.mousemoveinner(O4z.S3f(S4x, H4x), O4z.J3f(y4x, t4x));
                return;
            }
            if (this.moveB !=  -  + "1") {
                this.touchMoveTime = new Date();
            }
            this.moveA = this.moveB;
            this.moveB = B2x[ + "0"].pageX;
            if (B2x.length == 1) {
                W4x = B2x[0];
                S4x = W4x.pageX;
                y4x = W4x.pageY;
                this.pinchingScreen = 0;
                O4z.o3f(0);
                this.mousemoveinner(O4z.S3f(S4x, H4x), O4z.J3f(y4x, t4x));
                J4x = this.whichPanel(y4x);
                this.overXAxis = y4x >= this.top + this.chart.panel.yAxis.bottom && y4x <= this.top + this.chart.panel.bottom && H.insideChart;
                if (!J4x) {
                    this.overYAxis = !"1";
                } else {
                    this.overYAxis = (S4x >= J4x.right || S4x <= J4x.left) && H.insideChart;
                }
            } else if (B2x.length == 2 && this.allowZoom) {
                if (!this.displayCrosshairs) {
                    return;
                }
                C4x = B2x[0];
                r4x = C4x.pageX;
                w4x = C4x.pageY;
                E4x = B2x[1];
                l4x = E4x.pageX;
                n4x = E4x.pageY;
                O4z.o3f(115);
                z2x = Math.sqrt(O4z.S3f(n4x, r4x, n4x, l4x, l4x, r4x, w4x, w4x));
                O4z.o3f(9);
                var M0e = O4z.S3f(6, 4, 0);
                this.pinchingCenter = Math.min(r4x, l4x) + (Math.max(r4x, l4x) - Math.min(r4x, l4x)) / M0e;
                I4x = Math.round(this.gestureStartDistance - z2x);
                e4x = !this.layout.crosshair && !this.currentVectorParameters.vectorType;
                if (e4x) {
                    this.pinchingScreen = 5;
                }
                this.clearPixelCache();
                if (this.pinchingScreen < 2) {
                    if (J.isSurface && (!this.movedPrimary || !this.movedSecondary)) {
                        return;
                    }
                    if (r4x < this.pt.x1 && l4x < this.pt.x2 || r4x > this.pt.x1 && l4x > this.pt.x2 || w4x < this.pt.y1 && n4x < this.pt.y2 || w4x > this.pt.y1 && n4x > this.pt.y2) {
                        this.pinchingScreen = 0;
                    } else {
                        this.pinchingScreen++;
                        if (this.pinchingScreen <  + "2") {
                            return;
                        }
                    }
                }
                this.pt = {
                    x1: r4x,
                    x2: l4x,
                    y1: w4x,
                    y2: n4x
                };
                if (this.pinchingScreen === 0) {
                    O4z.o3f(0);
                    this.mousemoveinner(O4z.S3f(r4x, H4x), O4z.S3f(w4x, t4x));
                    this.gestureStartDistance = z2x;
                } else {
                    Y4x = Math.asin((Math.max(n4x, w4x) - Math.min(n4x, w4x)) / z2x);
                    if (Math.abs(I4x) < "12" >> 785027968 && !e4x) {
                        this.moveCount++;
                        if (this.moveCount == 4) {
                            O4z.o3f(19);
                            this.pinchingScreen = O4z.J3f(1570903040, "0");
                            this.moveCount = 0;
                            return;
                        }
                    } else {
                        this.moveCount = 0;
                    }
                    if (Y4x < 1 || !this.goneVertical && Y4x < 1.37) {
                        if (!this.currentPanel) {
                            return;
                        }
                        k4x = this.currentPanel.chart;
                        this.goneVertical = ![];
                        z2x = this.pt.x2 - this.pt.x1;
                        D4x = this.grabStartValues.t2 - this.grabStartValues.t1;
                        O4z.s3f(33);
                        var j0e = O4z.J3f(19, 9, 16, 28);
                        A4x = this.grabStartValues.t1 + D4x / j0e;
                        O4z.o3f(23);
                        Z4x = O4z.S3f(z2x, D4x);
                        if (Z4x < this.minimumCandleWidth) {
                            Z4x = this.minimumCandleWidth;
                        }
                        T4x = this.layout.candleWidth;
                        this.setCandleWidth(Z4x, k4x);
                        if (k4x.maxTicks < this.minimumZoomTicks) {
                            this.setCandleWidth(T4x, k4x);
                            return;
                        }
                        this.micropixels = 0;
                        f4x = this.pixelFromTick(Math.round(A4x), k4x);
                        O4z.s3f(116);
                        var J0e = O4z.S3f(6, 8, 40, 10, 11);
                        L4x = this.pt.x1 - this.left + Math.round(z2x / J0e);
                        O4z.s3f(17);
                        V4x = O4z.J3f(f4x, L4x);
                        O4z.o3f(23);
                        R4x = O4z.J3f(V4x, Z4x);
                        p4x = Math.round(R4x);
                        k4x.scroll -= p4x;
                        O4z.s3f(17);
                        this.microscroll = O4z.S3f(p4x, R4x);
                        this.micropixels = Z4x * this.microscroll;
                        this.draw();
                    } else {
                        U2x = this.currentPanel.chart.panel.yAxis;
                        this.goneVertical = !![];
                        U2x.zoom = this.grabStartZoom + (this.gestureStartDistance - z2x);
                        if (this.grabStartZoom < U2x.height) {
                            if (U2x.zoom >= U2x.height) {
                                O4z.o3f(117);
                                var Y0e = O4z.J3f(17, 3, 14, 0);
                                U2x.zoom = U2x.height - Y0e;
                            }
                        } else {
                            if (U2x.zoom <= U2x.height) {
                                U2x.zoom = U2x.height +  + "1";
                            }
                        }
                        this.draw(); ;
                    }
                }
            } else if (B2x.length ==  + "3" && H.allowThreeFingerTouch) {
                if (!this.displayCrosshairs) {
                    return;
                }
                K4x = B2x[0];
                b4x = K4x.pageX;
                z2x = this.grabStartX - b4x;
                O4z.s3f(118);
                var E0e = O4z.J3f(3, 10, 18, 5, 178);
                this.grabEndPeriodicity = this.grabStartPeriodicity + Math.round(z2x / E0e);
                if (this.grabEndPeriodicity < 1) {
                    this.grabEndPeriodicity = 1;
                }
                if (typeof headsUp != "undefined") {
                    O4z.o3f(80);
                    var z0e = O4z.S3f(251, 19, 21, 1);
                    O4z.s3f(119);
                    var Q0e = O4z.S3f(1958, 13, 7832, 7798);
                    O4z.s3f(61);
                    var n0e = O4z.J3f(596, 7, 8, 8933);
                    O4z.s3f(3);
                    var a0e = O4z.J3f(573, 580, 6959, 7);
                    headsUp.period.innerHTML = this.grabEndPeriodicity + ((260.06, z0e) == (738.71, Q0e) ? (21.31, "O") : n0e == a0e ? "j" : " ") + this.layout.interval;
                    if (this.grabEndPeriodicity > 1) {
                        headsUp.period.innerHTML += "s";
                    }
                }
            }
            this.runAppend("touchmove", arguments);
        };
        H.prototype.touchstart = function (i4x) {
            var s2F,
            a4x,
            h4x,
            m4x,
            u4x,
            c4x,
            Q4x,
            q4x,
            d4x,
            O4x,
            B4x,
            x4x,
            X4x,
            U4x,
            h2F,
            z4x,
            r1x,
            w1x,
            N4x,
            g4x,
            j4x,
            v4x,
            l1x,
            n1x;
            s2F = "to";
            s2F += "u";
            s2F += "chstar";
            s2F += "t";
            if (H.ignoreTouch) {
                return;
            }
            if (J.isSurface) {
                this.movedPrimary = !!"";
                this.movedSecondary = !"1";
            } else {
                if (this.touchingEvent) {
                    clearTimeout(this.touchingEvent);
                }
                this.touching = !![];
                this.touches = i4x.touches;
                this.changedTouches = i4x.changedTouches;
            }
            if (H.resizingPanel) {
                return;
            }
            a4x = this.crosshairXOffset;
            h4x = this.crosshairYOffset;
            O4z.a4z();
            if (this.runPrepend("touchstart", arguments)) {
                return;
            }
            if (this.manageTouchAndMouse && i4x && i4x.preventDefault && this.captureTouchEvents) {
                i4x.preventDefault();
            }
            this.hasDragged = !{};
            this.doubleFingerMoves = 0;
            this.moveCount = 0;
            this.twoFingerStart = !1;
            if (this.touches.length == 1 || this.touches.length ==  + "2") {
                if (this.changedTouches.length == 1) {
                    q4x = Date.now();
                    this.clicks.x = this.changedTouches[0].pageX;
                    this.clicks.y = this.changedTouches[0].pageY;
                    if (q4x - this.clicks.e1MS < 250) {
                        this.cancelTouchSingleClick = !![];
                        this.clicks.s2MS = q4x;
                    } else {
                        this.cancelTouchSingleClick = !"1";
                        this.clicks.s1MS = q4x;
                        this.clicks.e1MS = -1;
                        O4z.s3f(19);
                        this.clicks.s2MS = -O4z.S3f(1957963136, "1");
                        O4z.o3f(58);
                        this.clicks.e2MS = -O4z.J3f("1", 1);
                    }
                }
                this.touchMoveTime = Date.now();
                this.moveA = this.touches[0].pageX;
                this.moveB = -1;
                d4x = this.touches[0];
                c4x = d4x.pageX;
                Q4x = d4x.pageY;
                O4x = this.container.getBoundingClientRect();
                this.top = O4x.top;
                this.left = O4x.left;
                this.right = this.left + this.width;
                this.bottom = this.top + this.height;
                if (this.touches.length == ("1" & 2147483647)) {
                    B4x = this.cy = this.backOutY(Q4x);
                    this.currentPanel = this.whichPanel(B4x);
                }
                if (!this.currentPanel) {
                    this.currentPanel = this.chart.panel;
                }
                if (c4x >= this.left && c4x <= this.right && Q4x >= this.top && Q4x <= this.bottom) {
                    H.insideChart = !"";
                    this.overXAxis = Q4x >= this.top + this.chart.panel.yAxis.bottom && Q4x <= this.top + this.chart.panel.bottom;
                    this.overYAxis = c4x >= this.currentPanel.right || c4x <= this.currentPanel.left;
                    for (var G4x = 0; G4x < this.drawingObjects.length; G4x++) {
                        x4x = this.drawingObjects[G4x];
                        if (x4x.highlighted) {
                            X4x = x4x.highlighted;
                            this.cy = this.backOutY(Q4x);
                            this.cx = this.backOutX(c4x);
                            this.crosshairTick = this.tickFromPixel(this.cx, this.currentPanel.chart);
                            this.crosshairValue = this.adjustIfNecessary(this.currentPanel, this.crosshairTick, this.valueFromPixel(this.cy, this.currentPanel));
                            this.findHighlights(!!"1");
                            if (x4x.highlighted) {
                                this.repositioningDrawing = x4x;
                                return;
                            } else {
                                this.anyHighlighted = !0;
                                x4x.highlighted = X4x; ;
                            }
                        }
                    }
                    i4x.stopPropagation();
                } else {
                    H.insideChart = ![];
                }
                U4x = this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";
                if (!this.layout.crosshair && !U4x && H.insideChart && !this.touchNoPan) {
                    h2F = "ba";
                    h2F += "selin";
                    h2F += "e";
                    h2F += "_delta_mountain";
                    if ((this.layout.chartType == "baseline_delta" || this.layout.chartType == h2F) && this.chart.baseline.userLevel !== !"1") {
                        z4x = this.valueFromPixelUntransform(this.cy - 5, this.currentPanel);
                        r1x = this.valueFromPixelUntransform(this.cy + 5, this.currentPanel);
                        O4z.s3f(51);
                        var S0e = O4z.J3f(4, 18, 4);
                        w1x = this.chart.right - parseInt(getComputedStyle(this.controls.baselineHandle).width, S0e);
                        if (this.chart.baseline.actualLevel < z4x && this.chart.baseline.actualLevel > r1x && this.backOutX(d4x.pageX) > w1x) {
                            this.repositioningBaseline = {
                                lastDraw: Date.now()
                            };
                            return;
                        }
                    }
                    for (m4x in this.panels) {
                        u4x = this.panels[m4x];
                        if (u4x.highlighted) {
                            this.grabHandle(u4x);
                            return;
                        }
                    }
                    this.grabbingScreen = !![];
                    this.yToleranceBroken = !!0;
                    O4z.o3f(0);
                    this.grabStartX = O4z.S3f(c4x, a4x);
                    O4z.o3f(0);
                    this.grabStartY = O4z.J3f(Q4x, h4x);
                    this.grabStartScrollX = this.currentPanel.chart.scroll;
                    this.grabStartScrollY = this.currentPanel.yAxis.scroll;
                    this.swipeStart(this.currentPanel.chart);
                    setTimeout((function (y1x) {
                            return function () {
                                O4z.a4z();
                                y1x.grabbingHand();
                            };
                        })(this), 100);
                } else {
                    this.grabbingScreen = !"1";
                    if (H.insideChart) {
                        if (J.Drawing[this.currentVectorParameters.vectorType] && new J.Drawing[this.currentVectorParameters.vectorType]().dragToDraw) {
                            this.userPointerDown = !"";
                            H.crosshairX = c4x;
                            H.crosshairY = Q4x;
                            if (this.currentPanel && this.currentPanel.chart.dataSet) {
                                this.crosshairTick = this.tickFromPixel(this.backOutX(H.crosshairX), this.currentPanel.chart);
                                this.crosshairValue = this.adjustIfNecessary(this.currentPanel, this.crosshairTick, this.valueFromPixel(this.backOutY(H.crosshairY), this.currentPanel));
                            }
                            this.drawingClick(this.currentPanel, this.backOutX(c4x), this.backOutY(Q4x));
                            this.headsUpHR();
                            return;
                        }
                    }
                }
            }
            if (this.touches.length == 2) {
                this.cancelLongHold = !![];
                this.swipe.end = !0;
                if (!this.displayCrosshairs && !this.touchNoPan || !H.insideChart) {
                    return;
                }
                N4x = this.touches[1];
                g4x = N4x.pageX;
                j4x = N4x.pageY;
                for (m4x in this.panels) {
                    u4x = this.panels[m4x];
                    if (u4x.highlighted) {
                        this.grabHandle(u4x);
                        return;
                    }
                }
                v4x = this.currentPanel.chart;
                O4z.s3f(115);
                this.gestureStartDistance = Math.sqrt(O4z.J3f(j4x, c4x, j4x, g4x, g4x, c4x, Q4x, Q4x));
                this.pt = {
                    x1: c4x,
                    x2: g4x,
                    y1: Q4x,
                    y2: j4x
                };
                this.grabbingScreen = !![];
                O4z.s3f(0);
                this.grabStartX = O4z.J3f(c4x, a4x);
                O4z.s3f(0);
                this.grabStartY = O4z.J3f(Q4x, h4x);
                this.grabStartScrollX = this.currentPanel.chart.scroll;
                this.grabStartScrollY = this.currentPanel.yAxis.scroll;
                this.grabStartCandleWidth = this.layout.candleWidth;
                this.grabStartZoom = this.whichYAxis(this.currentPanel).zoom;
                this.grabStartPt = this.pt;
                this.grabStartValues = {
                    x1: this.pt.x1,
                    x2: this.pt.x2,
                    y1: this.valueFromPixel(this.pt.y1 - this.top, this.currentPanel),
                    y2: this.valueFromPixel(this.pt.y2 - this.top, this.currentPanel),
                    t1: this.tickFromPixel(this.pt.x1 - this.left, v4x),
                    t2: this.tickFromPixel(this.pt.x2 - this.left, v4x)
                };
                this.twoFingerStart = !![];
                setTimeout((function (S1x) {
                        O4z.i4z();
                        return function () {
                            S1x.grabbingHand();
                        };
                    })(this), 100);
            } else if (this.touches.length == ("3" ^ 0)) {
                if (!this.displayCrosshairs) {
                    return;
                }
                l1x = this.touches[0];
                n1x = l1x.pageX;
                this.grabStartX = n1x;
                this.grabStartPeriodicity = this.layout.periodicity;
            }
            if (this.touches.length == 1) {
                this.mouseTimer = Date.now();
                this.longHoldTookEffect = ![];
                if (this.longHoldTime) {
                    this.startLongHoldTimer();
                }
            }
            this.runAppend(s2F, arguments);
        };
        H.prototype.swipeStart = function (Z1x) {
            var k1x;
            if (this.swipe && this.swipe.interval) {
                clearInterval(this.swipe.interval);
            }
            this.swipe.velocity =  + "0";
            this.swipe.amplitude = 0;
            this.swipe.frame = Z1x.scroll;
            this.swipe.micropixels = this.micropixels;
            this.swipe.timestamp = Date.now();
            this.swipe.chart = this.currentPanel.chart;
            this.swipe.end = !"1";
            this.swipe.timeConstant = 325;
            O4z.i4z();
            this.swipe.cb = null;
            k1x = this;
            requestAnimationFrame(function () {
                O4z.a4z();
                k1x.swipeSample();
            });
        };
        H.prototype.swipeSample = function () {
            var H1x,
            t1x,
            a5B,
            S5B,
            X5B,
            J1x,
            F1x,
            s1x,
            P1x,
            W1x,
            C1x,
            M1x;
            H1x = this.swipe;
            if (H1x.end) {
                return;
            }
            t1x = this;
            a5B = -794943882;
            S5B = -681033535;
            O4z.a4z();
            X5B =  + "2";
            for (var T5B = "1" ^ 0; O4z.s2B(T5B.toString(), T5B.toString().length, 39757) !== a5B; T5B++) {
                W1x =  + "22";
                J1x = Date.now();
                F1x = J1x / H1x.timestamp;
                X5B += 2;
            }
            if (O4z.h2B(X5B.toString(), X5B.toString().length, 89544) !== S5B) {
                W1x = 20;
                J1x = Date.now();
                F1x = J1x - H1x.timestamp;
            }
            if (F1x < W1x) {
                requestAnimationFrame(function () {
                    O4z.a4z();
                    t1x.swipeSample();
                });
                return;
            }
            C1x = J.touchDevice ? 0.4 : 0.8;
            H1x.timestamp = J1x;
            s1x = (H1x.chart.scroll - H1x.frame) * this.layout.candleWidth + this.micropixels - H1x.micropixels;
            H1x.frame = H1x.chart.scroll;
            H1x.micropixels = this.micropixels;
            O4z.o3f(120);
            P1x = O4z.J3f(s1x, F1x, 1, 1000);
            M1x = C1x * P1x + 0.2 * this.swipe.velocity;
            if (Math.abs(M1x) > Math.abs(H1x.velocity)) {
                H1x.velocity = M1x;
            }
            if (Math.abs(s1x) < 6) {
                H1x.velocity = 0; ;
            }
            requestAnimationFrame(function () {
                O4z.i4z();
                t1x.swipeSample();
            });
        };
        H.prototype.swipeRelease = function () {
            var E1x,
            e1x;
            E1x = this.swipe;
            if (E1x.velocity > 3000) {
                E1x.velocity = 3000;
            }
            O4z.a4z();
            if (E1x.velocity < -3000) {
                E1x.velocity = -3000;
            }
            if (E1x.velocity > 10 || E1x.velocity < -10) {
                E1x.amplitude = 0.8 * E1x.velocity;
                E1x.scroll = E1x.chart.scroll;
                E1x.target = E1x.amplitude;
                E1x.timestamp = Date.now();
                e1x = this;
                requestAnimationFrame(function () {
                    e1x.autoscroll();
                });
            }
        };
        H.prototype.scrollTo = function (D1x, p1x, o1x) {
            var Y1x,
            R1x;
            Y1x = this.swipe;
            Y1x.end = !![];
            Y1x.amplitude = Y1x.target = (p1x - D1x.scroll) * this.layout.candleWidth;
            Y1x.timeConstant = 100;
            Y1x.timestamp = Date.now();
            Y1x.scroll = D1x.scroll;
            Y1x.chart = D1x;
            Y1x.cb = o1x;
            R1x = this;
            requestAnimationFrame(function () {
                O4z.a4z();
                R1x.autoscroll();
            });
        };
        H.prototype.autoscroll = function () {
            O4z.i4z();
            var T1x,
            I1x,
            L1x,
            A1x,
            f1x;
            T1x = this;
            I1x = this.swipe;
            if (I1x.amplitude) {
                I1x.elapsed = Date.now() - I1x.timestamp;
                A1x = -I1x.amplitude * Math.exp(-I1x.elapsed / I1x.timeConstant);
                if (A1x >  + "0.5" || A1x < -0.5) {
                    f1x = (I1x.target + A1x) / this.layout.candleWidth;
                    I1x.chart.scroll = I1x.scroll + Math.round(f1x);
                    this.draw();
                    requestAnimationFrame(function () {
                        T1x.autoscroll();
                    });
                } else {
                    if (I1x.cb) {
                        I1x.cb();
                    }
                }
            }
        };
        H.prototype.touchend = function (b1x) {
            var R2F,
            K1x,
            V1x,
            Q1x,
            c1x,
            d8B,
            T8B,
            K9F;
            if (H.ignoreTouch) {
                return;
            }
            this.swipe.end = !!"1";
            if (J.isSurface) {}
            else {
                this.touches = b1x.touches;
                this.changedTouches = b1x.changedTouches;
            }
            if (this.runPrepend("touchend", arguments)) {
                return;
            }
            this.cancelLongHold = !![];
            if (this.touches.length <= 1) {
                if (this.layout.crosshair || this.currentVectorParameters.vectorType) {
                    if (!this.touches.length || !this.twoFingerStart) {
                        this.grabbingScreen = !"1";
                    }
                }
            }
            if (this.touches.length) {
                this.grabStartX = -1;
                this.grabStartY = -1;
            }
            if (!this.touches.length) {
                this.touchingEvent = setTimeout((function (i1x) {
                            return function () {
                                i1x.touching = !1;
                            };
                        })(this), 500);
                if (H.resizingPanel) {
                    this.releaseHandle();
                    return;
                }
                this.pinchingScreen = null;
                this.pinchingCenter = null;
                this.goneVertical = ![];
                this.grabbingScreen = !1;
            } else {
                if (H.resizingPanel) {
                    return;
                }
            }
            if (this.changedTouches.length == 1) {
                if (this.repositioningDrawing) {
                    R2F = "vect";
                    R2F += "or";
                    this.changeOccurred(R2F);
                    J.clearCanvas(this.chart.tempCanvas, this);
                    this.repositioningDrawing = null;
                    this.draw();
                    if (!this.layout.crosshair && !this.currentVectorParameters.vectorType) {
                        this.findHighlights(!!"", !![]);
                    }
                    return;
                }
                if (this.repositioningBaseline) {
                    this.repositioningBaseline = null;
                    O4z.s3f(9);
                    var X0e = O4z.S3f(16, 14, 0);
                    this.chart.panel.yAxis.scroll = this.pixelFromPriceTransform(this.chart.baseline.userLevel, this.chart.panel) - (this.chart.panel.yAxis.top + this.chart.panel.yAxis.bottom) / X0e;
                    this.draw();
                    return;
                }
                K1x = Date.now();
                O4z.o3f(121);
                var d0e = O4z.J3f(5, 18, 3, 1);
                V1x = this.touches.length + d0e;
                if (this.clicks.s2MS ==  - ("1" >> 1802363712)) {
                    this.clicks.e1MS = K1x;
                    if (!this.currentVectorParameters.vectorType || !J.Drawing[this.currentVectorParameters.vectorType] || !new J.Drawing[this.currentVectorParameters.vectorType]().dragToDraw) {
                        if (this.clicks.e1MS - this.clicks.s1MS < 750 && !this.longHoldTookEffect && !this.hasDragged) {
                            setTimeout(this.touchSingleClick(V1x, this.clicks.x, this.clicks.y), 200); ;
                        } else {
                            this.clicks = {
                                s1MS:  - ("1" | 0),
                                e1MS:  - ("1" * 1),
                                s2MS:  - ("1" & 2147483647),
                                e2MS: -1
                            };
                        }
                    }
                    this.userPointerDown = !!"";
                    if (this.activeDrawing && this.activeDrawing.dragToDraw) {
                        Q1x = this.backOutY(this.changedTouches[0].pageY) + this.crosshairYOffset;
                        c1x = this.backOutX(this.changedTouches[0].pageX) + this.crosshairXOffset;
                        this.drawingClick(this.currentPanel, c1x, Q1x);
                        return;
                    }
                } else {
                    this.clicks.e2MS = K1x;
                    if (this.clicks.e2MS - this.clicks.s2MS < 250) {
                        this.touchDoubleClick(V1x, this.clicks.x, this.clicks.y);
                    } else {
                        d8B =  -  + "261281342";
                        T8B =  + "1205512848";
                        K9F = 2;
                        for (var b9F = 1; O4z.h2B(b9F.toString(), b9F.toString().length, 44775) !== d8B; b9F++) {
                            this.clicks = {
                                s1MS: -1,
                                e1MS: -1,
                                s2MS: -1,
                                e2MS: -1
                            };
                            K9F += 2;
                        }
                        if (O4z.h2B(K9F.toString(), K9F.toString().length, 51698) !== T8B) {
                            this.clicks = {
                                s1MS: ~8,
                                e1MS: ~7,
                                s2MS:  +  + "6",
                                e2MS: +6
                            };
                        }
                    }
                }
                if (!this.layout.crosshair && !this.currentVectorParameters.vectorType && V1x == 1 || this.twoFingerStart && !this.touches.length) {
                    this.swipeRelease();
                }
            } else {
                if (this.grabEndPeriodicity !=  - ("1" - 0) && !isNaN(this.grabEndPeriodicity)) {
                    if (this.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute) {
                        this.setPeriodicityV2(this.grabEndPeriodicity);
                    }
                    this.grabEndPeriodicity = -1;
                }
            }
            if (!this.touches.length) {
                this.twoFingerStart = !1;
            }
            this.runAppend("touchend", arguments);
        };
        H.prototype.startProxy = function (u1x) {
            if (u1x.pointerType == 4 || u1x.pointerType == "mouse") {
                this.mouseMode = !"";
            } else {
                this.mouseMode = !{};
            }
            if (this.mouseMode) {
                return;
            }
            this.touches[this.touches.length] = {
                pointerId: u1x.pointerId,
                pageX: u1x.clientX,
                pageY: u1x.clientY
            };
            this.changedTouches = [{
                    pointerId: u1x.pointerId,
                    pageX: u1x.clientX,
                    pageY: u1x.clientY
                }
            ];
            if (!this.gestureInEffect && this.touches.length == ("1" ^ 0)) {
                this.gesturePointerId = u1x.pointerId;
                this.overrideGesture = ![];
                if (!this.gesture) {
                    return;
                }
                this.gesture.addPointer(u1x.pointerId);
                this.touchstart(u1x);
            } else {
                this.gesture.stop();
                this.touchstart(u1x);
            }
        };
        H.prototype.moveProxy = function (x1x) {
            var o2F;
            o2F = "mou";
            o2F += "se";
            if (x1x.pointerType == 4 || x1x.pointerType == o2F) {
                this.mouseMode = !![];
            } else {
                this.mouseMode = !!0;
            }
            if (this.mouseMode) {
                return;
            }
            if (!this.gestureInEffect) {
                this.touchmove(x1x);
            }
        };
        H.prototype.endProxy = function (q1x) {
            var d1x;
            O4z.a4z();
            if (this.mouseMode) {
                return;
            }
            d1x = this.touches.length;
            for (var m1x = 0; m1x < this.touches.length; m1x++) {
                if (this.touches[m1x].pointerId == q1x.pointerId) {
                    this.touches.splice(m1x, 1);
                    break;
                }
            }
            if (m1x == d1x) {
                this.touches = [];
                this.grabbingScreen = ![];
                this.touching = !{};
                return;
            }
            this.changedTouches = [{
                    pointerId: q1x.pointerId,
                    pageX: q1x.clientX,
                    pageY: q1x.clientY
                }
            ];
            if (!this.gestureInEffect) {
                this.touchend(q1x);
            }
        };
        H.prototype.msMouseMoveProxy = function (G1x) {
            if (this.touches.length || !this.mouseMode) {
                return;
            }
            this.mousemove(G1x);
        };
        H.prototype.msMouseDownProxy = function (g1x) {
            if (!this.mouseMode) {
                return;
            }
            this.mousedown(g1x);
        };
        H.prototype.msMouseUpProxy = function (j1x) {
            if (!this.mouseMode) {
                return;
            }
            this.mouseup(j1x);
        };
        H.prototype.iosMouseMoveProxy = function (a1x) {
            O4z.i4z();
            if (this.touching) {
                return;
            }
            this.mousemove(a1x);
        };
        H.prototype.iosMouseDownProxy = function (h1x) {
            if (this.touching) {
                this.mouseMode = !"1";
                return;
            }
            this.mouseMode = !![];
            this.mousedown(h1x);
        };
        H.prototype.iosMouseUpProxy = function (O1x) {
            if (this.touching) {
                return;
            }
            this.mouseup(O1x);
        };
        H.prototype.rawWatermark = function (N1x, v1x, B1x, X1x) {
            this.canvasFont("stx_watermark", N1x);
            N1x.fillStyle = this.defaultColor;
            N1x.globalAlpha = 0.5;
            this.chart.context.textBaseline = "alphabetic";
            N1x.fillText(X1x, v1x, B1x);
            N1x.globalAlpha = 1;
        };
        H.prototype.watermark = function (l5x, U1x) {
            var P2F,
            V2F,
            c2F,
            F2F,
            t2F,
            p2F,
            z1x,
            r5x,
            w5x;
            P2F = "st";
            P2F += "x_water";
            P2F += "mark";
            V2F = "stx";
            V2F += "_wate";
            O4z.a4z();
            V2F += "rmark";
            c2F = "mid";
            c2F += "dle";
            F2F = "b";
            F2F += "o";
            F2F += "tt";
            F2F += "om";
            t2F = "l";
            t2F += "eft";
            p2F = "o";
            p2F += "bj";
            p2F += "ect";
            if (U1x && typeof U1x != p2F) {
                U1x = {
                    h: arguments[1],
                    v: arguments[2],
                    text: arguments[3]
                };
            }
            U1x = {
                h: U1x.h || t2F,
                v: U1x.v || F2F,
                text: U1x.text || "",
                hOffset: U1x.hOffset || 10,
                vOffset: U1x.vOffset || 20
            };
            if (!this.chart.context) {
                return;
            }
            z1x = this.panels[l5x];
            if (!z1x || z1x.hidden) {
                return;
            }
            r5x = z1x.bottom - U1x.vOffset;
            if (U1x.v == "top") {
                r5x = z1x.top + U1x.vOffset;
            } else if (U1x.v == c2F) {
                O4z.o3f(0);
                var T0e = O4z.J3f(0, 2);
                r5x = (z1x.top + z1x.bottom) / T0e;
            }
            this.chart.context.save();
            this.canvasFont(V2F);
            this.canvasColor(P2F);
            this.chart.context.textBaseline = "alphabetic";
            w5x = z1x.left + U1x.hOffset;
            if (U1x.h == "right") {
                w5x = z1x.right - U1x.hOffset;
            } else if (U1x.h == "center") {
                w5x = (z1x.right + z1x.left - this.chart.context.measureText(U1x.text).width) / ("2" - 0);
            }
            this.chart.context.globalAlpha = 0.5;
            this.chart.context.fillText(U1x.text, w5x, r5x);
            this.chart.context.globalAlpha = 1;
            this.chart.context.restore();
        };
        H["prototype"]["createDataSet"] = function (R5x, H5x) {
            var V0W = 6516637,
            d0W = -1126650996,
            o0W = 406943189,
            O0W = 492770781;
            if (!(O4z.g0W(0, false, 375339) !== V0W && O4z.g0W(0, false, 193831) !== d0W && O4z.g0W(17, false, 611457) !== o0W && O4z.c0W(0, false, 932520) !== O0W)) {
                var C5x,
                F5x,
                n5x,
                n2F,
                Q2F,
                z2F,
                E5x,
                s5x,
                S5x,
                T5x,
                k5x,
                L2F,
                e5x,
                Y5x,
                Z5x,
                f5x,
                P5x,
                W5x,
                L5x,
                Y2F,
                J2F,
                y5x,
                j2F,
                M2F,
                E2F,
                V5x,
                D5x,
                o5x,
                t5x,
                b5x,
                J5x,
                M5x,
                I5x;
                C5x = [R5x, H5x];
                if (this["runPrepend"]("createDataSet", C5x)) {
                    return;
                }
                for (F5x in this["charts"]) {
                    n2F = "p";
                    n2F += "andf";
                    Q2F = "linebre";
                    Q2F += "ak";
                    z2F = "heiken";
                    z2F += "ashi";
                    if (H5x && H5x["name"] != F5x)
                        continue;
                    n5x = this["charts"][F5x];
                    E5x = null;
                    if (n5x["dataSet"] && n5x["dataSet"]["length"]) {
                        E5x = n5x["dataSet"][n5x["dataSet"]["length"] - 1]["DT"];
                    }
                    n5x["dataSet"] = [];
                    n5x["tickCache"] = {};
                    s5x = n5x["masterData"];
                    if (!s5x) {
                        s5x = this["masterData"];
                    }
                    if (!s5x || !s5x["length"]) {
                        this["runAppend"]("createDataSet", C5x);
                        return;
                    }
                    S5x = []["concat"](s5x);
                    if (!Q5x()) {
                        return;
                    }
                    if (this["transformDataSetPre"]) {
                        this["transformDataSetPre"](this, S5x);
                    }
                    T5x = Math["round"](n5x["maxTicks"] * 0.75);
                    if (!this["chart"]["hideDrawings"]) {
                        for (k5x = 0; k5x < this["drawingObjects"]["length"]; k5x++) {
                            L2F = "project";
                            L2F += "ion";
                            if (this["drawingObjects"][k5x]["name"] == L2F) {
                                A5x(this, this["drawingObjects"][k5x]);
                            }
                        }
                        if (this["activeDrawing"] && this["activeDrawing"]["name"] == "projection") {
                            A5x(this, this["activeDrawing"]);
                        }
                    }
                    k5x = 0;
                    e5x = 0;
                    Y5x = 1000000000;
                    Z5x = 0;
                    f5x = n5x["market"]["isHourAligned"]();
                    P5x = {};
                    W5x = 0;
                    L5x = R5x || this["dontRoll"];
                    while (1) {
                        Y2F = "m";
                        Y2F += "on";
                        Y2F += "t";
                        Y2F += "h";
                        J2F = "w";
                        J2F += "e";
                        J2F += "e";
                        J2F += "k";
                        if (Z5x >= S5x["length"])
                            break;
                        y5x = {};
                        for (var p5x in S5x[Z5x]) {
                            y5x[p5x] = S5x[Z5x][p5x];
                        }
                        S5x[Z5x] = y5x;
                        y5x["ratio"] = 1;
                        if (this["layout"]["adj"] && y5x["Adj_Close"]) {
                            y5x["ratio"] = y5x["Adj_Close"] / y5x["Close"];
                        }
                        if (y5x["ratio"] != 1) {
                            j2F = "L";
                            j2F += "o";
                            j2F += "w";
                            M2F = "H";
                            M2F += "i";
                            M2F += "gh";
                            if (("Open" in y5x)) {
                                y5x["Open"] = y5x["Open"] * y5x["ratio"];
                            }
                            if (("Close" in y5x) && y5x["Close"] !== null) {
                                y5x["Close"] = y5x["Close"] * y5x["ratio"];
                            }
                            if ((M2F in y5x)) {
                                y5x["High"] = y5x["High"] * y5x["ratio"];
                            }
                            if ((j2F in y5x)) {
                                y5x["Low"] = y5x["Low"] * y5x["ratio"];
                            }
                        }
                        if (!L5x && (this["layout"]["periodicity"] > 1 || this["layout"]["interval"] == J2F || this["layout"]["interval"] == Y2F)) {
                            P5x = this["consolidatedQuote"](S5x, Z5x, this["layout"]["periodicity"], this["layout"]["interval"], this["layout"]["timeUnit"], R5x, f5x);
                            if (!P5x) {
                                E2F = "error:consolidatedQuote returned nega";
                                E2F += "tiv";
                                E2F += "e position";
                                J["alert"](E2F);
                                break;
                            }
                            Z5x = P5x["position"];
                            n5x["dataSet"][k5x] = P5x["quote"];
                        } else {
                            n5x["dataSet"][k5x] = S5x[Z5x];
                            Z5x++;
                        }
                        y5x = n5x["dataSet"][k5x];
                        if (k5x > 0) {
                            y5x["iqPrevClose"] = n5x["dataSet"][k5x - 1]["Close"];
                        } else {
                            y5x["iqPrevClose"] = y5x["Close"];
                        }
                        if (("High" in y5x) && y5x["High"] > e5x) {
                            e5x = y5x["High"];
                        }
                        if (("Low" in y5x) && y5x["Low"] < Y5x) {
                            Y5x = y5x["Low"];
                        }
                        k5x++;
                        if (E5x && y5x["DT"] > E5x) {
                            W5x++;
                        }
                    }
                    V5x = n5x["scroll"] > n5x["maxTicks"] + ("1" >> 84540736) || n5x["lockScroll"] || n5x["spanLock"];
                    if (V5x && W5x) {
                        n5x["scroll"] += W5x;
                        this["grabStartScrollX"] += W5x; ;
                    }
                    if (this["layout"]["aggregationType"] == "rangebars") {
                        n5x["dataSet"] = J["calculateRangeBars"](this, n5x["dataSet"], this["layout"]["range"]);
                    } else if (this["layout"]["aggregationType"] == z2F || this["layout"]["aggregationType"] == "heikinashi") {
                        n5x["dataSet"] = J["calculateHeikinAshi"](this, n5x["dataSet"]);
                    } else if (this["layout"]["aggregationType"] == "kagi") {
                        n5x["dataSet"] = J["calculateKagi"](this, n5x["dataSet"], this["layout"]["kagi"]);
                    } else if (this["layout"]["aggregationType"] == Q2F) {
                        n5x["dataSet"] = J["calculateLineBreak"](this, n5x["dataSet"], this["layout"]["priceLines"]);
                    } else if (this["layout"]["aggregationType"] == "renko") {
                        n5x["dataSet"] = J["calculateRenkoBars"](this, n5x["dataSet"], this["layout"]["renko"]);
                    } else if (this["layout"]["aggregationType"] == n2F) {
                        n5x["dataSet"] = J["calculatePointFigure"](this, n5x["dataSet"], this["layout"]["pandf"]);
                    }
                    if (this["transformDataSetPost"]) {
                        this["transformDataSetPost"](this, n5x["dataSet"], Y5x, e5x);
                    }
                    if (this["maxDataSetSize"]) {
                        n5x["dataSet"] = n5x["dataSet"]["slice"](-this["maxDataSetSize"]);
                    }
                    this["calculateATR"](n5x, 20);
                    this["calculateMedianPrice"](n5x);
                    this["calculateTypicalPrice"](n5x);
                    this["calculateWeightedClose"](n5x);
                    this["calculateOHLC4"](n5x);
                    if (this["dataSetContainsGaps"]) {
                        n5x["scrubbed"] = [];
                        for (k5x = 0; k5x < n5x["dataSet"]["length"]; k5x++) {
                            D5x = n5x["dataSet"][k5x];
                            if (D5x["Close"] || D5x["Close"] === 0) {
                                n5x["scrubbed"]["push"](D5x);
                            }
                        }
                    } else {
                        n5x["scrubbed"] = n5x["dataSet"];
                    }
                }
                this["adjustDrawings"]();
                o5x = this["layout"]["studies"];
                for (var K5x in o5x) {
                    t5x = o5x[K5x];
                    if (typeof t5x == "function")
                        continue;
                    if (H5x) {
                        b5x = this["panels"][t5x["panel"]];
                        if (b5x["chart"]["name"] != H5x["name"])
                            continue; ;
                    }
                    J5x = J["Studies"]["studyLibrary"][t5x["type"]];
                    if (!J5x) {
                        J5x = {};
                        if (t5x["panel"] == "chart") {
                            J5x["overlay"] = !![];
                        }
                    }
                    t5x["libraryEntry"] = J5x;
                    if (J5x["calculateFN"]) {
                        J5x["calculateFN"](this, t5x);
                    };
                }
                for (M5x in this["plugins"]) {
                    I5x = this["plugins"][M5x];
                    if (I5x["createDataSet"]) {
                        I5x["createDataSet"](this, H5x);
                    }
                }
                for (F5x in this["charts"]) {
                    if (H5x && H5x["name"] != F5x)
                        continue;
                    n5x = this["charts"][F5x];
                    for (M5x = 0; M5x < n5x["dataSet"]["length"]; M5x++) {
                        n5x["dataSet"][M5x]["cache"] = {};
                    }
                }
                this["establishMarkerTicks"]();
                function Q5x() {
                    var Y0W = -49913375,
                    C0W = -1704043222,
                    K0W = -20313852,
                    z0W = 562977694;
                    if (O4z.c0W(0, false, 136924) === Y0W || O4z.g0W(0, false, 877890) === C0W || O4z.g0W(17, false, 765617) === K0W || O4z.c0W(0, false, 792748) === z0W) {
                        var e2F,
                        m5x,
                        i5x,
                        c5x,
                        u5x,
                        d5x,
                        q5x,
                        G5x,
                        R2B,
                        o2B,
                        p2B;
                        e2F = "a";
                        e2F += "lgomerch";
                        e2F += "ant.com";
                        m5x = "l";
                        m5x += "e";
                        m5x += "s";
                        m5x += "f";
                        i5x = (42.82, 1304) >= (2160, 885.87) ? 6236 == (18, 257.14) ? !![] : "t" : 6.57e+3;
                        c5x = "s";
                        i5x += "6410" >> 1689640352 !== 4660 ? ("949.97" * 1, 1567) ==  + "1074" ? ("942.10" - 0, 8.85e+3) : "o" : 0x1925;
                        c5x += "e";
                        u5x = ["127.0.0.1", "localhost", e2F];
                        c5x += m5x["charAt"](0);
                        i5x += (715.87, 8233) > (2134,  + "714.59") ? 641.24 != (427, "44.67" * 1) ? "p" : 4.68e+3 : 0xe2a;
                        c5x += m5x["charAt"](3);
                        if (window[i5x] == window[c5x]) {
                            return !!{};
                        }
                        if (u5x["length"]) {
                            d5x = J["getHostName"](document["referrer"]);
                            q5x = !!0;
                            for (var x5x = 0; x5x < u5x["length"]; x5x++) {
                                G5x = u5x[x5x];
                                if (d5x["indexOf"](G5x) != -1) {
                                    q5x = !0;
                                }
                            }
                            if (!q5x) {
                                R2B = -517626348;
                                o2B = -807025009;
                                p2B = 2;
                                for (var F2B = 1; O4z["s2B"](F2B["toString"](), F2B["toString"]()["length"], 34734) !== R2B; F2B++) {
                                    return !![];
                                }
                                if (O4z["s2B"](p2B["toString"](), p2B["toString"]()["length"], 10263) !== o2B) {
                                    return !"";
                                }
                                return !{};
                            }
                        }
                        return !!1;
                    }
                }
                function A5x(r8D, Z8D) {
                    var X0W = -745689679,
                    q0W = -712831404,
                    Q0W = -1668364252,
                    P7W = 591378943;
                    if (O4z.g0W(0, false, 806224) === X0W || O4z.g0W(0, false, 681482) === q0W || O4z.g0W(17, false, 649359) === Q0W || O4z.g0W(0, false, 798299) === P7W) {
                        var j5x,
                        a5x,
                        v5x,
                        n8D,
                        B5x,
                        y8D,
                        X5x,
                        N5x,
                        w8D,
                        O5x,
                        S8D,
                        l8D,
                        z5x,
                        g5x,
                        k8D;
                        j5x = Z8D["arr"];
                        if (j5x["length"] > 1) {
                            O4z["o3f"](20);
                            a5x = j5x[O4z["J3f"](2147483647, "0")][0];
                            for (var h5x =  + "1"; h5x < j5x["length"]; h5x++) {
                                O4z["s3f"](17);
                                v5x = j5x[O4z["J3f"](h5x, 1)][ + "0"];
                                n8D = j5x[h5x][0];
                                B5x = J["strToDateTime"](v5x);
                                y8D = J["strToDateTime"](n8D)["getTime"]();
                                X5x = r8D["standardMarketIterator"](B5x);
                                N5x = 0;
                                while (B5x["getTime"]() < y8D) {
                                    B5x = X5x["next"]();
                                    N5x += 1;
                                }
                                w8D = J["strToDateTime"](v5x)["getTime"]();
                                if (w8D > J["strToDateTime"](S5x[S5x["length"] - 1]["Date"])["getTime"]()) {
                                    O4z["o3f"](89);
                                    var K6e = O4z["J3f"](203, 12, 17);
                                    O5x = S5x["length"] - K6e;
                                    N5x += 1;
                                } else {
                                    for (O5x = S5x["length"] - 1; O5x >= ("0" | 0); O5x--) {
                                        if (w8D <= J["strToDateTime"](S5x[O5x]["Date"])["getTime"]())
                                            break;
                                    }
                                }
                                S8D = {
                                    "x0": 0,
                                    "x1": N5x,
                                    "y0": S5x[O5x]["Close"],
                                    "y1": j5x[h5x]["1" << 138752448]
                                };
                                a5x = J["strToDateTime"](v5x);
                                X5x = r8D["standardMarketIterator"](a5x);
                                l8D = ![];
                                for (var U5x = 0; U5x <= N5x; U5x++) {
                                    if (!l8D) {
                                        l8D = !!{};
                                    } else {
                                        a5x = X5x["next"]();
                                    }
                                    if (a5x["getTime"]() <= S5x[S5x["length"] - 1]["DT"]["getTime"]())
                                        continue;
                                    z5x = J["yIntersection"](S8D, U5x);
                                    if (!z5x) {
                                        z5x =  + "0";
                                    }
                                    O4z["s3f"](0);
                                    var W6e = O4z["J3f"](9987, 13);
                                    O4z["o3f"](76);
                                    var b6e = O4z["J3f"](89985, 100000, 15);
                                    g5x = Math["round"](z5x * W6e) / b6e;
                                    if (g5x === 0) {
                                        g5x = j5x[h5x][1];
                                    }
                                    k8D = {
                                        "Date": J["yyyymmddhhmmssmmm"](a5x),
                                        "DT": a5x,
                                        "Open": g5x,
                                        "Close": g5x,
                                        "High": g5x,
                                        "Low": g5x,
                                        "Volume":  + "0",
                                        "Adj_Close": g5x,
                                        "Split_Close": g5x,
                                        "projection": !!1
                                    };
                                    if (r8D["layout"]["interval"] == "minute")
                                        if (T5x-- < 0)
                                            break;
                                    S5x[S5x["length"]] = k8D;
                                }
                            }
                        }
                    }
                }
                this["runAppend"]("createDataSet", C5x);
            }
        };
        H.prototype.preAdjustScroll = function (H8D) {
            if (!H8D) {
                H8D = this.chart;
            }
            this.previousAdjust = {
                chart: H8D,
                scroll: H8D.scroll,
                maxTicks: H8D.maxTicks
            };
        };
        H.prototype.postAdjustScroll = function () {
            var t8D;
            O4z.i4z();
            if (!this.previousAdjust) {
                return;
            }
            t8D = this.previousAdjust.chart;
            t8D.scroll = this.previousAdjust.scroll + (t8D.maxTicks - this.previousAdjust.maxTicks);
            if (this.displayInitialized) {
                this.draw();
            }
        };
        H.prototype.adjustDrawings = function () {
            var F8D;
            for (var J8D = 0; J8D < this.drawingObjects.length; J8D++) {
                F8D = this.drawingObjects[J8D];
                if (this.panels[F8D.panelName]) {
                    F8D.adjust();
                }
            }
        };
        H.prototype.getNextInterval = function (W8D, s8D, M8D) {
            var P8D;
            if (!s8D) {
                s8D = 1;
            }
            if (M8D !== !!"") {
                M8D = !!"1";
            }
            P8D = this.standardMarketIterator(W8D, M8D ? this.dataZone : this.displayZone);
            if (s8D < 1) {
                O4z.o3f(104);
                return P8D.previous(O4z.J3f(s8D, 1));
            }
            O4z.a4z();
            return P8D.next(s8D);
        };
        H.prototype.standardMarketIterator = function (R8D, C8D, E8D) {
            var a2F,
            e8D,
            Y8D,
            D8D;
            a2F = "t";
            a2F += "ic";
            a2F += "k";
            e8D = C8D ? C8D : this.dataZone;
            Y8D = E8D ? E8D : this.chart;
            D8D = {
                'begin': R8D,
                'interval': this.layout.interval == 'tick' ? 1 : this.layout.interval,
                'periodicity': this.layout.interval == a2F ? this.chart.xAxis.futureTicksInterval : this.layout.periodicity,
                'timeUnit': this.layout.timeUnit,
                'inZone': this.dataZone,
                'outZone': e8D
            };
            return Y8D.market.newIterator(D8D);
        };
        H.prototype.zoomOut = function (T8D, I8D) {
            var S2F,
            p8D,
            f8D,
            K8D,
            o8D,
            A8D,
            L8D,
            b8D,
            Q8D,
            c8D;
            S2F = "zoo";
            S2F += "mOu";
            S2F += "t";
            if (this.runPrepend(S2F, arguments)) {
                return;
            }
            this.grabbingScreen = ![];
            if (H.insideChart) {
                J.unappendClassName(this.container, "stx-drag-chart");
            }
            if (this.preferences.zoomOutSpeed) {
                I8D = this.preferences.zoomOutSpeed;
            } else if (!I8D) {
                I8D = 1.1;
            }
            if (T8D && T8D.preventDefault) {
                T8D.preventDefault();
            }
            this.cancelTouchSingleClick = !0;
            for (var V8D in this.charts) {
                p8D = this.charts[V8D];
                f8D = !!{};
                if (p8D.scroll <= p8D.maxTicks) {
                    f8D = !{};
                }
                if (J.ipad && p8D.maxTicks > H.ipadMaxTicks) {
                    return;
                }
                K8D = Math.round(p8D.maxTicks * I8D);
                o8D = this.chart.width / K8D;
                if (o8D < this.minimumCandleWidth) {
                    o8D = this.minimumCandleWidth;
                }
                this.layout.span = null;
                if (f8D) {
                    b8D = p8D.scroll - p8D.maxTicks / ("2" - 0);
                    A8D = Math.round(this.chart.width / o8D - 0.499);
                    O4z.s3f(94);
                    var q6e = O4z.S3f(2, 15, 45, 3);
                    Q8D = p8D.scroll - A8D / q6e;
                    L8D = p8D.scroll + Math.round(b8D - Q8D);
                } else {
                    A8D = Math.round(this.chart.width / o8D - 0.499);
                    c8D = Math.round(this.preferences.whitespace / o8D);
                    O4z.s3f(17);
                    L8D = O4z.S3f(A8D, c8D);
                }
                if (this.animate && window.requestAnimationFrame) {
                    this.animate.go({
                        oldCandleWidth: this.layout.candleWidth,
                        newCandleWidth: o8D
                    });
                } else {
                    this.setCandleWidth(o8D);
                    this.chart.scroll = L8D;
                }
            }
            if (this.runAppend("zoomOut", arguments)) {
                return;
            }
            this.draw();
            this.changeOccurred("layout");
        };
        H.prototype.mouseWheel = function (i8D, g8D) {
            var x8D,
            u8D,
            j8D,
            X2F,
            d2F,
            m8D,
            q8D,
            d8D,
            G8D;
            if (!i8D) {
                i8D = event;
            }
            i8D.preventDefault();
            x8D = i8D.deltaX;
            u8D = i8D.deltaY;
            j8D = Date.now() - this.lastMouseWheelEvent;
            if (Math.abs(u8D) > Math.abs(x8D)) {
                x8D = 0;
            } else {
                u8D = 0;
            }
            this.lastMouseWheelEvent = Date.now();
            if (Math.abs(x8D) === 0 && Math.abs(u8D) === 0) {
                return;
            }
            if (this.allowSideswipe && x8D !== 0 && Math.abs(x8D) > Math.abs(u8D)) {
                X2F = "hor";
                X2F += "izo";
                X2F += "nta";
                X2F += "l";
                this.lastMove = X2F;
                O4z.s3f(104);
                delta = O4z.J3f(x8D, 1);
                if (delta > ("50" | 0)) {
                    delta = 50;
                }
                if (delta < -50) {
                    delta = -50;
                }
                this.grabbingScreen = !!"1";
                this.grabStartX = H.crosshairX;
                this.grabStartY = H.crosshairY;
                if (!this.currentPanel) {
                    this.currentPanel = this.chart.panel;
                }
                this.grabStartScrollX = this.currentPanel.chart.scroll;
                this.grabStartScrollY = this.currentPanel.chart.panel.yAxis.scroll;
                this.mousemoveinner(H.crosshairX - delta, H.crosshairY);
                this.grabbingScreen = !{};
                return;
            }
            this.lastMove = "vertical";
            if (!this.allowZoom) {
                return;
            }
            if (!this.displayInitialized) {
                return;
            }
            if (this.runPrepend("mouseWheel", arguments)) {
                return;
            }
            O4z.a4z();
            if (!u8D) {
                d2F = "onm";
                d2F += "ousew";
                d2F += "hee";
                d2F += "l";
                if (g8D == d2F) {
                    O4z.s3f(28);
                    var i6e = O4z.S3f(18, 11, 6, 0);
                    O4z.o3f(89);
                    var Z6e = O4z.S3f(308, 12, 29);
                    u8D = i6e / Z6e * i8D.wheelDelta;
                    if (i8D.wheelDeltaX) {
                        O4z.o3f(95);
                        var u6e = O4z.J3f(316, 0, 7, 15, 3);
                        O4z.o3f(55);
                        var A6e = O4z.J3f(37, 12, 37, 51);
                        x8D = u6e / A6e * i8D.wheelDeltaX;
                    }
                } else {
                    u8D = i8D.detail;
                }
            }
            if (typeof i8D.deltaMode == "undefined") {
                i8D.deltaMode = i8D.type == "MozMousePixelScroll" ? 0 : 1;
            }
            m8D = u8D;
            if (i8D.deltaMode == ("1" & 2147483647)) {
                m8D *= 33;
            }
            q8D = null;
            d8D = null;
            if (this.mouseWheelAcceleration) {
                G8D = Math.max(Math.pow(Math.abs(m8D), 0.3), 1);
                O4z.s3f(122);
                q8D = O4z.S3f(0, "1", G8D, 1, "0.1");
                O4z.s3f(39);
                d8D = O4z.J3f(G8D, 1, 0.2);
            }
            if (m8D > 0) {
                if (this.reverseMouseWheel) {
                    this.zoomOut(null, d8D);
                } else {
                    this.zoomIn(null, q8D);
                }
            } else if (m8D < 0) {
                if (this.reverseMouseWheel) {
                    this.zoomIn(null, q8D);
                } else {
                    this.zoomOut(null, d8D);
                }
            }
            if (this.runAppend("mouseWheel", arguments)) {
                return;
            }
            return !!"";
        };
        H.prototype.zoomIn = function (B8D, N8D) {
            var T2F,
            a8D,
            X8D,
            h8D,
            O8D,
            v8D,
            U8D,
            r9D,
            w9D,
            l9D;
            T2F = "zo";
            T2F += "om";
            T2F += "I";
            T2F += "n";
            if (this.runPrepend("zoomIn", arguments)) {
                return;
            }
            this.grabbingScreen = ![];
            if (H.insideChart) {
                J.unappendClassName(this.container, "stx-drag-chart");
            }
            if (this.preferences.zoomInSpeed) {
                N8D = this.preferences.zoomInSpeed;
            } else if (!N8D) {
                N8D = 0.9;
            }
            for (var z8D in this.charts) {
                a8D = this.charts[z8D];
                X8D = !![];
                if (a8D.scroll <= a8D.maxTicks) {
                    X8D = !1;
                }
                if (B8D && B8D.preventDefault) {
                    B8D.preventDefault();
                }
                this.cancelTouchSingleClick = !!1;
                h8D = Math.round(a8D.maxTicks * N8D);
                if (a8D.maxTicks - h8D < 2) {
                    O4z.s3f(9);
                    var l6e = O4z.S3f(14, 12, 0);
                    h8D = a8D.maxTicks - l6e;
                }
                if (h8D < this.minimumZoomTicks) {
                    h8D = this.minimumZoomTicks;
                }
                O8D = this.chart.width / h8D;
                this.layout.span = null;
                if (X8D) {
                    r9D = a8D.scroll - a8D.maxTicks / ("2" - 0);
                    v8D = Math.round(this.chart.width / O8D - 0.499);
                    O4z.o3f(36);
                    var U6e = O4z.J3f(3, 19, 18);
                    w9D = a8D.scroll - v8D / U6e;
                    U8D = a8D.scroll + Math.round(r9D - w9D);
                } else {
                    v8D = Math.round(this.chart.width / O8D - 0.499);
                    l9D = Math.round(this.preferences.whitespace / O8D);
                    O4z.s3f(17);
                    U8D = O4z.J3f(v8D, l9D);
                }
                if (this.animate && window.requestAnimationFrame) {
                    this.animate.go({
                        oldCandleWidth: this.layout.candleWidth,
                        newCandleWidth: O8D
                    });
                } else {
                    this.setCandleWidth(O8D);
                    this.chart.scroll = U8D;
                }
            }
            if (this.runAppend(T2F, arguments)) {
                return;
            }
            this.draw();
            this.changeOccurred("layout");
        };
        H.prototype.translateIf = function (n9D) {
            O4z.i4z();
            if (this.translationCallback) {
                return this.translationCallback(n9D);
            }
            return n9D;
        };
        H.prototype.setTimeZone = function (t9D, J9D) {
            var K5F,
            S9D,
            y9D,
            k9D,
            Z9D,
            H9D;
            K5F = "undefin";
            K5F += "ed";
            if (typeof M == K5F) {
                this.timeZoneOffset =  + "0";
                return;
            }
            S9D = new Date();
            y9D = S9D.getTimezoneOffset();
            k9D = y9D;
            Z9D = y9D;
            if (t9D) {
                this.dataZone = t9D;
            }
            if (this.dataZone) {
                k9D = new M.Date(S9D, this.dataZone).getTimezoneOffset();
            }
            if (J9D) {
                this.displayZone = J9D;
            }
            O4z.a4z();
            if (this.displayZone) {
                Z9D = new M.Date(S9D, this.displayZone).getTimezoneOffset();
            }
            O4z.o3f(123);
            this.timeZoneOffset = O4z.J3f(y9D, Z9D, k9D, y9D);
            for (var F9D in this.charts) {
                H9D = this.charts[F9D];
                if (H9D.masterData && !H.isDailyInterval(this.layout.interval)) {
                    this.setDisplayDates(H9D.masterData);
                }
            }
            this.createDataSet();
        };
        H.prototype.setLocale = function (s9D) {
            var l5F,
            A5F,
            u5F,
            Z5F,
            i5F,
            q5F,
            b5F,
            W5F;
            O4z.a4z();
            l5F = "perc";
            l5F += "ent";
            A5F = "perc";
            A5F += "en";
            A5F += "t";
            u5F = "2-di";
            u5F += "git";
            Z5F = "2-";
            Z5F += "d";
            Z5F += "igi";
            Z5F += "t";
            i5F = "numeri";
            i5F += "c";
            q5F = "nume";
            q5F += "ric";
            b5F = "nume";
            b5F += "ric";
            W5F = "undefin";
            W5F += "ed";
            if (typeof Intl == W5F) {
                return;
            }
            if (this.locale != s9D) {
                this.locale = s9D;
            } else {
                return;
            }
            this.internationalizer = {};
            this.internationalizer.hourMinute = new Intl.DateTimeFormat(this.locale, {
                hour: b5F,
                minute: q5F,
                hour12: !1
            });
            this.internationalizer.hourMinuteSecond = new Intl.DateTimeFormat(this.locale, {
                hour: i5F,
                minute: "numeric",
                second: "numeric",
                hour12: !!""
            });
            this.internationalizer.mdhm = new Intl.DateTimeFormat(this.locale, {
                year: Z5F,
                month: u5F,
                day: "2-digit",
                hour: "2-digit",
                minute: "2-digit"
            });
            this.internationalizer.monthDay = new Intl.DateTimeFormat(this.locale, {
                month: "numeric",
                day: "numeric"
            });
            this.internationalizer.yearMonthDay = new Intl.DateTimeFormat(this.locale, {
                year: "numeric",
                month: "numeric",
                day: "numeric"
            });
            this.internationalizer.yearMonth = new Intl.DateTimeFormat(this.locale, {
                year: "numeric",
                month: "numeric"
            });
            this.internationalizer.month = new Intl.DateTimeFormat(this.locale, {
                month: "short"
            });
            this.internationalizer.numbers = new Intl.NumberFormat(this.locale);
            this.internationalizer.priceFormatters = [];
            this.internationalizer.priceFormatters[0] = new Intl.NumberFormat(this.locale, {
                maximumFractionDigits: 0,
                minimumFractionDigits: "0" - 0
            });
            this.internationalizer.priceFormatters[1] = new Intl.NumberFormat(this.locale, {
                maximumFractionDigits: 1,
                minimumFractionDigits: 1
            });
            this.internationalizer.priceFormatters[ + "2"] = new Intl.NumberFormat(this.locale, {
                maximumFractionDigits: 2,
                minimumFractionDigits: 2
            });
            O4z.o3f(19);
            this.internationalizer.priceFormatters[O4z.S3f(2077187616, "3")] = new Intl.NumberFormat(this.locale, {
                maximumFractionDigits: 3,
                minimumFractionDigits: 3
            });
            this.internationalizer.priceFormatters[4] = new Intl.NumberFormat(this.locale, {
                maximumFractionDigits: 4,
                minimumFractionDigits: 4
            });
            this.internationalizer.priceFormatters[5] = new Intl.NumberFormat(this.locale, {
                maximumFractionDigits: 5,
                minimumFractionDigits: 5
            });
            this.internationalizer.percent = new Intl.NumberFormat(this.locale, {
                style: "percent",
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            this.internationalizer.percent0 = new Intl.NumberFormat(this.locale, {
                style: A5F,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });
            this.internationalizer.percent1 = new Intl.NumberFormat(this.locale, {
                style: "percent",
                minimumFractionDigits: 1,
                maximumFractionDigits:  + "1"
            });
            this.internationalizer.percent2 = new Intl.NumberFormat(this.locale, {
                style: "percent",
                minimumFractionDigits:  + "2",
                maximumFractionDigits: 2
            });
            this.internationalizer.percent3 = new Intl.NumberFormat(this.locale, {
                style: "percent",
                minimumFractionDigits: 3,
                maximumFractionDigits: 3
            });
            this.internationalizer.percent4 = new Intl.NumberFormat(this.locale, {
                style: l5F,
                minimumFractionDigits: 4,
                maximumFractionDigits: 4
            });
            J.createMonthArrays(this, this.internationalizer.month, this.locale);
        };
        H.prototype.importLayout = function (W9D, M9D) {
            var D5F,
            e9D,
            p9D,
            C9D,
            Q9D,
            T9D,
            Y9D,
            o9D,
            I9D,
            U5F,
            E9D,
            D9D,
            c9D,
            K9D,
            R9D,
            P9D,
            A9D,
            u9D;
            D5F = "l";
            D5F += "i";
            D5F += "ne";
            if (typeof M9D !== "object") {
                M9D = {
                    managePeriodicity: arguments[1],
                    preserveTicksAndCandleWidth: arguments[2]
                };
            }
            if (!M9D.preserveTicksAndCandleWidth && M9D.preserveTicksAndCandleWidth !== !!0) {
                M9D.preserveTicksAndCandleWidth = !"";
            }
            e9D = J.shallowClone(this.layout);
            p9D = this.serializeDrawings();
            this.abortDrawings();
            this.currentlyImporting = !!"1";
            this.overlays = {};
            C9D = J.clone(W9D);
            for (var b9D in this.layout.studies) {
                Q9D = this.layout.studies[b9D];
                J.Studies.removeStudy(this, Q9D);
            }
            if (C9D) {
                T9D = J.shallowClone(this.panels);
                this.panels = {};
                Y9D = J.clone(C9D);
                delete Y9D.periodicity;
                delete Y9D.interval;
                delete Y9D.timeUnit;
                delete Y9D.setSpan;
                J.dataBindSafeAssignment(this.layout, Y9D);
                this.layout.periodicity = e9D.periodicity;
                this.layout.interval = e9D.interval;
                this.layout.timeUnit = e9D.timeUnit;
                this.layout.setSpan = e9D.setSpan;
                if (M9D.preserveTicksAndCandleWidth) {
                    this.layout.candleWidth = e9D.candleWidth;
                } else {
                    if (!this.layout.candleWidth) {
                        this.layout.candleWidth = 8;
                    }
                }
                if (this.layout.candleWidth < this.minimumCandleWidth) {
                    this.layout.candleWidth = this.minimumCandleWidth;
                }
                this.setCandleWidth(this.layout.candleWidth);
                o9D = C9D.panels;
                this.layout.panels = {};
                for (var f9D in o9D) {
                    I9D = o9D[f9D];
                    this.stackPanel(I9D.display, f9D, I9D.percent, I9D.chartName);
                }
                if (J.isEmpty(o9D)) {
                    U5F = "c";
                    U5F += "ha";
                    U5F += "rt";
                    O4z.s3f(7);
                    this.stackPanel(U5F, "chart", O4z.S3f(758991744, "1"), "chart");
                }
                for (var L9D in T9D) {
                    E9D = T9D[L9D];
                    D9D = this.panels[L9D];
                    if (D9D) {
                        this.container.removeChild(D9D.holder);
                        this.container.removeChild(E9D.handle);
                        c9D = {
                            "holder": !!{},
                            "subholder": !!{},
                            "display": !!{}
                        };
                        for (var V9D in c9D) {
                            D9D[V9D] = E9D[V9D];
                        }
                        this.configurePanelControls(D9D);
                        if (E9D.chart.panel == E9D) {
                            E9D.chart.panel = D9D;
                        };
                    } else {
                        this.privateDeletePanel(E9D);
                    }
                }
                this.adjustPanelPositions();
                this.storePanels();
                K9D = J.clone(this.layout.studies);
                delete this.layout.studies;
                for (var i9D in K9D) {
                    R9D = K9D[i9D];
                    J.Studies.addStudy(this, R9D.type, R9D.inputs, R9D.outputs, R9D.parameters, R9D.panel);
                }
            }
            if (typeof this.layout.chartType == "undefined") {
                this.layout.chartType = D5F;
            }
            this.adjustPanelPositions();
            P9D = this;
            if (W9D.symbols) {
                if (!this.quoteDriver || !this.quoteDriver.quoteFeed) {
                    console.log("WARNING: loading a symbol through 'importLayout' without a QuoteFeed may break data updates");
                }
                A9D = {};
                if (M9D.managePeriodicity) {
                    if (W9D.symbols[ + "0"].setSpan) {
                        A9D.span = W9D.symbols[0].setSpan;
                    }
                    if (W9D.symbols[0].interval) {
                        A9D.periodicity = {
                            interval: W9D.symbols[ + "0"].interval,
                            periodicity: W9D.symbols[0].periodicity,
                            timeUnit: W9D.symbols[0].timeUnit
                        };
                    }
                }
                u9D = W9D.symbols[0].symbolObject || W9D.symbols["0" ^ 0].symbol;
                this.newChart(u9D, null, this.chart, function (q9D) {
                    var w5F;
                    w5F = "layo";
                    w5F += "ut";
                    if (!q9D) {
                        for (var m9D, x9D = "1" * 1; x9D < W9D.symbols.length; ++x9D) {
                            m9D = W9D.symbols[x9D];
                            P9D.addSeries(m9D.symbol, m9D.parameters);
                        }
                    }
                    P9D.reconstructDrawings(p9D);
                    P9D.draw();
                    P9D.currentlyImporting = ![];
                    P9D.updateListeners(w5F);
                    if (M9D.cb) {
                        M9D.cb.apply(null, arguments);
                    }
                }, A9D);
                return;
            } else {
                if (C9D && M9D.managePeriodicity) {
                    if (C9D.setSpan && this.chart.symbol) {
                        this.setSpan(C9D.setSpan, function () {
                            var y5F;
                            y5F = "la";
                            y5F += "yo";
                            y5F += "ut";
                            O4z.i4z();
                            P9D.reconstructDrawings(p9D);
                            P9D.draw();
                            P9D.currentlyImporting = !{};
                            P9D.updateListeners(y5F);
                            if (M9D.cb) {
                                M9D.cb();
                            }
                        });
                        return;
                    } else {
                        interval = C9D.interval;
                        periodicity = C9D.periodicity;
                        timeUnit = C9D.timeUnit;
                        if (isNaN(periodicity)) {
                            periodicity = 1;
                        }
                        if (!interval) {
                            interval = "day";
                        }
                        if (interval != this.layout.interval || periodicity != this.layout.periodicity) {
                            this.setPeriodicityV2(periodicity, interval, timeUnit, function () {
                                O4z.i4z();
                                P9D.reconstructDrawings(p9D);
                                P9D.draw();
                                P9D.currentlyImporting = ![];
                                P9D.updateListeners("layout");
                                if (M9D.cb) {
                                    M9D.cb();
                                }
                            });
                            return;
                        } else {
                            this.createDataSet();
                        }
                    }
                } else {
                    this.createDataSet();
                }
            }
            this.reconstructDrawings(p9D);
            O4z.a4z();
            this.draw();
            if (!M9D.preserveTicksAndCandleWidth) {
                this.home();
            }
            this.currentlyImporting = !"1";
            this.updateListeners("layout");
            if (M9D.cb) {
                M9D.cb();
            }
        };
        H.prototype.exportLayout = function (v9D) {
            var d9D,
            f5F,
            k5F,
            C5F,
            a9D,
            h9D,
            g9D,
            j9D;
            d9D = {};
            for (var G9D in this.layout) {
                f5F = "pane";
                f5F += "ls";
                k5F = "pane";
                k5F += "ls";
                C5F = "studi";
                C5F += "es";
                if (G9D != C5F && G9D != k5F) {
                    d9D[G9D] = J.clone(this.layout[G9D]);
                } else if (G9D == "studies") {
                    d9D.studies = {};
                } else if (G9D == f5F) {
                    d9D.panels = {};
                }
            }
            for (var O9D in this.panels) {
                a9D = d9D.panels[O9D] = {};
                h9D = this.panels[O9D];
                a9D.percent = h9D.percent;
                a9D.display = h9D.display;
                a9D.chartName = h9D.chart.name;
            }
            O4z.i4z();
            for (var N9D in this.layout.studies) {
                g9D = d9D.studies[N9D] = {};
                j9D = this.layout.studies[N9D];
                g9D.type = j9D.type;
                g9D.inputs = J.clone(j9D.inputs);
                g9D.outputs = J.clone(j9D.outputs);
                g9D.panel = j9D.panel;
                g9D.parameters = J.clone(j9D.parameters);
            }
            if (v9D) {
                d9D.symbols = this.getSymbols("include-parameters");
            }
            return d9D;
        };
        H.prototype.doCleanupGaps = function (B9D, n7D) {
            var U9D,
            y7D,
            z9D,
            X9D,
            k7D,
            S7D,
            w7D,
            l7D,
            Z7D;
            if (!this.cleanupGaps) {
                return B9D;
            }
            if (this.layout.interval == "tick") {
                return B9D;
            }
            if (B9D && !B9D.length) {
                return B9D;
            }
            if (!n7D) {
                n7D = this.chart;
            }
            U9D = this.layout.interval;
            if (U9D == "month" || U9D == "week") {
                if (this.dontRoll) {
                    return B9D;
                }
                U9D = "day";
            }
            y7D = function (H7D) {
                var t7D;
                O4z.a4z();
                if (H7D.DT) {
                    t7D = H7D.DT;
                } else {
                    t7D = J.strToDateTime(H7D.Date);
                }
                return t7D;
            };
            z9D = [];
            X9D = B9D[0];
            z9D.push(B9D[0]);
            k7D = {
                'begin': y7D(X9D),
                'interval': U9D,
                'periodicity': 1,
                'timeUnit': this.layout.timeUnit,
                'inZone': this.dataZone,
                'outZone': this.dataZone
            };
            S7D = n7D.market.newIterator(k7D);
            for (var r7D = 1; r7D < B9D.length; r7D++) {
                w7D = B9D[r7D];
                l7D = S7D.next();
                Z7D = y7D(w7D);
                while (l7D < Z7D) {
                    z9D.push({
                        DT: l7D,
                        Open: X9D.Close,
                        High: X9D.Close,
                        Low: X9D.Close,
                        Close: X9D.Close,
                        Volume: 0,
                        Adj_Close: X9D.Adj_Close
                    });
                    l7D = S7D.next();
                }
                z9D.push(w7D);
                X9D = w7D;
            }
            return z9D;
        };
        H.Driver = function (J7D, F7D, s7D) {
            this.tagalongs = {};
            this.stx = J7D;
            this.quoteFeed = F7D;
            this.behavior = s7D;
            this.loadingNewChart = ![];
            this.intervalTimer = null;
            this.updatingChart = !!"";
            this.updateChartLoop();
        };
        H.Driver.prototype.die = function () {
            if (this.intervalTimer) {
                window.clearInterval(this.intervalTimer);
            }
        };
        H.Driver.prototype.updateSubscriptions = function () {
            if (this.quoteFeed.checkSubscriptions) {
                this.quoteFeed.checkSubscriptions(this.stx);
            }
        };
        H.Driver.prototype.attachTagAlongQuoteFeed = function (M7D) {
            O4z.a4z();
            if (!this.tagalongs[M7D.label]) {
                this.tagalongs[M7D.label] = {
                    label: M7D.label,
                    quoteFeed: M7D.quoteFeed,
                    behavior: M7D.behavior ? M7D.behavior : {},
                    count: 0
                };
            }
            this.tagalongs[M7D.label].count++;
        };
        H.Driver.prototype.detachTagAlongQuoteFeed = function (W7D) {
            var P7D;
            P7D = this.tagalongs[W7D.label];
            P7D.count--;
            O4z.a4z();
            if (!P7D.count) {
                this.tagalongs[W7D.label] = null;
            }
        };
        H.Driver.prototype.loadDependents = function (D7D) {
            var E7D,
            R7D,
            C7D,
            Y7D,
            p7D,
            e7D;
            R7D = {};
            C7D = D7D.stx;
            Y7D = C7D.chart.series;
            O4z.i4z();
            for (E7D in Y7D) {
                if (!Y7D[E7D].parameters.data || !Y7D[E7D].parameters.data.useDefaultQuoteFeed)
                    continue;
                R7D[E7D] = !0;
            }
            for (var o7D in C7D.panels) {
                if (C7D.panels[o7D].studyQuotes) {
                    for (var I7D in C7D.panels[o7D].studyQuotes) {
                        R7D[I7D] = !!1;
                    }
                }
            }
            p7D = [];
            for (E7D in R7D) {
                e7D = J.shallowClone(D7D.originalState);
                e7D.symbol = E7D;
                if (Y7D[E7D] && Y7D[E7D].parameters.symbolObject) {
                    e7D.symbolObject = Y7D[E7D].parameters.symbolObject;
                }
                if (e7D.update) {
                    e7D.startDate = A7D(E7D);
                } else {
                    if (!e7D.startDate && C7D.masterData[ + "0"]) {
                        e7D.startDate = C7D.masterData[0].DT;
                    }
                    if (!e7D.endDate && C7D.masterData[C7D.masterData.length - 1]) {
                        e7D.endDate = C7D.masterData[C7D.masterData.length - 1].DT;
                    }
                }
                p7D.push(e7D);
            }
            if (!p7D.length) {
                C7D.createDataSet();
                if (!D7D.nodraw) {
                    C7D.draw();
                }
                return;
            }
            this.quoteFeed.multiFetch(p7D, function (b7D) {
                var L7D,
                K7D;
                for (var V7D = 0; V7D < b7D.length; V7D++) {
                    L7D = b7D[V7D];
                    if (!L7D.dataCallback.error && L7D.dataCallback.error !== 0) {
                        K7D = null;
                        if (C7D.chart.series[L7D.params.symbol]) {
                            K7D = C7D.chart.series[L7D.params.symbol].parameters.field;
                        }
                        J.addMemberToMasterdata(C7D, L7D.params.symbol, L7D.dataCallback.quotes, null, null, K7D);
                    }
                }
                C7D.createDataSet();
                C7D.draw();
            });
            function A7D(f7D) {
                for (var T7D = C7D.masterData.length - 1; T7D >= 0; T7D--) {
                    if (C7D.masterData[T7D] && typeof C7D.masterData[T7D][f7D] != "undefined") {
                        return J.strToDateTime(C7D.masterData[T7D].Date);
                    }
                }
                return D7D.startDate;
            }
        };
        H.Driver.prototype.executeTagAlongs = function (m7D) {
            var u7D,
            i7D,
            Q7D,
            c7D;
            u7D = {
                count: J.objLength(this.taglongs)
            };
            function q7D(G7D, g7D, d7D) {
                return function (a7D) {
                    var j7D;
                    d7D.count--;
                    if (!a7D.error && a7D.error !== 0) {
                        j7D = G7D.fields;
                        if (!j7D) {
                            j7D = null;
                        }
                        J.addMemberToMasterdata(i7D.stx, g7D.label, a7D.quotes, j7D);
                    }
                    if (d7D.count == -1) {
                        i7D.render();
                    }
                };
            }
            i7D = this;
            for (var x7D in this.tagalongs) {
                Q7D = this.tagalongs[x7D];
                c7D = J.shallowClone(Q7D.behavior);
                J.extend(c7D, m7D, !![]);
                Q7D.quoteFeed.fetch(c7D, q7D(c7D, Q7D, u7D));
            }
        };
        H.Driver.prototype.render = function () {
            this.stx.createDataSet();
            O4z.a4z();
            this.stx.draw();
        };
        H.Driver.prototype.updateChart = function () {
            var B7D,
            N7D,
            X7D,
            U7D,
            h7D,
            O7D,
            v7D;
            if (this.updatingChart) {
                return;
            }
            if (this.loadingNewChart) {
                return;
            }
            B7D = J.objLength(this.stx.charts);
            function r3D(l3D, w3D, n3D) {
                var m5F;
                m5F = "u";
                m5F += "pdateCh";
                m5F += "ar";
                m5F += "t";
                if (l3D.behavior.prefetchAction) {
                    l3D.behavior.prefetchAction(m5F);
                }
                return function (y3D) {
                    var k3D,
                    S3D,
                    Q8B,
                    n8B,
                    a8B;
                    N7D++;
                    if (n3D == w3D.chart.symbol && X7D == l3D.stx.layout.interval && U7D == l3D.stx.layout.timeUnit) {
                        if (!y3D.error && y3D.error !== 0) {
                            k3D = ![];
                            if (!w3D.missingBarsCreated) {
                                if (w3D.chart.masterData && w3D.chart.masterData.length && y3D.quotes && y3D.quotes.length > 0) {
                                    O4z.o3f(89);
                                    var D6e = O4z.J3f(379, 20, 19);
                                    S3D = w3D.chart.masterData[w3D.chart.masterData.length - D6e];
                                    if (y3D.quotes[0].DT && S3D.DT < y3D.quotes[0].DT || y3D.quotes["0" & 2147483647].Date && S3D.Date < y3D.quotes[0].Date) {
                                        y3D.quotes.unshift(S3D);
                                        k3D = !!1; ;
                                    }
                                }
                                y3D.quotes = l3D.stx.doCleanupGaps(y3D.quotes, w3D.chart);
                                if (k3D) {
                                    y3D.quotes.shift();
                                }
                            }
                            l3D.stx.appendMasterData(y3D.quotes, w3D.chart, {
                                noCreateDataSet: !!1
                            });
                            w3D.chart.attribution = y3D.attribution;
                        } else {
                            l3D.quoteFeed.announceError(w3D.originalState, y3D);
                        }
                    } else {
                        return;
                    }
                    if (N7D == B7D) {
                        O4z.s3f(8);
                        Q8B = O4z.S3f(0, "1011109959");
                        n8B = -464389044;
                        a8B = 2;
                        for (var X8B = "1" & 2147483647; O4z.s2B(X8B.toString(), X8B.toString().length, 54947) !== Q8B; X8B++) {
                            l3D.updatingChart = !![];
                            a8B += 2;
                        }
                        if (O4z.h2B(a8B.toString(), a8B.toString().length, 13382) !== n8B) {
                            l3D.updatingChart = !{};
                        }
                    }
                    l3D.executeTagAlongs(w3D);
                    if (l3D.behavior.callback) {
                        l3D.behavior.callback(w3D);
                    }
                    l3D.loadDependents(w3D); ;
                };
            }
            N7D = 0;
            X7D = this.stx.layout.interval;
            U7D = this.stx.layout.timeUnit;
            for (var z7D in this.stx.charts) {
                h7D = this.stx.charts[z7D];
                if (!h7D.symbol)
                    continue;
                O7D = this.makeParams(h7D.symbol, h7D.symbolObject, h7D);
                if (h7D.masterData && h7D.masterData.length) {
                    O7D.startDate = h7D.masterData[h7D.masterData.length - 1].DT;
                }
                O7D.update = !!"1";
                O7D.originalState = J.shallowClone(O7D);
                this.updatingChart = !![];
                v7D = r3D(this, O7D, h7D.symbol);
                if (this.stx.isEquationChart(O7D.symbol)) {
                    J.fetchEquationChart(O7D, v7D);
                } else {
                    this.quoteFeed.fetch(O7D, v7D);
                }
            }
        };
        H.Driver.prototype.updateChartLoop = function () {
            if (this.behavior.noUpdate) {
                return;
            }
            if (this.behavior.refreshInterval) {
                this.intervalTimer = window.setInterval(Z3D(this), this.behavior.refreshInterval * 1000);
            }
            function Z3D(H3D) {
                O4z.i4z();
                return function () {
                    if (H3D.behavior.noUpdate) {
                        return;
                    }
                    O4z.a4z();
                    H3D.updateChart();
                };
            }
        };
        H.Driver.prototype.resetRefreshInterval = function (t3D) {
            if (this.intervalTimer) {
                window.clearInterval(this.intervalTimer);
            }
            this.behavior.refreshInterval = t3D;
            this.updateChartLoop(); ;
        };
        H.Driver.prototype.loadAll = function (J3D, F3D) {
            var s3D,
            M3D;
            function P3D() {
                O4z.i4z();
                return function (W3D) {
                    O4z.a4z();
                    if (W3D) {
                        F3D(W3D);
                    } else if (!J3D.moreAvailable) {
                        F3D(null);
                    } else if (M3D++ > 20) {
                        F3D("error, moreAvailable not implemented correctly in QuoteFeed");
                    } else {
                        s3D.checkLoadMore(J3D, !![], !![], P3D());
                    }
                };
            }
            s3D = this;
            M3D = 0;
            O4z.a4z();
            this.checkLoadMore(J3D, !!{}, !![], P3D());
        };
        H.Driver.prototype.checkLoadMore = function (C3D, A3D, R3D, e3D, p3D) {
            var o3D,
            I3D,
            Y3D,
            E3D,
            D3D;
            if (!C3D.moreAvailable) {
                if (e3D) {
                    e3D();
                }
                return;
            }
            o3D = this.stx.layout.interval;
            function T3D(L3D, f3D) {
                O4z.i4z();
                var x5F;
                x5F = "checkL";
                x5F += "oadMore";
                if (L3D.behavior.prefetchAction) {
                    L3D.behavior.prefetchAction(x5F);
                }
                return function (V3D) {
                    var K3D;
                    O4z.i4z();
                    if (f3D.symbol == f3D.chart.symbol && o3D == L3D.stx.layout.interval && I3D == L3D.stx.layout.timeUnit) {
                        if (!f3D.loadMore) {
                            f3D.chart.loadingMore = ![];
                        }
                        if (!V3D.error && V3D.error !== 0) {
                            if (!f3D.missingBarsCreated) {
                                V3D.quotes.push(f3D.chart.masterData[0]);
                                V3D.quotes = L3D.stx.doCleanupGaps(V3D.quotes, f3D.chart);
                                V3D.quotes.pop(); ;
                            }
                            f3D.chart.moreAvailable = V3D.moreAvailable;
                            K3D = f3D.loadMoreReplace ? V3D.quotes : V3D.quotes.concat(f3D.chart.masterData);
                            L3D.stx.setMasterData(K3D, f3D.chart);
                            L3D.stx.createDataSet();
                            if (!p3D) {
                                L3D.stx.draw();
                            }
                            f3D.startDate = f3D.chart.masterData[0].DT;
                            L3D.executeTagAlongs(f3D);
                            if (L3D.behavior.callback) {
                                L3D.behavior.callback(f3D);
                            }
                            L3D.loadDependents(f3D);
                        } else {
                            L3D.quoteFeed.announceError(f3D.originalState, V3D);
                        }
                        f3D.chart.loadingMore = !"1";
                        if (e3D) {
                            e3D(null);
                        }
                    } else {
                        return;
                    }
                };
            }
            I3D = this.stx.layout.timeUnit;
            Y3D = C3D.loadingMore;
            if (!this.behavior.noLoadMore) {
                if (!this.stx.maxDataSetSize || C3D.dataSet.length < this.stx.maxDataSetSize) {
                    if (C3D.dataSet.length > 0 && C3D.scroll >= C3D.dataSet.length || A3D) {
                        if (!C3D.loadingMore) {
                            C3D.initialScroll = C3D.scroll;
                            C3D.loadingMore = !!"1";
                            E3D = this.makeParams(C3D.symbol, C3D.symbolObject, C3D);
                            E3D.endDate = C3D.masterData[0].DT;
                            E3D.originalState = J.shallowClone(E3D);
                            E3D.nodraw = p3D;
                            if (this.stx.fetchMaximumBars[this.stx.layout.aggregationType]) {
                                R3D = !!"1";
                            }
                            if (R3D) {
                                E3D.fetchMaximumBars = !0;
                                O4z.s3f(17);
                                E3D.ticks = Math.max(O4z.J3f("20000", 0), E3D.ticks);
                            }
                            D3D = T3D(this, E3D);
                            if (this.stx.isEquationChart(E3D.symbol)) {
                                J.fetchEquationChart(E3D, D3D);
                            } else {
                                this.quoteFeed.fetch(E3D, D3D);
                            }
                            Y3D = !!"1";
                        }
                    }
                }
            }
            if (C3D.loadingMore) {
                C3D.initialScroll = C3D.scroll;
            }
            if (!Y3D && e3D) {
                e3D(null);
            }
        };
        H.Driver.prototype.barsToFetch = function (b3D) {
            var I5F,
            Q3D,
            c3D,
            i3D;
            I5F = "we";
            I5F += "e";
            I5F += "k";
            if (b3D.isSeries) {
                return b3D.stx.masterData.length;
            }
            Q3D = this.stx.layout.interval;
            c3D = b3D.stx.layout.periodicity;
            if ((Q3D == "month" || Q3D == I5F) && !this.stx.dontRoll) {
                c3D *= Q3D == "week" ? 7 : 30;
            }
            i3D = b3D.stx.chart.maxTicks * c3D;
            return i3D;
        };
        H.Driver.prototype.makeParams = function (m3D, d3D, G3D) {
            var x3D,
            q3D,
            u3D,
            N5F;
            x3D = this.stx.layout.interval;
            q3D = this.barsToFetch({
                stx: this.stx
            });
            O4z.i4z();
            if ((x3D == "month" || x3D == "week") && !this.stx.dontRoll) {
                x3D = "day";
            }
            u3D = J.shallowClone(this.behavior);
            J.extend(u3D, {
                stx: this.stx,
                symbol: m3D,
                symbolObject: d3D,
                chart: G3D,
                interval: x3D,
                extended: this.stx.layout.extended,
                period: 1,
                feed: "delayed",
                ticks: q3D
            }, !0);
            if (!u3D.symbolObject) {
                u3D.symbolObject = {
                    symbol: m3D
                };
            }
            if (!isNaN(u3D.interval)) {
                N5F = "min";
                N5F += "ute";
                u3D.period = u3D.interval;
                u3D.interval = this.stx.layout.timeUnit;
                if (!u3D.interval) {
                    u3D.interval = N5F;
                }
            }
            if (u3D.pts) {
                u3D.ticks = Math.max(u3D.ticks, "1000" * 1);
            }
            return u3D;
        };
        H.Driver.prototype.newChart = function (a3D, h3D) {
            var g3D,
            N3D,
            B3D,
            X3D,
            O3D,
            j3D,
            v3D;
            function U3D(r6D, z3D) {
                var v5F;
                v5F = "newC";
                v5F += "ha";
                v5F += "r";
                v5F += "t";
                if (r6D.behavior.prefetchAction) {
                    r6D.behavior.prefetchAction(v5F);
                }
                return function (w6D) {
                    if (N3D == z3D.chart.symbol && B3D == g3D.layout.interval && X3D == g3D.layout.timeUnit) {
                        if (!w6D.error && w6D.error !== 0) {
                            if (!z3D.missingBarsCreated) {
                                w6D.quotes = g3D.doCleanupGaps(w6D.quotes, a3D.chart);
                            }
                            g3D.setMasterData(w6D.quotes, z3D.chart);
                            z3D.chart.moreAvailable = w6D.moreAvailable;
                            z3D.chart.attribution = w6D.attribution;
                            g3D.createDataSet();
                            if (a3D.initializeChart) {
                                g3D.initializeChart();
                            }
                            if (!z3D.nodraw) {
                                g3D.home();
                            };
                        } else {
                            r6D.quoteFeed.announceError(z3D.originalState, w6D);
                        }
                    } else {
                        if (h3D) {
                            h3D("orphaned");
                        }
                        return;
                    }
                    r6D.loadingNewChart = !1;
                    if (h3D) {
                        h3D(w6D.error);
                    }
                    if (z3D.chart.masterData && z3D.chart.masterData.length) {
                        z3D.startDate = z3D.chart.masterData[ + "0"].DT;
                    }
                    r6D.executeTagAlongs(z3D);
                    O4z.i4z();
                    if (r6D.behavior.callback) {
                        r6D.behavior.callback(z3D);
                    }
                    r6D.loadDependents(z3D);
                    r6D.resetRefreshInterval(r6D.behavior.refreshInterval);
                };
            }
            g3D = this.stx;
            N3D = a3D.symbol;
            B3D = g3D.layout.interval;
            X3D = g3D.layout.timeUnit;
            O3D = a3D.chart;
            O3D.moreAvailable = !1;
            O3D.attribution = null;
            j3D = this.makeParams(N3D, a3D.symbolObject, O3D);
            J.extend(j3D, a3D, !!{});
            if (g3D.fetchMaximumBars[g3D.layout.aggregationType]) {
                j3D.ticks = Math.max(20000, j3D.ticks);
                j3D.fetchMaximumBars = !!{};
            }
            this.loadingNewChart = !!"1";
            this.updatingChart = !{};
            j3D.originalState = J.shallowClone(j3D);
            v3D = U3D(this, j3D);
            if (this.stx.isEquationChart(j3D.symbol)) {
                J.fetchEquationChart(j3D, v3D);
            } else {
                this.quoteFeed.fetch(j3D, v3D);
            }
        };
        H.prototype.attachQuoteFeed = function (n6D, l6D) {
            if (!l6D) {
                l6D = {};
            }
            if (this.quoteDriver) {
                this.quoteDriver.die();
            }
            O4z.i4z();
            this.quoteDriver = new H.Driver(this, n6D, l6D);
        };
        H.prototype.attachTagAlongQuoteFeed = function (y6D) {
            var r5F;
            if (!y6D.label) {
                r5F = "Attempt to";
                r5F += " attachTagAlongQuoteFeed without assigning a label";
                console.log(r5F);
                return;
            }
            this.quoteDriver.attachTagAlongQuoteFeed(y6D);
        };
        H.prototype.detachTagAlongQuoteFeed = function (S6D) {
            this.quoteDriver.detachTagAlongQuoteFeed(S6D);
        };
        J.Comparison = function () {};
        J.Comparison.mouseHasMoved = !!0;
        J.Comparison.priceToPercent = function (Z6D, H6D, k6D) {
            O4z.o3f(124);
            var w6e = O4z.J3f(277, 8, 96, 1100);
            return Math.round((k6D - J.Comparison.baseline) / J.Comparison.baseline * w6e *  + "10000") /  + "10000";
        };
        J.Comparison.percentToPrice = function (J6D, F6D, t6D) {
            O4z.o3f(0);
            var y6e = O4z.S3f(0, 1);
            return J.Comparison.baseline * (y6e + t6D /  + "100");
        };
        J.Comparison.stopSort = function (s6D, M6D) {
            O4z.o3f(17);
            return O4z.J3f(s6D, M6D);
        };
        J.Comparison.createComparisonSegmentInner = function (e6D, Y6D) {
            var B5F,
            o6D,
            W6D,
            K6D,
            R6D,
            f6D,
            u6D,
            L6D,
            I6D,
            D6D,
            T6D,
            b6D,
            P6D,
            C6D,
            V6D,
            E6D,
            Q6D,
            c6D,
            i6D,
            p6D,
            A6D;
            B5F = "iqP";
            B5F += "rev";
            B5F += "Close";
            o6D = [];
            for (W6D in Y6D.series) {
                if (Y6D.series[W6D].parameters.isComparison) {
                    o6D.push(W6D);
                }
            }
            K6D = ["Close", "Open", "High", "Low", B5F];
            Y6D.dataSegment = [];
            R6D = null;
            f6D = Y6D.dataSet.length - Y6D.scroll;
            u6D = f6D + Y6D.maxTicks;
            L6D = 0;
            I6D = [];
            for (D6D = 0; D6D < e6D.drawingObjects.length; D6D++) {
                T6D = e6D.drawingObjects[D6D];
                if (T6D.name == "comparison_stop")
                    if (T6D.tick > f6D && T6D.tick <= u6D) {
                        I6D.push(T6D.tick);
                    }
            }
            I6D.sort(J.Comparison.stopSort);
            O4z.o3f(27);
            var C6e = O4z.J3f(17, 17, 3);
            b6D = Y6D.maxTicks + C6e;
            for (D6D = "0" | 0; D6D <= b6D; D6D++) {
                if (D6D == b6D) {
                    D6D = -1;
                }
                O4z.s3f(0);
                position = O4z.J3f(f6D, D6D);
                if (position < Y6D.dataSet.length && position >= 0) {
                    P6D = Y6D.dataSet[position];
                    if (!R6D) {
                        R6D = J.clone(P6D);
                    }
                    if (!P6D.transform) {
                        P6D.transform = {
                            "cache": {},
                            "DT": P6D.DT,
                            "Date": P6D.Date
                        };
                    }
                    J.Comparison.baseline = R6D.Close;
                    for (C6D = 0; C6D < K6D.length; C6D++) {
                        W6D = K6D[C6D];
                        if (P6D[W6D] || P6D[W6D] === 0) {
                            O4z.s3f(70);
                            var k6e = O4z.S3f(10, 5, 13, 85, 17);
                            O4z.s3f(125);
                            var f6e = O4z.S3f(8447, 5, 16, 2895, 563);
                            O4z.o3f(89);
                            var m6e = O4z.S3f(270000, 2, 140000);
                            P6D.transform[W6D] = Math.round((P6D[W6D] - J.Comparison.baseline) / J.Comparison.baseline * k6e * ("10000" | f6e)) / m6e;
                        };
                    }
                    V6D = e6D.layout.studies;
                    if (V6D) {
                        for (var x6D in V6D) {
                            E6D = V6D[x6D];
                            if (!e6D.panels[E6D.panel] || e6D.panels[E6D.panel].name != E6D.chart.name)
                                continue;
                            for (W6D in E6D.outputMap) {
                                if (P6D[W6D] || P6D[W6D] === 0) {
                                    O4z.s3f(126);
                                    var x6e = O4z.S3f(140138, 12, 15, 10010);
                                    P6D.transform[W6D] = Math.round((P6D[W6D] - J.Comparison.baseline) / J.Comparison.baseline *  + "100" * ("10000" ^ 0)) / x6e;
                                };
                            }
                            if (E6D.referenceOutput && (P6D[E6D.referenceOutput + ((208.36, 8590) === 472.04 ? 6.49e+3 : " ") + E6D.name] || P6D[E6D.referenceOutput + (886.35 === (613.11, 765.15) ? (!"",  + "1.11e+3") : " ") + E6D.name] === 0)) {
                                O4z.o3f(97);
                                var I6e = O4z.S3f(12, 11, 437, 4519);
                                O4z.o3f(76);
                                var N6e = O4z.S3f(9994, 11676, 14);
                                O4z.o3f(9);
                                var v6e = O4z.J3f(16, 0, 571);
                                O4z.o3f(17);
                                var r6e = O4z.S3f(25650, 23085);
                                O4z.o3f(17);
                                var B6e = O4z.S3f(133110, 125280);
                                O4z.o3f(107);
                                var g6e = O4z.J3f(1027, 1, 148, 1003, 9);
                                O4z.o3f(127);
                                var H6e = O4z.S3f(6, 3, 150, 2256);
                                O4z.s3f(17);
                                var O6e = O4z.J3f(22584, 19761);
                                O4z.o3f(128);
                                var G6e = O4z.S3f(90, 11, 8, 1802, 5);
                                O4z.o3f(61);
                                var h6e = O4z.J3f(10, 13, 20, 83);
                                O4z.o3f(33);
                                var s6e = O4z.S3f(18, 7530, 12, 2500);
                                O4z.s3f(2);
                                var R6e = O4z.J3f(1667, 9994, 10002);
                                P6D.transform[E6D.referenceOutput + ((I6e, 183.23) >= (N6e, v6e) ? ( + "7.66e+3", "v") : r6e <= B6e ? " " : g6e === (H6e, O6e) ? G6e : !{}) + E6D.name] = Math.round((P6D[E6D.referenceOutput + " " + E6D.name] - J.Comparison.baseline) / J.Comparison.baseline * h6e * s6e) / R6e;
                            };
                        }
                    }
                    for (C6D in e6D.plugins) {
                        Q6D = e6D.plugins[C6D];
                        if (!Q6D.transformOutputs)
                            continue;
                        for (W6D in Q6D.transformOutputs) {
                            if (P6D[W6D] || P6D[W6D] === 0) {
                                O4z.o3f(129);
                                var o6e = O4z.J3f(3100, 16, 2000, 10);
                                O4z.o3f(130);
                                var p6e = O4z.S3f(14, 10, 130154, 17, 10004);
                                O4z.s3f(131);
                                var t6e = O4z.J3f(2390408, 200000, 15, 12, 19);
                                P6D.transform[W6D] = Math.round((P6D[W6D] - J.Comparison.baseline) / J.Comparison.baseline * o6e * p6e) / t6e;
                            };
                        }
                    }
                    c6D = !{};
                    if (I6D && L6D < I6D.length) {
                        if (position === I6D[L6D]) {
                            c6D = !!{};
                            L6D++;
                        }
                    }
                    i6D = null;
                    if (e6D.activeDrawing && e6D.activeDrawing.name == "comparison_stop") {
                        i6D = e6D.activeDrawing.tick;
                    }
                    if (c6D || position == i6D) {
                        for (C6D = 0; C6D < o6D.length; C6D++) {
                            W6D = o6D[C6D];
                            p6D = P6D[W6D];
                            O4z.o3f(9);
                            var F6e = O4z.S3f(15, 29, 15);
                            R6D[W6D] = p6D / (F6e + P6D.transform.Close / ("100" ^ 0));
                        }
                    }
                    for (C6D = 0; C6D < o6D.length; C6D++) {
                        W6D = o6D[C6D];
                        p6D = P6D[W6D];
                        if (p6D || p6D ===  + "0") {
                            A6D = R6D[W6D];
                            if (!A6D && A6D !== 0) {
                                O4z.s3f(36);
                                var c6e = O4z.S3f(20, 19, 0);
                                O4z.s3f(26);
                                var V6e = O4z.S3f(56, 10, 15, 6);
                                R6D[W6D] = A6D = p6D / (c6e + P6D.transform.Close / V6e);
                            }
                            O4z.s3f(132);
                            var P6e = O4z.S3f(68, 14, 14, 14, 18);
                            O4z.o3f(5);
                            var e6e = O4z.S3f(10, 99967, 10007, 11);
                            O4z.s3f(17);
                            var L6e = O4z.J3f(90000, 80000);
                            P6D.transform[W6D] = Math.round((p6D - A6D) / A6D * P6e * e6e) / L6e;
                        }
                    }
                    Y6D.dataSegment.push(P6D);
                } else if (position < 0) {
                    Y6D.dataSegment.push(null);
                }
                if (D6D < 0)
                    break; ;
            }
            e6D.clearPixelCache();
            return !!{};
        };
        J.Comparison.createComparisonSegment = function () {
            var m6D;
            for (var q6D in this.charts) {
                m6D = this.charts[q6D];
                if (m6D.isComparison) {
                    J.Comparison.createComparisonSegmentInner(this, m6D);
                }
            }
        };
        J.Comparison.priceFormat = function (g6D, j6D, d6D) {
            var G6D;
            if (d6D === null || typeof d6D == "undefined") {
                return "";
            }
            G6D = j6D.yAxis.priceTick;
            if (g6D.internationalizer) {
                if (G6D >= 1) {
                    O4z.s3f(18);
                    d6D = g6D.internationalizer.percent0.format(O4z.S3f(d6D, "100", 0));
                } else if (G6D >= 0.1) {
                    O4z.o3f(23);
                    d6D = g6D.internationalizer.percent1.format(O4z.S3f(d6D, 100));
                } else if (G6D >= 0.01) {
                    O4z.o3f(23);
                    d6D = g6D.internationalizer.percent2.format(O4z.S3f(d6D, 100));
                } else if (G6D >= 0.001) {
                    O4z.o3f(23);
                    d6D = g6D.internationalizer.percent3.format(O4z.J3f(d6D, 100));
                } else {
                    d6D = g6D.internationalizer.percent4.format(d6D);
                }
            } else {
                if (G6D >= 1) {
                    O4z.o3f(133);
                    var M6e = O4z.J3f(22890, 1, 11, 3, 65433);
                    O4z.o3f(88);
                    var j6e = O4z.S3f(1, 55, 55, 996);
                    O4z.o3f(17);
                    var J6e = O4z.S3f(24972040320, 23723438304);
                    O4z.o3f(9);
                    var Y6e = O4z.J3f(19, 14, 1105);
                    O4z.s3f(134);
                    var E6e = O4z.S3f(1, 7, 575, 3);
                    O4z.s3f(9);
                    var z6e = O4z.S3f(6, 12, 1346);
                    O4z.s3f(41);
                    var Q6e = O4z.J3f(4, 792, 19, 11963, 4);
                    d6D = d6D.toFixed(0) + (M6e == 941.5 ?  + "8342" === (664.96, 5841) ? (j6e, "4.27e+3" >> J6e) : (Y6e, E6e) === (842.74, z6e) ? Q6e : 544.97 : "%");
                } else if (G6D >= 0.1) {
                    O4z.o3f(89);
                    var n6e = O4z.S3f(32, 11, 3);
                    O4z.o3f(0);
                    var a6e = O4z.S3f(543, 1627);
                    O4z.o3f(2);
                    var S6e = O4z.J3f(1, 9, 3143);
                    O4z.s3f(91);
                    var X6e = O4z.J3f(1305, 2, 2610, 2, 2590);
                    d6D = d6D.toFixed(n6e) + ((a6e, S6e) == (584.43, 232.36) ? X6e : "%");
                } else if (G6D >= 0.01) {
                    O4z.s3f(74);
                    var d6e = O4z.S3f(9, 97300, 6, 158460);
                    O4z.o3f(2);
                    var T6e = O4z.J3f(5, 1188, 110);
                    O4z.o3f(74);
                    var K3e = O4z.S3f(9, 8872, 18, 8889);
                    O4z.s3f(38);
                    var W3e = O4z.J3f(10, 6);
                    d6D = d6D.toFixed( + "2") + ("685.97" - 0 != ( + "2620", d6e) ? (691.09, T6e) !== K3e ? "%" : 117.52 : ("E", "1.54e+3" | W3e));
                } else if (G6D >= 0.001) {
                    O4z.o3f(125);
                    var b3e = O4z.S3f(1122002654, 4, 20, 2244005342, 1122002651);
                    d6D = d6D.toFixed("3" << b3e) + "%";
                } else {
                    O4z.o3f(68);
                    var q3e = O4z.J3f(44, 20, 2);
                    d6D = d6D.toFixed(q3e) + "%";
                }
            }
            if (parseFloat(d6D) === 0 && d6D.charAt( + "0") == (( + "1210", 2400) < (4986, 450) ? (3770, 563.8) !== (355.11,  + "112") ? ( + "2350", 6327) > (759.06, 6367) ? ("I", !!"") : 65.30 : (0x311, 0x1751) : "-")) {
                d6D = d6D.substring(1);
            }
            return d6D;
        };
        J.Comparison.correlate = function (a6D, N6D) {
            var O5F,
            H5F,
            g5F,
            O6D,
            h6D,
            v6D,
            B6D,
            r0D,
            l0D;
            O5F = "co";
            O5F += "rrel";
            H5F = " ";
            H5F += "(";
            g5F = ".";
            g5F += "stxCorrelate ";
            g5F += ".stx-input-f";
            g5F += "ield";
            if (!J.Comparison.requestCorrelation || O6D <= 0) {
                return;
            }
            O6D = parseInt(F(g5F).value,  + "10");
            O4z.o3f(95);
            var i3e = O4z.S3f(861533, 3247, 14, 4, 19);
            O4z.o3f(5);
            var Z3e = O4z.S3f(3, 92770, 7138, 14);
            O4z.o3f(76);
            var u3e = O4z.J3f(5, 275, 8);
            h6D = a6D.panels[J.Comparison.correlationPanel + " (" + O6D + ((i3e, 505.81) == (Z3e, u3e) ? "D" : ")")];
            v6D = {
                "id": J.Comparison.correlationPanel + H5F + O6D + ((4380, 8836) != 660 ? 75.41 < 223 ? ")" : ![] : !1),
                "Period": O6D,
                "Compare To": []
            };
            B6D = {};
            r0D = null;
            if (h6D) {
                for (var X6D = 0; X6D < a6D.layout.studies[h6D.name].inputs["Compare To"].length; X6D++) {
                    v6D["Compare To"].push(a6D.layout.studies[h6D.name].inputs["Compare To"][X6D]);
                }
                for (var w0D in a6D.layout.studies[h6D.name].outputs) {
                    B6D[w0D] = a6D.layout.studies[h6D.name].outputs[w0D];
                }
                r0D = h6D.name;
            }
            v6D["Compare To"].push(N6D);
            O4z.s3f(0);
            B6D[O4z.S3f("Result ", N6D)] = J.Comparison.colorSelection;
            J.Studies.addStudy(a6D, O5F, v6D, B6D, null, r0D);
            for (var U6D in a6D.panels) {
                if (a6D.panels[U6D].name.indexOf(J.Comparison.correlationPanel) === "0" >> 252429408) {
                    l0D = a6D.layout.studies[a6D.panels[U6D].name].inputs["Compare To"];
                    for (var z6D = "0" << 90399136; z6D < l0D.length; z6D++) {
                        if (l0D[z6D] == N6D) {
                            O4z.o3f(0);
                            a6D.layout.studies[a6D.panels[U6D].name].outputs[O4z.S3f("Result ", N6D)] = J.Comparison.colorSelection;
                        }
                    }
                }
            }
        };
        J.Comparison.toggleCorrelate = function (y0D) {
            var n0D;
            J.Comparison.requestCorrelation = !J.Comparison.requestCorrelation;
            n0D = F(".stxCorrelate .stx-checkbox");
            O4z.i4z();
            if (n0D) {
                J.unappendClassName(n0D, (!J.Comparison.requestCorrelation).toString());
                J.appendClassName(n0D, J.Comparison.requestCorrelation.toString());
            }
        };
        H.prototype.setComparison = function (k0D, S0D) {
            if (!S0D) {
                S0D = this.chart;
            }
            if (typeof S0D == "string") {
                S0D = this.charts[S0D];
            }
            if (!S0D.isComparison && k0D) {
                this.setTransform(S0D, J.Comparison.priceToPercent, J.Comparison.percentToPrice);
                S0D.panel.yAxis.priceFormatter = J.Comparison.priceFormat;
                S0D.panel.yAxis.whichSet = "dataSegment";
            } else if (S0D.isComparison && !k0D) {
                this.unsetTransform(S0D);
                S0D.panel.yAxis.priceFormatter = null;
                S0D.panel.yAxis.whichSet = "dataSet";
            }
            S0D.isComparison = k0D;
        };
        J.Comparison.startPlugin = function () {
            O4z.a4z();
            H.prototype.prepend("createDataSegment", J.Comparison.createComparisonSegment);
        };
        J.Comparison.removeSeries = function (Z0D, H0D) {};
        J.SearchableWordList = function (e0D, W0D, Y0D) {
            var t0D,
            J0D,
            P0D,
            F0D,
            s0D,
            M0D;
            if (!e0D) {
                return;
            }
            if (!W0D) {
                W0D = 50;
            }
            if (!Y0D) {
                Y0D = !!0;
            }
            t0D = {
                "records": [],
                "words": []
            };
            for (var C0D = 0; C0D < e0D.length; C0D++) {
                J0D = e0D[C0D];
                if (!J0D.name) {
                    J0D.name = J0D.id;
                }
                O4z.s3f(135);
                var A3e = O4z.J3f(8, 14, 14, 16, 10);
                J0D.index = t0D.records.push(J0D) - A3e;
                P0D = J0D.name.split((5120, 18.62) !== 353.85 ? (156.84, "1808" * 1) == 7020 ? ("3.17e+3" - 0, 0x163e) : " " : (770.28, 0xb48));
                if (J0D.keywords) {
                    P0D = P0D.concat(J0D.keywords.split((3230, 1100) === (7690, 5060) ? (![], !1) : (303, 566.51) <=  + "6503" ? ("5470" * 1, 5068) >= 9544 ? 9.31e+3 : " " : (424.35, "F")));
                }
                for (var E0D = 0; E0D < P0D.length; E0D++) {
                    F0D = P0D[E0D].toUpperCase();
                    s0D = "_";
                    M0D = 8682 != (526, 6194) ? "_" : (!1, 619.93);
                    if (F0D.charCodeAt(0) >= 33 && F0D.charCodeAt( + "0") <= 126) {
                        s0D = F0D.charAt(0);
                    }
                    if (!t0D.words[s0D]) {
                        t0D.words[s0D] = [];
                    }
                    if (F0D.length > 1) {
                        if (F0D.charCodeAt(1) >= 33 && F0D.charCodeAt(1) <= 126) {
                            M0D = F0D.charAt(1);
                        }
                    } else {
                        M0D = 690.08 < (9017, 746.93) ? " " : 0x110d;
                    }
                    if (!t0D.words[s0D][M0D]) {
                        t0D.words[s0D][M0D] = [];
                    }
                    t0D.words[s0D][M0D].push({
                        index: J0D.index,
                        word: F0D
                    });
                }
            }
            this.lookup = function (a0D, i0D, h0D) {
                var R0D,
                L0D,
                Q0D,
                A0D,
                I0D,
                D0D,
                d0D,
                G0D,
                g0D,
                V0D,
                T0D,
                K0D,
                p0D,
                o0D,
                c0D,
                j0D;
                O4z.a4z();
                R0D = [];
                function N0D(z0D, r2D) {
                    O4z.a4z();
                    var l2D,
                    n2D,
                    y2D;
                    z0D.weight = 0;
                    O4z.o3f(58);
                    r2D.weight = O4z.S3f("0", 0);
                    for (var w2D =  + "0"; w2D < V0D.length; w2D++) {
                        l2D = V0D[w2D].toUpperCase();
                        n2D = z0D.name.toUpperCase().indexOf(l2D);
                        y2D = r2D.name.toUpperCase().indexOf(l2D);
                        if (n2D == -1) {
                            return 1;
                        } else if (y2D == -1) {
                            O4z.o3f(19);
                            return -O4z.S3f(197472576, "1");
                        }
                        z0D.weight += n2D;
                        r2D.weight += y2D;
                    }
                    if (z0D.weight > r2D.weight) {
                        O4z.o3f(20);
                        return O4z.J3f(2147483647, "1");
                    } else if (z0D.weight < r2D.weight) {
                        return -1;
                    }
                    return z0D.name > r2D.name ? 1 : -1;
                }
                if (a0D && t0D) {
                    L0D = [];
                    Q0D = a0D.toUpperCase();
                    A0D = [];
                    for (I0D = 0; I0D < t0D.records.length; I0D++) {
                        D0D = t0D.records[I0D];
                        if (L0D[D0D.index])
                            continue;
                        if (i0D && D0D.category != i0D)
                            continue;
                        d0D = D0D.name.toUpperCase();
                        if (Q0D == "*") {
                            A0D.push(J.extend(t0D.records[D0D.index], {
                                    weight: 0
                                }));
                            L0D[D0D.index] = !!1;
                        } else {
                            G0D = d0D.indexOf(Q0D);
                            if (G0D > -1) {
                                g0D = d0D.length - Q0D.length;
                                if (!Y0D && G0D > "0" >> 1479133056)
                                    continue;
                                (g0D ? R0D : A0D).push(J.extend(t0D.records[D0D.index], {
                                        weight: g0D
                                    }));
                                L0D[D0D.index] = !!{};
                            }
                        }
                    }
                    V0D = Q0D.split((140.9, 2920) != 8520 ? (428.49, 163.89) < ("3300" - 0, 95) ? (6.89e+2, "Q") : " " : (!!"", 275.76));
                    T0D = 990.97 > 9942 ? "j" : 528.8 >= 3860 ? 0x105c : "_";
                    K0D = (794.77, 9888) > 8518 ? "_" : 8810 >= (699,  + "650") ? (0x16b3, 0x23a2) : 4.83e+3;
                    p0D = V0D[0].toUpperCase();
                    o0D = [];
                    if (p0D.charCodeAt(0) >= 33 && p0D.charCodeAt(0) <= 126) {
                        T0D = p0D.charAt(0);
                    }
                    if (p0D.length > 1) {
                        if (p0D.charCodeAt("1" & 2147483647) >= 33 && p0D.charCodeAt(1) <= 126) {
                            K0D = p0D.charAt(1);
                        }
                    } else {
                        K0D = " ";
                    }
                    if (t0D.words[T0D]) {
                        for (var b0D in t0D.words[T0D]) {
                            if (b0D.length > 1)
                                continue;
                            if (K0D != (2403 !== 36.14 ? 1680 == ("8379" << 1428387616, 7874) ? ("a", "D") : (5430, 546.3) === 1910 ? "I" : " " : 845.59)) {
                                b0D = K0D;
                            }
                            for (I0D = 0; t0D.words[T0D][b0D] && I0D < t0D.words[T0D][b0D].length; I0D++) {
                                D0D = t0D.words[T0D][b0D][I0D];
                                if (D0D.word.toUpperCase().indexOf(p0D) !== 0)
                                    continue;
                                if (L0D[D0D.index])
                                    continue;
                                if (i0D && t0D.records[D0D.index].category != i0D)
                                    continue;
                                o0D.push(J.clone(t0D.records[D0D.index]));
                                L0D[D0D.index] = !"";
                            }
                            if (K0D != (6751 != (9352, 9470) ? (2350, 4420) <= 222 ? 6102 != (2740, 557.13) ? 0xd43 : (8.93e+3, 0x13ea) : " " : "U"))
                                break;
                        }
                    }
                    for (var u0D = 1; u0D < V0D.length; u0D++) {
                        p0D = V0D[u0D].toUpperCase();
                        for (var f0D = o0D.length - 1; f0D >= 0; f0D--) {
                            c0D = o0D[f0D].name.split(" ");
                            if (o0D[f0D].keywords) {
                                c0D = c0D.concat(o0D[f0D].keywords.split(740.27 != 212.3 ? " " : 390 != 8090 ? (0x1d23, 862) : 825.66));
                            }
                            j0D = !{};
                            for (var x0D = "0" >> 380559296; x0D < c0D.length; x0D++) {
                                if (c0D[x0D].toUpperCase().indexOf(p0D) === 0) {
                                    j0D = !!1;
                                    break;
                                }
                            }
                            if (!j0D) {
                                o0D.splice(f0D,  + "1");
                            }
                        }
                    }
                    A0D.sort(m0D);
                    A0D = q0D(A0D);
                    R0D.sort(m0D);
                    R0D = q0D(R0D);
                    R0D.length = Math.min(R0D.length, W0D);
                    o0D.sort(m0D);
                    o0D = q0D(o0D);
                    R0D = A0D.sort(O0D).concat(R0D.sort(O0D), o0D.sort(N0D));
                    R0D.length = Math.min(R0D.length, W0D);
                }
                if (h0D) {
                    h0D(R0D);
                } else {
                    return R0D;
                }
                function O0D(X0D, U0D) {
                    if (X0D.weight > U0D.weight) {
                        return 1;
                    } else if (X0D.weight < U0D.weight) {
                        return -1;
                    }
                    return X0D.name > U0D.name ? "1" >> 123568096 :  -  + "1";
                }
                function m0D(v0D, B0D) {
                    O4z.a4z();
                    if (v0D.id > B0D.id) {
                        return 1;
                    } else if (v0D.id < B0D.id) {
                        return -1;
                    }
                    return v0D.weight > B0D.weight ? 1 :  - ("1" >> 1401657632);
                }
                function q0D(k2D) {
                    var Z2D,
                    H2D;
                    O4z.i4z();
                    Z2D = [];
                    H2D = "";
                    for (var S2D = 0; S2D < k2D.length; S2D++) {
                        if (H2D == k2D[S2D].id)
                            continue;
                        Z2D.push(k2D[S2D]);
                        H2D = k2D[S2D].id;
                    }
                    return Z2D;
                }
            };
        };
        return P;
    }
})(); /* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
